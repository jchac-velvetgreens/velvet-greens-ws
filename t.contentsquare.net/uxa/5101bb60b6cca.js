var CS_CONF={"isSMB":false,"projectId":29184,"status":1,"hostnames":["olly.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":0,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":25,"validationRate":10,"lastTrackingDraw":null,"trackerDomain":"c.az.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":0,"jsErrorsEnabled":1,"customErrorsEnabled":0,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":[],"replayRecordingUnmaskedUrlRegex":null,"replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":null,"anonymisationMethod":null,"tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":1,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{"reliableSelectors":[],"uniqueAttributes":[],"uniqueCssSelectors":[]},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":0,"collectHierarchy":0,"apiErrors":{"collectStandardHeaders":0,"collectionRules":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-us1.az.contentsquare.net","malkaRecordingDomain":"k-us1.az.contentsquare.net","staticResourceManagerDomain":"srm.af.contentsquare.net","voc":{"siteId":null,"enabled":0}};

var CS_INTEGRATIONS_CONF = {"delighted":{}};
/* integration-delighted 3.0.0 */
!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-delighted-contentsquare","version":"3.0.0","scripts":{"build:snippet":"webpack"}}')},function(e){e.exports=JSON.parse('{"displayName":"Delighted","dvarPrefix":"FB_DL_","apvPrefix":"cs_delighted","replayKey":"dl"}')},function(e,n,t){"use strict";function i(e,n){try{e()}catch(e){window._uxa=window._uxa||[],_uxa.push(["logSnippetError",n,e.message])}}function r(e){return"object"==typeof e&&null!==e}function o(e,n,t){return new Promise((function(i,r){function o(r){if(r&&r.replayLink&&r.isRecording){let o="https://"+r.replayLink+"&vd="+e;if(!n&&!t){const e=new URLSearchParams(o);e.set("pvid",1);const n=e.toString();o=decodeURIComponent(n)}i(o)}}e||(e="missingFromDynamicSnippet"),t||(t=!1),_uxa.push(["onRecordingStateChange",function(e){e&&e.isRecording&&_uxa.push(["replay:link:generate",{withTimestamp:t},o])}])}))}t.r(n);const a=function(e){let n,t,r,o;if(i((function(){const i=e.name;n=e.version;const a=i.replace("@contentsquare/integration-","");t=a+"-"+n;let u="-contentsquare";o=new RegExp(u+"$").test(a),r=a.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),o||(u="-cap",o=new RegExp(u+"$").test(a),r=a.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),o)return{snippetBuildName:t,parameterName:r,snippetVersion:n}}(t(0)),u=a.parameterName,c=a.snippetBuildName,s=a.snippetVersion,d=t(1);i((function(){const e=d.displayName,n=d.dvarPrefix,t=d.apvPrefix,a=d.replayKey;window._uxa=window._uxa||[],CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(e+" - v"+s);let p=!1,f=!1,l=!1;const _=function(e,n){if(r(window.CS_INTEGRATIONS_CONF)&&r(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}(u,"settings");function w(e,t,i,r){e=n+e,_uxa.push(["trackDynamicVariable",{key:e,value:t}]),p&&"etr"===i&&_uxa.push(["trackEventTriggerRecording","@ETS@"+e]),r&&f&&_uxa.push(["trackPageview",window.location.pathname+"?"+r])}function g(e){m||(m=!0,function(e){if(o(a,l).then((function(e){p=!0,i((function(){e&&sessionStorage.setItem("ContentsquareReplay",e)}),c)})),window.addEventListener("CS_DL_Integration_OnShow",(function(e){i((function(){w("Feedback Displayed","true",0,t+"=feedback_displayed")}),c)})),window.addEventListener("CS_DL_Integration_OnRespond",(function(e){i((function(){e&&e.detail&&"number"==typeof e.detail.score&&w("Feedback Score",e.detail.score)}),c)})),window.addEventListener("CS_DL_Integration_OnComment",(function(e){i((function(){w("Feedback Submitted","true",0,t+"=feedback_submitted")}),c)})),"function"==typeof window.Event){const e=new window.Event("CS_DL_Integration_Listener");window.dispatchEvent(e)}}())}_&&(_.indexOf("sendArtificialPageviews")>-1&&(f=!0),_.indexOf("setReplayLinkToCurrentPV")>-1&&(l=!0));let m=!1;_uxa.push(["afterPageView",function(e){i((function(){g()}),c)}])}),c)}]);;
!function(){"use strict";var t={d:function(n,i){for(var r in i)t.o(i,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:i[r]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};function i(t,n){var i;return window.Zone&&"function"==typeof window.Zone.__symbol__&&(i=t[window.Zone.__symbol__(n)]),i||(i=t[n]),i}t.r(n),t.d(n,{getRequestParameters:function(){return Gc}});var r="undefined"==typeof window;var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof process?process:Function("return this")();var s="cs-native-frame",o={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function u(t,n,i){var r=function(t,n){for(var i,r=t;r&&!(i=Object.getOwnPropertyDescriptor(r,n));)r=Object.getPrototypeOf(r);return i}(t,n);if(!r)return function(){return this[n]};switch(i){case"get":return r.get;case"set":return r.set;case"value":return r.value}}function c(t){var n,r;Object.keys(o.constructors).forEach((function(n){window[o.constructors[n]]=t[n]instanceof Function&&null==t[n].prototype?t[n].bind(window):t[n]})),function(t){window.csquerySelector={1:t.Element.prototype.querySelector,9:t.Document.prototype.querySelector,11:t.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:t.Element.prototype.querySelectorAll,9:t.Document.prototype.querySelectorAll,11:t.DocumentFragment.prototype.querySelectorAll}}(t),("Prototype"in window||/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&(window.csMutationObserver=null!==(r=null!==(n=i(window,"MutationObserver"))&&void 0!==n?n:window.WebKitMutationObserver)&&void 0!==r?r:window.MutationObserver),h("csNode",o.nodeProperties,t.Node.prototype,"get"),h("csElement",o.elementProperties,t.Element.prototype,"get"),h("csElement",o.elementPropertiesValues,t.Element.prototype,"value",!1),h("csHTMLImageElement",o.imageProperties,t.HTMLImageElement.prototype,"set"),h("csEvent",o.eventProperties,t.Event.prototype,"get"),h("csNavigator",o.navigatorProperties,t.navigator,"value")}function h(t,n,i,r,e){void 0===e&&(e=!0),n.forEach((function(n){var s="string"!=typeof n&&"binding"in n,o=s?n.propertyName:n;(e||o in i)&&(window["".concat(t+o)]=u(i,o,r),s&&(window["".concat(t+o)]=window["".concat(t+o)].bind(n.binding)))}))}function a(t,n){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[t]=n}if(window.csSetTimeout=i(window,"setTimeout"),window.csQueueMicrotask=i(window,"queueMicrotask"),window.csClearTimeout=i(window,"clearTimeout"),window.csSetInterval=i(window,"setInterval"),window.csClearInterval=i(window,"clearInterval"),function(){var t,n=0;function i(t){return"cs$Symbol_"+t}function r(t){return i(t)+ ++n}r.for=i,window.csSymbol=null!==(t=window.Symbol)&&void 0!==t?t:r}(),!function(){try{var t=function(){var t=document.createElement("iframe");t.id=s,t.setAttribute("hidden",""),t.setAttribute("title","Intentionally blank"),t.setAttribute("sandbox","allow-same-origin");var n=document.createElement("cs-native-frame-holder");if(n.setAttribute("hidden",""),document.body.appendChild(n),Boolean(Element.prototype.attachShadow)){var i=n.attachShadow({mode:"closed"});return i.innerHTML=t.outerHTML,i.firstElementChild.contentWindow}return n.innerHTML=t.outerHTML,n.firstElementChild.contentWindow}();return!!t&&(window.CSPureWindow=t,c(window.CSPureWindow),!0)}catch(t){return a("Warning","failed to copy references from pure iframe: ".concat(t.message)),!1}}())try{c(e)}catch(Nu){a("Critical","failed to copy references from window: ".concat(Nu.message))}var f=function(t,n){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},f(t,n)};function l(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}f(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var v=function(){return v=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},v.apply(this,arguments)};function d(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function y(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function w(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(e=2&s[0]?r.return:s[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,s[1])).done)return e;switch(r=0,e&&(s=[2&s[0],e.value]),s[0]){case 0:case 1:e=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!e||s[1]>e[0]&&s[1]<e[3])){o.label=s[1];break}if(6===s[0]&&o.label<e[1]){o.label=e[1],e=s;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(s);break}e[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{i=e=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function p(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function g(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;function S(t){return b(csString.prototype.toLowerCase.call(t.localName))}function b(t){return csString.prototype.replace.call(t,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}function E(t){return N(t)&&("number"==typeof t||t instanceof Number)&&!isNaN(t)}function A(t){return t===parseInt(t,10)}function R(t){return N(t)&&("string"==typeof t||t instanceof csString)}function O(t){return"boolean"==typeof t}function T(t){return"object"==typeof t}function N(t){return void 0!==t}function k(t){return N(t)&&null!==t}function C(t){return"function"==typeof t}function I(t){return t instanceof Element}function M(t){return t instanceof Error}function x(t){for(var n=t.length,i=0;i<n;i++)switch(csString.prototype.charCodeAt.call(t,i)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}function P(t){return 1===t.nodeType}function _(t){return 3===t.nodeType}function D(t){return P(t)&&"link"===t.localName}function L(t){return P(t)&&"a"===t.localName}function U(t){return D(t)&&-1!==csString.prototype.indexOf.call(t.rel,"stylesheet")}function j(t){return P(t)&&"style"===t.localName}function q(t){return P(t)&&"input"===t.localName}function H(t){return P(t)&&"textarea"===t.localName}function F(t){return P(t)&&"script"===t.localName}function B(t){return P(t)&&"ownerSVGElement"in t}function V(t){return P(t)&&"select"===t.localName}function z(t){switch(t.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function G(t){return 9===t.nodeType}function J(t){return function(t){switch(t.nodeType){case 9:case 11:return!0;default:return!1}}(t)&&"host"in t&&"mode"in t}function Y(t){return P(t)&&!!csElementshadowRoot.apply(t)&&J(csElementshadowRoot.apply(t))}var W=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];var X,$,K="detached";function Q(t){for(var n=t,i=[n];null!==csNodeparentNode.apply(n);)n=csNodeparentNode.apply(n),csArray.prototype.push.call(i,n);return Z(n)&&csArray.prototype.push.call(i,K),{ancestors:i,selectionRoot:n}}function Z(t){return ft.isValidElement(t)}var tt=null!==($=null===(X=e.Element)||void 0===X?void 0:X.prototype)&&void 0!==$?$:{},nt=tt.matches||tt.matchesSelector||tt.mozMatchesSelector||tt.msMatchesSelector||tt.oMatchesSelector||tt.webkitMatchesSelector,it=tt.closest;function rt(t,n){return!!n&&csArray.prototype.some.call(n,(function(n){return nt.call(t,n)}))}var et=[/\d{4}/,/^ember\d+$/],st="data-cs-override-id",ot="data-cs-dynamic-id";function ut(t,n,i,r){var e=r.dynamicIdRegex||null,s=r.dynamicElementNameRegex,o=S(t);s&&(s.test(t.localName)&&(o=csString.prototype.replace.call(o,s,"$1".concat("@"))));if(function(t,n){var i=ct(t);return i&&csString.prototype.match.call(i,/^[\w-]+$/)&&ht(st,i,n)}(t,i)){var u=ct(t);return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"[").concat(st,'="').concat(u,'"]')}}var c=function(t,n,i){var r,e;if(!i.uniqueAttributes)return{success:!1};try{for(var s=p(i.uniqueAttributes),o=s.next();!o.done;o=s.next()){var u=o.value,c=t.getAttribute(u);if(null!==c)if(ht(u,c,n))return{attributeName:u,attributeValue:c,success:!0}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return{success:!1}}(t,i,r);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#UA[").concat(c.attributeName,'="').concat(c.attributeValue,'"]')};var h=function(t,n,i){var r,e;if(!i.uniqueCssSelectors)return;try{for(var s=p(i.uniqueCssSelectors),o=s.next();!o.done;o=s.next()){var u=o.value;if(nt.call(t,u)&&at(u,n))return u}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return}(t,i,r);if(h)return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#UCS[").concat(h,"]")};var a=function(t){var n=t.getAttribute("id");return n?b(n):n}(t);if(function(t,n,i,r){return n&&!function(t){return null!==ct(t)}(t)&&!function(t,n,i){return t.hasAttribute(ot)||function(t,n){var i=!1;t&&n&&(i=n.test(t));return t&&(csArray.prototype.some.call(et,(function(n){return n.test(t)}))||i)}(n,i)}(t,n,r)&&function(t,n){return t&&ht("id",t,n)}(n,i)}(t,a,i,e))return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#").concat(a)};var f=function(t,n){var i,r;if(!n.reliableSelectors)return;try{for(var e=p(n.reliableSelectors),s=e.next();!s.done;s=e.next()){var o=s.value;if(nt.call(t,o))return o}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return}(t,r);if(f){var l=function(t,n,i){if(t===K||9===t.nodeType)return 0;for(var r=0,e=n.previousElementSibling;e;)nt.call(e,i)&&(r+=1),e=e.previousElementSibling;return r}(n,t,f);return{hasUniqueIdentifier:!1,elementSelector:"".concat(o,"[").concat(f,"](").concat(l,")")}}var v=function(t,n,i){if(t===K||9===t.nodeType)return 0;for(var r=i.dynamicElementNameRegex,e=!!(null==r?void 0:r.test(n.localName)),s=S(n),o=0,u=n.previousElementSibling;u;)(S(u)===s||e&&(null==r?void 0:r.test(u.localName)))&&!rt(u,i.reliableSelectors)&&(o+=1),u=u.previousElementSibling;return o}(n,t,r);return{hasUniqueIdentifier:!1,elementSelector:"".concat(o,":eq(").concat(v,")")}}function ct(t){return t.getAttribute(st)}function ht(t,n,i){try{return 1===window.csquerySelectorAll[i.nodeType].call(i,"[".concat(t,'="').concat(n,'"]')).length}catch(t){if("SyntaxError"!==t.name)throw t}return!1}function at(t,n){try{return 1===window.csquerySelectorAll[n.nodeType].call(n,t).length}catch(t){if("SyntaxError"!==t.name)throw t}return!1}var ft;function lt(t,n,i){var r=csArray.prototype.shift.call(t);if(0===t.length)return vt(r,i);var e=ut(r,t[0],n,i),s=e.elementSelector,o=e.hasUniqueIdentifier;if(!i.fullPath&&o){var u=t[t.length-1];return"".concat(vt(u,i)).concat(s)}var c=lt(t,n,i);return"".concat(c?"".concat(c,">"):"").concat(s)}function vt(t,n){if(t===K)return"|detached|";if(t.host){var i=Q(t.host),r=i.ancestors,e=i.selectionRoot;return"".concat(lt(r,e,n),"|shadow-root|")}return 11===t.nodeType?"|fragment|":""}!function(t){function n(t){return!!t&&"localName"in t&&"getAttribute"in t&&"hasAttribute"in t&&"parentNode"in t}function i(t){return t&&"jquery"in t&&1===t.length?t[0]:t}t.INVALID_ELEMENT="INVALID_ELEMENT",t.isValidElement=n,t.getElementPath=function(r,e){void 0===e&&(e={fullPath:!1,dynamicIdRegex:null});var s=i(r);if(s===document)return"";if(!n(s))return t.INVALID_ELEMENT;var o=Q(s);return lt(o.ancestors,o.selectionRoot,e)},t.getElementPathAndFirstAnchorParent=function(r,e){void 0===e&&(e={fullPath:!1,dynamicIdRegex:null});var s=i(r);if(s===document)return{path:"",firstAnchorParent:null};if(!n(s))return{path:t.INVALID_ELEMENT,firstAnchorParent:null};var o=function(t){for(var n=t,i=[n],r=null;null!==csNodeparentNode.apply(n);)null===r&&L(n)&&(r=n),csArray.prototype.push.call(i,csNodeparentNode.apply(n)),n=csNodeparentNode.apply(n);return Z(n)&&csArray.prototype.push.call(i,K),{firstAnchorParent:r,ancestors:i,selectionRoot:n}}(s),u=o.firstAnchorParent;return{path:lt(o.ancestors,o.selectionRoot,e),firstAnchorParent:u}}}(ft||(ft={})),window.CSPathComputation=window.CSPathComputation||ft;var dt=function(t,n){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},dt(t,n)};function yt(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}dt(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var wt=function(){return wt=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},wt.apply(this,arguments)};function pt(t,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}function mt(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function gt(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function St(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function bt(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Et(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function At(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Rt=Number.MAX_SAFE_INTEGER||9007199254740991;function Ot(){}function Tt(t,n){return 0===csString.prototype.lastIndexOf.call(t,n,0)}var Nt=34164e6,kt={percentage:function(){return Math.floor(1e4*Math.random())/100},boolean:function(t){return this.percentage()<t},integer:function(t){return void 0===t&&(t=Rt),Math.floor(Math.random()*t)}},Ct=csSymbol("cachedJson");var It=void 0!==window.Symbol?function(t){if(t[Ct])return t[Ct];if(csArray.isArray(t)){if(0===t.length)return"[]";for(var n="["+It(t[0]),i=1;i<t.length;i++)n+=","+It(t[i]);return n+"]"}return t[Ct]=csJSON.stringify(t)}:csJSON.stringify;var Mt,xt,Pt=/^\d+\.\d+(?:\.\d+)?$/,_t=function(){function t(t){var n,i,r,e,s,o;this.isSMB=null!==(n=t.isSMB)&&void 0!==n&&n,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Nt,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.mouseMoveHeatmapEnabled=t.mouseMoveHeatmapEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.apiErrors=wt({enabled:null!==(i=t.apiErrorsEnabled)&&void 0!==i?i:0},t.apiErrors),this.customErrors=wt({enabled:null!==(r=t.customErrorsEnabled)&&void 0!==r?r:0},t.customErrors),this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=this.t(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=this.t(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=this.t(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.malkaQuotaServiceDomain=t.malkaQuotaServiceDomain||null,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&""===t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions=wt(wt({},t.taskSchedulerOptions),{enabled:!!t.taskSchedulerOptions.enabled})),this.uxaDomain=t.uxaDomain,this.environment=(null===(e=t.uxaDomain)||void 0===e?void 0:e.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc=wt(wt({},t.voc),{enabled:!!t.voc.enabled})),t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=null!==(s=t.anonymizeDigits)&&void 0!==s?s:null,this.isHeapPresent=void 0!==window.heap,this.clickedElementTextEnabled=!!t.clickedElementTextEnabled,this.recordTargetingRules=null!==(o=t.recordTargetingRules)&&void 0!==o?o:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=0!=t.emitRecordInfoEvents,this.collectHierarchy=!!t.collectHierarchy}return t.prototype.getTrackerUri=function(){return"".concat(this.i(),"://").concat(this.trackerDomain)},t.prototype.getSentryFileUri=function(){return"".concat(this.i(),"://").concat(this.tagDomain,"/uxa/smb/errors.js")},t.prototype.getSentryDSNUri=function(){return"https://".concat("f553e78fb58e051e51fe8074c4c6e73e","@").concat(this.loggerDomain,"/4508608369131520")},t.prototype.getRecordingUri=function(){return"".concat(this.i(),"://").concat(this.malkaRecordingDomain)},t.prototype.getLegacyQuotaUri=function(){return"".concat(this.i(),"://").concat(this.malkaQuotaServiceDomain)},t.prototype.getLoggerUri=function(){return"".concat(this.i(),"://").concat(this.loggerDomain)},t.prototype.getStaticResourceManagerUri=function(){return"".concat(this.i(),"://").concat(this.staticResourceManagerDomain)},t.prototype.getQuotaUri=function(){return"".concat(this.i(),"://").concat(this.dynamicConfDomain,"/").concat(this.projectId,".json")},t.prototype.isQuotaEnabled=function(){return this.isSMB&&!!this.dynamicConfDomain},t.prototype.getPaProxyDomainUri=function(){return"".concat(this.i(),"://").concat(this.paProxyDomainUri)},t.prototype.i=function(){return this.useHttps?"https":"http"},t.prototype.isProjectActive=function(){return 1===this.status},t.prototype.processOptionOverrides=function(t){var n=this;t&&t.forEach&&t.forEach((function(t){var i=Et(t),r=i[0],e=i.slice(1);if("setOption"===r){var s=Et(e,2),o=s[0],u=s[1];n.u(o,u)}}))},t.prototype.u=function(t,n){"trackerDomain"===t&&(this.trackerDomain=n),"loggerDomain"===t&&(this.loggerDomain=n),"malkaRecordingDomain"===t&&(this.malkaRecordingDomain=n),"malkaQuotaServiceDomain"===t&&(this.malkaQuotaServiceDomain=n),"staticResourceManagerDomain"===t&&(this.staticResourceManagerDomain=n),"minLogLevel"===t&&(this.minLogLevel=n),"useHttps"===t&&(this.useHttps=!!n),"isWebView"===t&&(this.isWebView=n)},t.prototype.t=function(t){return t?this.h(t):null},t.prototype.getRequestParameters=function(){return{pid:"".concat(this.projectId)}},t.prototype.updateDynamicFields=function(t,n){"emitDebugEvents"===t&&(this.emitDebugEvents=n),"minLogLevel"===t&&(this.minLogLevel=n)},t.prototype.h=function(t){try{var n=/^\/(.*)\/([gim]*)$/.exec(t);if(n){var i=Et(n,3),r=i[1],e=i[2];return new csRegExp("^".concat(r,"$"),e)}return new csRegExp("^".concat(t,"$"))}catch(t){return null}},t.prototype.isHeaderCollectionActive=function(){var t,n;return this.apiErrors.collectStandardHeaders||!!(null===(t=this.apiErrors.validCustomHeaders)||void 0===t?void 0:t.length)||!!(null===(n=this.apiErrors.plainCustomHeaders)||void 0===n?void 0:n.length)},t.prototype.isCsSideloadingHeap=function(){var t;return"cs_sideloads_heap"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)&&!this.isHeapPresent},t.prototype.isHeapSideloadsCs=function(){var t;return"heap_sideloads_cs"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)},t.prototype.isHeapSideloadsCsV5=function(){var t;return"heap_sideloads_cs"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)&&this.S()},t.prototype.isHeapSideloadsStartDataCollection=function(){if(this.isHeapSideloadsCs()){if(this.S())return!0;var t=function(t){if(Pt.test(t)){var n=Et(csArray.prototype.map.call(csString.prototype.split.call(t,"."),Number),3),i=n[0],r=n[1],e=n[2];return{major:i,minor:r,patch:!e||Number.isNaN(e)?0:e}}}(this.getHeapVersion()||"");if(t&&4===t.major&&function(t,n){return function(t,n){return t.major!==n.major?t.major-n.major:t.minor!==n.minor?t.minor-n.minor:t.patch-n.patch}(t,n)>=0}(t,{major:4,minor:23,patch:5}))return!0}return!1},t.prototype.S=function(){var t;return"function"==typeof(null===(t=window.heap)||void 0===t?void 0:t.getUserId)},t.prototype.getHeapVersion=function(){var t,n,i,r,e,s;return"function"==typeof(null===(t=window.heap)||void 0===t?void 0:t.getConfig)&&(null===(r=null===(i=null===(n=window.heap)||void 0===n?void 0:n.getConfig())||void 0===i?void 0:i.sdk)||void 0===r?void 0:r.version)||(null===(s=null===(e=window.heap)||void 0===e?void 0:e.version)||void 0===s?void 0:s.heapJsVersion)||void 0},t.prototype.isCsCrosswritingHeap=function(){var t;return"cs_crosswrites_heap"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)},t.prototype.isClickedElementTextEnabled=function(){return this.isSMB||this.clickedElementTextEnabled},t.prototype.isNetworkDetailsEnabled=function(){return!!this.performanceTimingOptions&&(this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation)},t.prototype.hasTargetingRules=function(){var t;return!!(null===(t=this.recordTargetingRules)||void 0===t?void 0:t.length)},t}(),Dt=function(){function t(t,n){this.A=t,this.R=n}return t.prototype.init=function(){this.O=this.A!==this.A.top,this.T=this.R.isWebView&&this.A===this.A.top,this.R.iframesTracking&&this.O||this.T?this.N=!1:this.N=!0},t.prototype.isInIframeContext=function(){return this.O},t.prototype.isTopWindowTracker=function(){return this.N},t.prototype.isInWebViewContext=function(){return this.T},t}();!function(t){t.debug="debug",t.warn="warn",t.implementation="implementation",t.error="error",t.critical="critical"}(Mt||(Mt={})),function(t){t.toQuery=function(t){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(t),(function(n){return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n]))})),"&")}}(xt||(xt={}));var Lt,Ut=function(){function t(t,n){this.domainUri=t,this.path=n,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}return t.prototype.setRequestParametersProviders=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.requestParametersProviders=t},t.prototype.before=function(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)},t.prototype.after=function(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)},t.prototype.retrieveParameters=function(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,(function(t){return t.getRequestParameters()})),(function(t,n){return wt(wt({},t),n)})):{}},t}(),jt=function(t){function n(n,i){return t.call(this,n,i)||this}return yt(n,t),n.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,(function(t){return t()}));var t=this.retrieveParameters();this.C(t);var n=xt.toQuery(t);this.I(n),csArray.prototype.forEach.call(this.afterRequestCallbacks,(function(t){return t()}))},n.prototype.I=function(t){var n=new window.Image(1,1);n.onload=Ot,n.onerror=Ot,csHTMLImageElementsrc.call(n,"".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(t))},n.prototype.C=function(t){t.r=csString.prototype.slice.call("".concat(Math.random()),2,8)},n}(Ut),qt=function(){function t(t,n){this.M=t,this.P=n}return t.prototype.init=function(){this._=new jt(this.M.getLoggerUri()),this._.setRequestParametersProviders(this,this.P)},t.prototype.send=function(t){this.D=t,this._.send()},t.prototype.getRequestParameters=function(){return{a:this.D.app,l:this.D.level,m:this.D.message,s:this.D.stacktrace}},t}(),Ht=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Ft=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,Bt="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Vt=new csRegExp("(ey".concat(Bt,"\\.ey").concat(Bt,"\\.").concat(Bt,")"),"g"),zt=/[0-9]{4}/,Gt=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Jt=/\d/g,Yt=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,Wt=/(?:\d{1,3}\.){3}\d{1,3}/,Xt=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/;!function(t){t.replaceEmail=function(t){return csString.prototype.replace.call(t,Ht,"CS_ANONYMIZED_EMAIL")},t.replaceJWT=function(t){return csString.prototype.replace.call(t,Vt,"CS_ANONYMIZED_JWT")},t.replaceCreditCardNumber=function(t,n){return csString.prototype.replace.call(t,Gt,n)},t.replaceDigits=function(t){return csString.prototype.replace.call(t,Jt,"â€¢")},t.mayHaveIPAddress=function(t){return Wt.test(t)||Xt.test(t)},t.mayHaveNumberSequence=function(t){return Yt.test(t)},t.mayHaveCreditCardNumber=function(t){return zt.test(t)},t.mayHaveEmail=function(t){return Ft.test(t)}}(Lt||(Lt={}));var $t,Kt=function(){function t(){this.L={}}return t.prototype.getLogs=function(){var t=this.L,n=t.fullCreditCard,i=t.partialCreditCard,r=[];return n&&csArray.prototype.push.call(r,"Full cc found and anonymized (".concat(n,")")),i&&csArray.prototype.push.call(r,"Partial cc found and anonymized (".concat(i,")")),r},t.prototype.hasPII=function(t,n){return t!==this.checkAndAnonymizePII(t,n)},t.prototype.checkAndAnonymizePII=function(t,n){void 0===n&&(n=null),this.U();var i=this.j(this.q(t));return!0===n?i=this.H(i):!1===n&&(i=this.F(i)),i},t.prototype.anonymizePII=function(t){return this.U(),this.q(t)},t.prototype.anonymizeJwt=function(t){return this.U(),Lt.replaceJWT(t)},t.prototype.anonymizeFields=function(t,n){var i=this;return this.U(),csArray.prototype.forEach.call(n,(function(n){t[n]=i.q(t[n])})),t},t.prototype.U=function(){this.L={}},t.prototype.q=function(t){return Lt.mayHaveEmail(t)?Lt.replaceEmail(t):t},t.prototype.H=function(t){return Lt.replaceDigits(t)},t.prototype.F=function(t){return Lt.mayHaveNumberSequence(t)?Lt.replaceDigits(t):t},t.prototype.j=function(t){var n=this;return Lt.mayHaveCreditCardNumber(t)?Lt.replaceCreditCardNumber(t,(function(t,i,r,e,s){if(-1===csString.prototype.indexOf.call(r,"*")){var o=e.length?csArray.prototype.join.call(csString.prototype.split.call(r,e),""):r;if(!n.B(o))return t;n.L.fullCreditCard=(n.L.fullCreditCard||0)+1}else n.L.partialCreditCard=(n.L.partialCreditCard||0)+1;return"".concat(i).concat("CS_ANONYMIZED_PII").concat(s)})):t},t.prototype.B=function(t){for(var n=parseInt(t[t.length-1]),i=0,r=t.length-2;r>=0;r--){var e=parseInt(t[r]);r%2==0&&(e*=2),i+=Math.floor(e/10)+e%10}return 10-i%10===n},t}(),Qt="15.73.3";function Zt(){return{v:Qt}}var tn="undefined"!=typeof performance&&!!performance.now,nn=tn?function(){return performance.now()}:csDate.now,rn=tn?null===($t=performance.timing)||void 0===$t?void 0:$t.navigationStart:0,en=function(){return Math.round(nn()+rn)},sn=function(){return nn()};function on(){return Math.floor(en()/1e3)}function un(){return"function"==typeof window.Promise}function cn(){var t,n;return"function"==typeof(null===(t=window.navigation)||void 0===t?void 0:t.addEventListener)&&"function"==typeof(null===(n=window.navigation)||void 0===n?void 0:n.removeEventListener)}function hn(t,n){return 0===csString.prototype.lastIndexOf.call(t,n,0)}function an(t,n){return-1!==csString.prototype.indexOf.call(t,n,t.length-n.length)}var fn,ln,vn=function(){function t(t,n){this.V=t,this.G=n}return t.prototype.getRequestParameters=function(){return wt(wt({d:"".concat(en()),p:this.G.anonymizePII(window.location.href)},this.V.getRequestParameters()),Zt())},t}(),dn="snippet-",yn="implementation-snippet-";!function(t){t.IMPLEMENTATION="implementation",t.DYNAMIC="dynamic"}(ln||(ln={}));var wn=((fn={})[Mt.debug]=0,fn[Mt.warn]=1,fn[Mt.implementation]=1,fn[Mt.error]=2,fn[Mt.critical]=3,fn),pn=function(){function t(t,n,i){var r;this.J=n,this.G=new Kt,this.Y=wn[Mt.warn],this.Y=wn[t.minLogLevel||Mt.warn],this._=i||new qt(t,new vn(t,this.G)),this.W=((r={})[Mt.debug]=[],r[Mt.warn]=[],r[Mt.implementation]=[],r[Mt.error]=[],r[Mt.critical]=[],r),this.X={implementation:{},dynamic:{}},this._.init()}return t.prototype.send=function(t,n,i){if(void 0===n&&(n=""),void 0===i&&(i=Mt.warn),this.$(i,n)){csArray.prototype.push.call(this.W[i],n||"");var r={message:this.K(t,n),stacktrace:this.Z(t),app:"uxa",level:i};this._.send(r)}},t.prototype.K=function(t,n){var i=M(t)?this.G.anonymizePII(t.message||t.toString()):t;return n&&(i+=" ErrorCode: ".concat(n)),i},t.prototype.Z=function(t){return M(t)?"".concat(t.stack||"No stacktrace"," ").concat(this.tt()):this.tt()},t.prototype.tt=function(){var t=this.J.getVisitorService(),n=null==t?void 0:t.getVisitor();if(!n)return"No context";var i=this.J.getSessionService(),r=i&&i.getSession(),e={userId:n.id,sessionNumber:n.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(e)},t.prototype.$=function(t,n){if(wn[t]<this.Y)return!1;if(0===(null==n?void 0:csString.prototype.indexOf.call(n,yn,0)))return this.nt(n,ln.IMPLEMENTATION);if(0===(null==n?void 0:csString.prototype.indexOf.call(n,dn,0)))return this.nt(n,ln.DYNAMIC);var i=this.W[t];return!(i.length>=5)&&(!n||!csArray.prototype.some.call(i,(function(t){return t===n})))},t.prototype.nt=function(t,n){return t in this.X[n]?!(this.X[n][t]>=5)&&(this.X[n][t]+=1,!0):(this.X[n][t]=1,!0)},t}(),mn=!r&&document.createElement("a"),gn=/(:443|:80)$/;function Sn(t){return mn?(mn.href=t,mn.href):""}function bn(t){var n=Rn(t);return null===n?"":decodeURIComponent(n.hostname)}function En(t,n){return csArray.prototype.some.call(n,(function(n){return an(t,".".concat(n))||t===n||""===n}))}function An(t){return csString.prototype.replace.call(t,gn,"")}function Rn(t){return mn&&(hn(t,"http://")||hn(t,"https://"))?(mn.href=t,{hash:mn.hash,host:An(mn.host),hostname:mn.hostname,href:mn.href,origin:mn.origin?mn.origin:An("".concat(mn.protocol,"//").concat(mn.host)),pathname:(n=mn.pathname,"/"===n[0]?n:"/".concat(n)),port:mn.port,protocol:mn.protocol,search:mn.search}):null;var n}var On,Tn,Nn,kn,Cn="CS_IFRAME_MESSAGE";!function(t){t.AfterPageView="afterPageView",t.GetSessionKey="getSessionKey"}(On||(On={})),function(t){t.Parent="parent",t.Child="child"}(Tn||(Tn={})),function(t){t.Discovery="discovery",t.Stop="stop",t.RecordingContext="recordingContext",t.SensitiveStatus="sensitiveStatus",t.RecordingEvent="recordingEvent",t.EndOfBufferedMessages="endOfBufferedMessages",t.ChildLogMessage="childLogMessage",t.AnalysisEvent="analysisEvent",t.JavascriptError="javascriptError",t.ApiError="apiError",t.Assets="assets",t.DetailedApiError="detailedApiError",t.EmerchandisingMessage="emerchandisingMessage",t.Commands="commands",t.IntegrationCallback="integrationCallback",t.StaticResource="staticResource",t.TrackingContextResultMessage="trackingContextResultMessage",t.TrackingContextRequestMessage="trackingContextRequestMessage",t.CustomError="customError"}(Nn||(Nn={})),function(t){t.buildBaseMessage=function(t,n,i,r){var e={type:t,from:n,pid:i,signature:Cn};return void 0!==r&&r>=0&&(e.id=r),e},t.isMessageValid=function(t,n,i,r){var e=bn(t.origin);return!!t.data&&!!t.data.type&&t.data.signature===Cn&&t.data.from===n&&t.data.pid===i&&En(e,r)},t.sendPostMessage=function(t,n,i,r){r?t.postMessage(i,n,r):t.postMessage(i,n)},t.getNewChannelMessage=function(){return new MessageChannel},t.sendChannelMessage=function(t,n){t.postMessage(n)},t.closeChannelPort=function(t){t.close()}}(kn||(kn={}));var In=function(){function t(t){this.V=t}return t.prototype.send=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=Mt.warn);var r={message:t,errorCode:n,level:i},e=kn.buildBaseMessage(Nn.ChildLogMessage,Tn.Child,this.V.projectId);e.content=r,kn.sendPostMessage(window.parent,"*",e)},t}(),Mn=function(){function t(){}return t.prototype.setContext=function(t,n){this.it=t,this.et=n},t.prototype.getVisitorService=function(){return this.it},t.prototype.getSessionService=function(){return this.et},t}(),xn=["t.contentsquare.net","clicktale"];window.addEventListener("error",(function(t){"string"!=typeof t.filename||!csArray.prototype.some.call(xn,(function(n){return csString.prototype.indexOf.call(t.filename,n)>-1}))||csString.prototype.indexOf.call(t.filename,"blob")>-1&&(null==t.message?void 0:csString.prototype.indexOf.call(t.message,"importScripts"))>-1||Pn.critical("Uncaught jsError: filename: ".concat(t.filename," - lineno: ").concat(t.lineno," - colno: ").concat(t.colno," - message: ").concat(t.message," "))}));var Pn=function(){function t(){}return t.whiteListFilename=function(t){csArray.prototype.push.call(xn,t)},t.setStrategy=function(n){t.st=n},t.computeIsActive=function(n){t.ot=kt.boolean(n),t.ot?t.ut=kt.boolean(10):t.ut=!1},t.isLoggingActive=function(){return t.ot},t.getStrategy=function(){return t.st},t.debug=function(n,i){void 0===i&&(i=""),t.ot&&this.st.send(n,i,Mt.debug)},t.warn=function(n,i,r){var e;void 0===i&&(i=!0),void 0===r&&(r=""),t.ot&&i&&this.st.send(n,r,Mt.warn),null===(e=window.UXAnalytics.Console)||void 0===e||e.warn(n)},t.implementation=function(n,i){void 0===i&&(i=""),t.ot&&this.st.send(n,i,Mt.implementation)},t.error=function(n,i){var r;void 0===i&&(i=""),t.ot&&this.st.send(n,i,Mt.error),null===(r=window.UXAnalytics.Console)||void 0===r||r.error(n)},t.critical=function(t,n){void 0===n&&(n=""),this.st.send(t,n,Mt.critical)},t.tryToExecute=function(t,n){var i=this;return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];try{var s=n.apply(void 0,At([],Et(r),!1));return N(window.Promise)&&s instanceof window.Promise?s.then((function(t){return t}),(function(n){return i.error(M(n)?n:new Error(n),t)})):s}catch(n){try{i.error(M(n)?n:new Error(n),t)}catch(t){}}}},t.isPerfLoggingActive=function(){return t.ut},t.ot=!1,t.ut=!1,t}(),_n=function(t,n){return _n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},_n(t,n)};function Dn(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}_n(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var Ln=function(){return Ln=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},Ln.apply(this,arguments)};function Un(t,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}function jn(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function qn(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function Hn(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function Fn(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bn(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function Vn(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var zn={debug:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},warn:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},implementation:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},error:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},critical:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},isPerfLoggingActive:function(){return!1}};var Gn=function(t){return function(n,i,r){var e=(null==i?void 0:i.toString())||"",s=t||"".concat(n.constructor&&n.constructor.name,".").concat(e);if(r){var o=r.value;r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Jn(s,o.bind(this)).apply(void 0,Vn([],Bn(t),!1))}}}};function Jn(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];try{var e=n.apply(void 0,Vn([],Bn(i),!1));return N(window.Promise)&&e instanceof window.Promise?e.then((function(t){return t}),(function(n){return zn.error(M(n)?n:new Error(n),t)})):e}catch(n){try{zn.error(M(n)?n:new Error(n),t)}catch(t){}}}}var Yn=!1;function Wn(){return function(t,n,i){if(i){var r=i.value;i.value=function(t,n){!1===(null==t?void 0:t.isTrusted)&&Yn||r.call(this,t,n)}}else{var e=t[n];if("function"!=typeof e)return;t[n]=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];!1===(null==t?void 0:t.isTrusted)&&Yn||e.call(this,t,n)}}}}var Xn=function(){function t(){this.ht=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.ht},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.ft},enumerable:!1,configurable:!0}),t.prototype.pushAll=function(t){for(var n=0;n<t.length;n++)this.push(t[n])},t.prototype.push=function(t){this.ht++,this.lt?this.lt=this.lt[1]=[t,void 0]:this.lt=this.ft=[t,void 0]},t.prototype.pop=function(){if(!this.ft)return null;this.ht--;var t=this.ft[0];return this.ft=this.ft[1],this.ft||(this.lt=void 0),t},t.prototype.forEach=function(t){for(var n=this.ft;null==n?void 0:n.length;)t(n[0]),n=n[1]},t.prototype.clear=function(){this.ht=0,this.ft=this.lt=void 0},t}(),$n=50,Kn=.1;var Qn=!1,Zn=new Xn;function ti(t,n){void 0===t&&(t=50),void 0===n&&(n=.1),Qn=zn.isPerfLoggingActive()&&function(){var t;if(!(null===(t=window.performance)||void 0===t?void 0:t.mark))return!1;var n="isPerformanceMeasureSupported",i="".concat(n,"_a");return performance.mark(i),void 0!==performance.measure(n,i)}(),Qn&&($n=t,Kn=n)}var ni=[],ii=[];function ri(t){csArray.prototype.push.call(ni,t),performance.mark("".concat(t,"-start"))}function ei(t){var n=performance.measure(t,"".concat(t,"-start"));if(n){var i=n.duration;i>=Kn&&csArray.prototype.push.call(ii,{mName:t,mDuration:+i.toFixed(2)}),csArray.prototype.pop.call(ni),0===ni.length&&(i>$n&&Zn.push(ii),ii=[])}}function si(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(!Qn)return t.apply(this,i);ri(n);var e=t.apply(this,i);return ei(n),e}}var oi,ui,ci,hi,ai=function(t){return function(n,i,r){var e=r.value;r.value=function(){if(!Qn)return r.value=e,e.apply(this,arguments);ri(t);var n=e.apply(this,arguments);return ei(t),n}}};!function(t){function n(t){var n=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")).exec(document.cookie);return n?decodeURIComponent(n[2]):null}function i(n,i,e,s,o,u){var c=encodeURIComponent("".concat(i)),h=e===t.CURRENT_DOMAIN?void 0:e,a=r(s),f=a?";expires=".concat(a.toUTCString()):"",l=k(h)?";domain=".concat(h):"",v="".concat(n,"=").concat(c).concat(f).concat(";path=/").concat(l);return N(o)&&o!==ci.NotSet&&(v="".concat(v,";SameSite=").concat(o)),N(u)&&u===hi.Yes&&(v="".concat(v,";Secure")),document.cookie=v,!0}function r(t){return E(t)?new csDate(en()+t):t}function e(t,r){n(t)&&i(t,"",r,new csDate(0)),n(t)&&i(t,"",r,new csDate(0),ci.None,hi.Yes)}t.CURRENT_DOMAIN="CURRENT_DOMAIN",t.get=n,t.set=i,t.toExpireDate=r,t.remove=e,t.isCookiePresent=function(){return document.cookie.length>0},t.getRootDomain=function(t,r){var s="_cs_root-domain",o=n(s);if(null!==o&&"1"!==o)return o;for(var u=csString.prototype.split.call(window.location.hostname,"."),c=csArray.prototype.pop.call(u);u.length&&(null===o||"1"===o);)i(s,c=csArray.prototype.join.call([csArray.prototype.pop.call(u),c],"."),c,void 0,t,r),o=n(s);return e(s,c),c}}(oi||(oi={})),function(t){t.browserIsSafariV12=function(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}}(ui||(ui={})),function(t){t.None="None",t.Lax="Lax",t.NotSet="X"}(ci||(ci={})),function(t){t[t.Yes=1]="Yes",t[t.No=0]="No"}(hi||(hi={}));var fi=function(){function t(t,n,i){this.V=t,this.vt=n,this.yt=i,this.wt=!1,this.gt=ci.NotSet,this.St=hi.No}return t.prototype.getSameSiteFlag=function(){return this.gt},t.prototype.getSecureFlag=function(){return this.St},t.prototype.getDomain=function(){return this.bt},t.prototype.getRootDomain=function(){return this.Et},t.prototype.init=function(){if(!this.V.cookielessTrackingEnabled){var t=this.At(),n=this.Rt();this.wt=this.Ot(t,n),this.wt?(this.gt=t,this.St=n):this.V.secureCookiesEnabled&&"https:"===this.vt.getUrlProtocol()&&(this.St=hi.Yes),this.Et=this.Tt(),this.bt=this.Nt(this.Et)}},t.prototype.Ot=function(n,i){return!ui.browserIsSafariV12()&&(oi.set(t.COOKIE_TEST_FOR_SAME_SITE,"Test same site",t.CURRENT_DOMAIN,void 0,n,i),!!oi.get(t.COOKIE_TEST_FOR_SAME_SITE)&&(oi.remove(t.COOKIE_TEST_FOR_SAME_SITE,t.CURRENT_DOMAIN),!0))},t.prototype.At=function(){return"http:"===this.vt.getUrlProtocol()?ci.Lax:this.yt.isSameSiteNoneSecureNeeded()||this.V.crossDomainTracking?ci.None:ci.Lax},t.prototype.Rt=function(){return"http:"===this.vt.getUrlProtocol()?hi.No:this.V.secureCookiesEnabled||this.V.crossDomainTracking||this.yt.isSameSiteNoneSecureNeeded()?hi.Yes:hi.No},t.prototype.isSameSiteSupported=function(){return this.wt},t.prototype.set=function(t,n,i){var r=oi.toExpireDate(i);oi.set(t,n,this.bt,r,this.getSameSiteFlag(),this.getSecureFlag())},t.prototype.get=function(t){var n=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")).exec(document.cookie);return n?decodeURIComponent(n[2]):null},t.prototype.delete=function(t,n){var i=n||this.bt;oi.remove(t,i)},t.prototype.Tt=function(){var t=this.yt.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),n=t?ci.None:void 0,i=t?hi.Yes:void 0;return oi.getRootDomain(n,i)},t.prototype.Nt=function(t){return this.V.allowSubdomains?t:oi.CURRENT_DOMAIN},t.CURRENT_DOMAIN="CURRENT_DOMAIN",t.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",t}(),li="_cs_t",vi=function(){function t(t,n){this.kt=t,this.V=n,this.Ct=!1,this.It=!1}return t.prototype.init=function(){if(!this.V.cookielessTrackingEnabled&&this.kt.isTopWindowTracker()&&"cookie"in document){if(!this.kt.isInIframeContext()&&oi.isCookiePresent())return this.Ct=!0,void(this.It=!1);if(oi.set(li,"1",oi.CURRENT_DOMAIN),null!==oi.get(li))return this.Ct=!0,this.It=!1,void oi.remove(li,oi.CURRENT_DOMAIN);oi.set(li,"1",oi.CURRENT_DOMAIN,void 0,ci.None,hi.Yes),null!==oi.get(li)&&(this.Ct=!0,this.It=!0,oi.remove(li,oi.CURRENT_DOMAIN))}},t.prototype.areCookiesEnabled=function(){return this.Ct},t.prototype.isSameSiteNoneSecureNeeded=function(){return this.It},t}();var di,yi=function(){function t(t,n){this.V=t,this.yt=n}return t.prototype.canTrack=function(){return this.V.isProjectActive()&&this.Mt()&&this.xt()&&this.Pt()},t.prototype.canTrackInChild=function(){return this.V.isProjectActive()&&this._t()&&(this.xt()||this.Dt())},t.prototype.Pt=function(){return this.V.cookielessTrackingEnabled?function(){var t="CSSessionStorageTest";try{return sessionStorage.setItem(t,t),sessionStorage.getItem(t)===t&&(sessionStorage.removeItem(t),!0)}catch(t){return!1}}():this.yt.areCookiesEnabled()},t.prototype.xt=function(){return En(window.location.hostname,this.V.hostnames)},t.prototype.Mt=function(){return!this.Lt()&&this.Ut()},t.prototype._t=function(){return!this.Lt()&&this.jt()},t.prototype.Dt=function(){return Tt(window.location.href,"about:srcdoc")&&"about:"===window.location.protocol&&""===window.location.hostname},t.prototype.Lt=function(){return"visibilityState"in document&&"prerender"===document.visibilityState},t.prototype.Ut=function(){return this.qt()&&this.Ht()},t.prototype.jt=function(){return this.qt()},t.prototype.Ht=function(){try{return!!window.localStorage}catch(t){return!1}},t.prototype.qt=function(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window},t}(),wi=function(){function t(n,i){var r=this;this.Ft=!1,this.Bt=new Map,this.Vt=new Map,this.zt=new Map,this.Gt="CS_WORKER_SIGNATURE";var e="\n    const algorithm = ".concat(n.algorithm,";\n    const compressor = (").concat(n.getCompressorSourceCode(),")();\n    ").concat('!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function r(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))}function n(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(e||(e={}));var o,a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},s=function(){function r(e){var t,r=this;this.queryParams={},this.headers={},this.handleRecoveredRequests=function(e){var t,n;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=o.next();!a.done;a=o.next()){var s=a.value,i=s.metadata,c=s.events;r.send(c,i)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}return r.prototype.setQueryParams=function(e){var t=this;Object.keys(e).forEach((function(r){t.queryParams[r]=e[r]}))},r.prototype.removeQueryParams=function(e){var t=this;e?e.forEach((function(e){delete t.queryParams[e]})):this.queryParams={}},r.prototype.send=function(r,n){var o=this,s=n||t({},this.queryParams),i=!("ct"in s),c="string"!=typeof r&&!this.isArrayBuffer(r);"ct"in s||(this.compressionOpts&&i?s.ct=this.compressionOpts.compressionType:s.ct=e.UNCOMPRESSED);var u=c?JSON.stringify(r):r,h=Object.keys(s).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(s[e]))})).join("&"),f="".concat(this.endpoint,"?").concat(h);!function(e,t){for(var r=e.length,n=0;n<r;n++)if(t(e[n],n))return!0;return!1}(this.mandatoryParameters,(function(e){return null==s[e]}))?this.compressionOpts&&i&&"string"==typeof u?this.compressionOpts.compressor(u,this.compressionOpts.compressionOutputType,(function(e){return o.doSend(f,s,e)})):this.doSend(f,s,u):a("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(f))},r.prototype.onLoad=function(e){this.onLoadCallback=e},r.prototype.onError=function(e){this.onErrorCallback=e},r.prototype.onTimeout=function(e,t){this.onTimeoutCallback=e,this.timeout=t},r.prototype.abort=function(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()},r.prototype.setRequestHeader=function(e,t){this.headers[e]=t},r.prototype.getQueryParams=function(){return this.queryParams},r.prototype.isArrayBuffer=function(e){return e&&void 0!==e.byteLength},r.prototype.doSend=function(e,t,r){var n=this,o=new XMLHttpRequest,a=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&");o.open("POST",e),o.onload=function(){if(n.recoveryStorage&&n.recoveryStorage.recover(n.handleRecoveredRequests),n.onLoadCallback){var e={params:t,responseText:o.responseText,status:o.status};n.onLoadCallback(e)}},o.onerror=function(){n.recoveryStorage&&n.recoveryStorage.save({key:a,metadata:t,events:r}),n.onErrorCallback&&n.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(o.timeout=this.timeout,o.ontimeout=function(){n.onTimeoutCallback()}),this.abortCurrentXhrCall=function(){return o.abort()},Object.keys(this.headers).forEach((function(e){o.setRequestHeader(e,n.headers[e])})),o.send(r)},r}(),i=function(){function e(e){this.maxStoredBytes=e,this.storageBytesUsed=0}return e.prototype.addString=function(e){this.storageBytesUsed+=2*e.length},e.prototype.addArrayBuffer=function(e){this.storageBytesUsed+=e.byteLength},e.prototype.isThresholdReached=function(){return this.storageBytesUsed>this.maxStoredBytes},e.prototype.reset=function(){this.storageBytesUsed=0},e}(),c=function(){function e(e){this.ramStorage={},this.byteSizeCounter=new i(e)}return e.prototype.save=function(e){var t=e.key,r=e.metadata,n=e.events;this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(t),"string"==typeof n?this.byteSizeCounter.addString(n):this.byteSizeCounter.addArrayBuffer(n),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[t]={metadata:r,events:n}))},e.prototype.recover=function(e){var t=this,r=[];this.getStorageKeys().forEach((function(e){var n=t.ramStorage[e];void 0!==n&&(delete n.metadata.datatype,r.push(n),t.removeItem(e))})),0!==r.length&&(e(r),this.byteSizeCounter.reset())},e.prototype.getStorageKeys=function(){return Object.keys(this.ramStorage)},e.prototype.removeItem=function(e){delete this.ramStorage[e]},e}();!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(o||(o={}));var u=function(){function e(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=o.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new i(t),this.init()}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.openCache()];case 1:return e.sent(),this.cacheState===o.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer),[2]}}))}))},e.prototype.flushToBeSavedBuffer=function(){var e=this;this.toBeSavedBuffer.forEach((function(t){e.save(t)})),this.toBeSavedBuffer=[]},e.prototype.save=function(e){return r(this,void 0,void 0,(function(){var t,r,a;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.cacheState===o.OPEN_IN_PROGRESS?(this.toBeSavedBuffer.push(e),[2]):this.cacheState!==o.READY||this.byteSizeCounter.isThresholdReached()?[2]:(t=e.key,r=e.metadata,a=e.events,this.byteSizeCounter.addString(t),"string"==typeof a?this.byteSizeCounter.addString(a):this.byteSizeCounter.addArrayBuffer(a),this.byteSizeCounter.isThresholdReached()?[2]:[4,this.cache.put("".concat(this.origin,"/").concat(t),new Response(a,{headers:r}))]);case 1:case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},e.prototype.recover=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return this.cache?[3,2]:[4,this.openCache()];case 1:if(t.sent(),this.cacheState!==o.READY)return[2];t.label=2;case 2:return this.doRecover(e),[2]}}))}))},e.prototype.openCache=function(){return r(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.cacheState=o.OPEN_IN_PROGRESS,e=this,[4,self.caches.open("".concat(this.context).concat(this.storageName))];case 1:return e.cache=t.sent(),this.cacheState=o.READY,[3,3];case 2:return t.sent(),this.cacheState=o.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},e.prototype.doRecover=function(e){return r(this,void 0,void 0,(function(){var t,r,o,a,s=this;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,6,7]),this.recoveryInProgress++,this.recoveryInProgress>1?[2]:[4,this.cache.keys()];case 1:return 0===(t=n.sent()).length?[2]:[4,this.cache.matchAll()];case 2:return r=n.sent(),o=r.map((function(e){var t={};e.headers.forEach((function(e,r){t[r]=e})),delete t["content-type"];var r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then((function(e){return{metadata:t,events:e}})):e.arrayBuffer().then((function(e){return{metadata:t,events:e}}))})),[4,Promise.all(o)];case 3:return a=n.sent(),[4,Promise.all(t.map((function(e){return s.cache.delete(e)})))];case 4:return n.sent(),e(a),this.byteSizeCounter.reset(),[3,7];case 5:return n.sent(),[3,7];case 6:return this.recoveryInProgress--,[7];case 7:return[2]}}))}))},e}(),h=function(){function e(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}return e.prototype.initializeStorageStrategy=function(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()},e.prototype.save=function(e){this.storageStrategy.save(e)},e.prototype.recover=function(e){this.storageStrategy.recover(e)},e.prototype.setCachesStrategy=function(t){var r=this;this.storageStrategy=new u(t,e.MAX_SIZE,(function(e){r.setRamStorageStrategy(e)}))},e.prototype.setRamStorageStrategy=function(t){var r=this;this.storageStrategy=new c(e.MAX_SIZE),t&&t.forEach((function(e){r.storageStrategy.save(e)}))},e.MAX_SIZE=16777216,e}();!function(){var e="CS_WORKER_SIGNATURE",t=new Map,o=new h("csPersisted");function a(r){var n;if((n=r)&&n.WORKER_SIGNATURE===e)switch(r.type){case"CreatePostRequest":var a=r.endpoint,i=r.compressionOutputType,c=r.useRetry,u=r.mandatoryParameters,h={endpoint:a,mandatoryParameters:u,worker:!0};i&&(h.compressionOpts={compressor:compressor,compressionOutputType:i,compressionType:algorithm}),c&&(h.recoveryStorage=o);var f=new s(h);t.set(a,f),f.onLoad((function(t){var r={type:"onLoad",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)})),f.onError((function(t){var r={type:"onError",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)}));break;case"SetQueryParams":var p=r.endpoint,y=r.queryParams;(f=t.get(p))&&f.setQueryParams(y);break;case"RemoveQueryParams":p=r.endpoint,y=r.queryParams,(f=t.get(p))&&f.removeQueryParams(y);break;case"Send":p=r.endpoint;var d=r.payload;y=r.queryParams,(f=t.get(p))&&f.send(d,y);break;case"Abort":p=r.endpoint,(f=t.get(p))&&f.abort();break;case"SetHeader":p=r.endpoint;var l=r.headerName,v=r.headerValue;(f=t.get(p))&&f.setRequestHeader(l,v);break;case"SetTimeout":var S=r.endpoint,m=r.timeout;(f=t.get(S))&&f.onTimeout((function(){var t={type:"onTimeout",endpoint:S,WORKER_SIGNATURE:e};self.postMessage(t)}),m);break;default:throw new Error(JSON.stringify(r))}}self.addEventListener("message",(function(e){e.data.getReader?function(e,t){r(this,void 0,void 0,(function(){var r,o,a,s;return n(this,(function(n){switch(n.label){case 0:r=e.getReader(),n.label=1;case 1:return[4,r.read()];case 2:return o=n.sent(),a=o.done,s=o.value,a?[3,3]:(t(s),[3,1]);case 3:return[2]}}))}))}(e.data,a):a(e.data)}))}()}();');try{this.Jt=this.Yt(i||e),this.Ft=!0,t.isTransferableStreamSupported()&&(this.Wt=new ReadableStream({start:function(t){r.Xt=t},cancel:function(){r.Xt=null}}),this.Jt.postMessage(this.Wt,[this.Wt]))}catch(t){this.Ft=!1}}return t.prototype.postMessage=function(t){t.WORKER_SIGNATURE=this.Gt,this.Xt?this.Xt.enqueue(t):this.Jt.postMessage(t)},t.prototype.Yt=function(t){var n=this,i=window.csURL||window.webkitURL,r=window.Blob,e=window.Worker,s=new r([t],{type:"application/javascript"}),o=i.createObjectURL(s);Pn.whiteListFilename(o);var u=new e(o);return u.onmessage=function(t){var i=t.data,r=i.type,e=i.endpoint;if(i.WORKER_SIGNATURE===n.Gt)if("onLoad"===r){var s=t.data.response;(o=n.Bt.get(e))&&o(s)}else if("onError"===r){s=t.data.response;(o=n.Vt.get(e))&&o(s)}else if("onTimeout"===r){var o;(o=n.zt.get(e))&&o()}},u},t.prototype.registerOnLoadCallback=function(t,n){this.Bt.set(t,n)},t.prototype.registerOnErrorCallback=function(t,n){this.Vt.set(t,n)},t.prototype.registerOnTimeoutCallback=function(t,n){this.zt.set(t,n)},t.prototype.isSupported=function(){return this.Ft},t.isTransferableStreamSupported=function(){try{var t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch(t){return!1}},t}(),pi=function(){function t(t){var n;this.$t={},this.Kt=t.endpoint,this.Qt=t.networkWorker,this.Zt=t.compressionOutputType,this.tn=t.useRetry,this.Qt.postMessage({type:"CreatePostRequest",endpoint:this.Kt,compressionOutputType:this.Zt,useRetry:this.tn,mandatoryParameters:null!==(n=t.mandatoryParameters)&&void 0!==n?n:[]})}return t.prototype.setQueryParams=function(t){var n=this;this.Qt.postMessage({type:"SetQueryParams",endpoint:this.Kt,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),(function(i){n.$t[i]=t[i]}))},t.prototype.getQueryParams=function(){return this.$t},t.prototype.removeQueryParams=function(t){var n=this;this.Qt.postMessage({type:"RemoveQueryParams",endpoint:this.Kt,queryParams:t}),t&&csArray.prototype.forEach.call(t,(function(t){delete n.$t[t]}))},t.prototype.send=function(t,n){this.Qt.postMessage({type:"Send",endpoint:this.Kt,payload:t,queryParams:n})},t.prototype.abort=function(){this.Qt.postMessage({type:"Abort",endpoint:this.Kt})},t.prototype.onLoad=function(t){this.Qt.registerOnLoadCallback(this.Kt,t)},t.prototype.onError=function(t){this.Qt.registerOnErrorCallback(this.Kt,t)},t.prototype.setRequestHeader=function(t,n){this.Qt.postMessage({type:"SetHeader",endpoint:this.Kt,headerName:t,headerValue:n})},t.prototype.onTimeout=function(t,n){this.Qt.registerOnTimeoutCallback(this.Kt,t),this.Qt.postMessage({type:"SetTimeout",endpoint:this.Kt,timeout:n})},t}();!function(t){t.UNCOMPRESSED="0",t.GZIP="2"}(di||(di={}));var mi=function(t){this.onError=t};function gi(t){for(var n,i=null!==(n=t.length)&&void 0!==n?n:0,r=new csArray(i),e=0;e<i;e+=1)r[e]=t[e];return r}function Si(t,n){for(var i=t.length,r=new csArray(i),e=0;e<i;e+=1)r[e]=n(t[e]);return r}function bi(t,n){var i=[];return function(t,n,i){for(var r=0,e=0;e<t.length;e+=1)for(var s=n(t[e]),o=0;o<s.length;o++)i(s[o],r++)}(t,n,(function(t){return csArray.prototype.push.call(i,t)})),i}function Ei(t,n){if(t.length>=0)for(var i=t.length,r=0;r<i;r++)n(t[r],r);else for(var e=0,s=t.next();!s.done;)n(s.value,e++),s=t.next()}function Ai(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return t[r]}function Ri(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return!0;return!1}function Oi(t,n){for(var i=t.length,r=[],e=0;e<i;e+=1){var s=t[e];n(s)&&csArray.prototype.push.call(r,s)}return r}function Ti(t,n){for(var i=0;i<t.length;i++)csArray.prototype.push.call(n,t[i])}function Ni(t){var n=t instanceof Map,i=[];return t.forEach((function(t,r){return csArray.prototype.push.call(i,n?[r,t]:t)})),i}var ki,Ci,Ii,Mi=function(){function t(t){var n,i=this;this.$t={},this.nn={},this.rn=function(t){var n,r;try{for(var e=bt(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.metadata,c=o.events;i.send(c,u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},this.Kt=t.endpoint,this.en=t.compressionOpts,this.un=t.recoveryStorage,this.mandatoryParameters=null!==(n=t.mandatoryParameters)&&void 0!==n?n:[],this.worker=!!t.worker,this.un&&this.un.recover(this.rn)}return t.prototype.setQueryParams=function(t){var n=this;Object.keys(t).forEach((function(i){n.$t[i]=t[i]}))},t.prototype.removeQueryParams=function(t){var n=this;t?t.forEach((function(t){delete n.$t[t]})):this.$t={}},t.prototype.send=function(t,n){var i=this,r=n||wt({},this.$t),e=!("ct"in r),s="string"!=typeof t&&!this.cn(t);"ct"in r||(this.en&&e?r.ct=this.en.compressionType:r.ct=di.UNCOMPRESSED);var o=s?JSON.stringify(t):t,u=Object.keys(r).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r[t]))})).join("&"),c="".concat(this.Kt,"?").concat(u);Ri(this.mandatoryParameters,(function(t){return null==r[t]}))?zn.warn("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(c)):this.en&&e&&"string"==typeof o?this.en.compressor(o,this.en.compressionOutputType,(function(t){return i.hn(c,r,t)})):this.hn(c,r,o)},t.prototype.onLoad=function(t){this.an=t},t.prototype.onError=function(t){this.fn=t},t.prototype.onTimeout=function(t,n){this.ln=t,this.vn=n},t.prototype.abort=function(){this.dn&&this.dn()},t.prototype.setRequestHeader=function(t,n){this.nn[t]=n},t.prototype.getQueryParams=function(){return this.$t},t.prototype.cn=function(t){return t&&void 0!==t.byteLength},t.prototype.hn=function(t,n,i){var r=this,e=new XMLHttpRequest,s=Object.keys(n).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n[t]))})).join("&");e.open("POST",t),e.onload=function(){if(r.un&&r.un.recover(r.rn),r.an){var t={params:n,responseText:e.responseText,status:e.status};r.an(t)}},e.onerror=function(){r.un&&r.un.save({key:s,metadata:n,events:i}),r.fn&&r.fn({params:n})},this.vn&&this.ln&&(e.timeout=this.vn,e.ontimeout=function(){r.ln()}),this.dn=function(){return e.abort()},Object.keys(this.nn).forEach((function(t){e.setRequestHeader(t,r.nn[t])})),e.send(i)},t}(),xi=function(){function t(t){this.yn=t,this.Qt=new wi(this.yn)}return t.prototype.create=function(t,n,i,r,e){if(void 0===e&&(e=[]),this.Qt.isSupported()&&n)return new pi({networkWorker:this.Qt,endpoint:t,compressionOutputType:i,useRetry:!!r,mandatoryParameters:e});var s=i?{compressor:this.yn.compress,compressionOutputType:i,compressionType:this.yn.algorithm}:void 0;return new Mi({endpoint:t,compressionOpts:s,recoveryStorage:r})},t}(),Pi=function(){function t(t,n,i,r,e){this.it=t,this.et=n,this.wn=i,this.mn=r,this.V=e}return t.prototype.get=function(){return{exclusion:this.wn.getAppliedTrackingDraw(),visitor:this.it.getVisitor(),session:this.et.getSession(),cvars:this.mn.getCustomVariablesSession()}},t.prototype.apply=function(t){t&&(t.exclusion?this.exclude():this.include(t))},t.prototype.exclude=function(){this.wn.exclude(this.V),this.it.removeVisitor(),this.et.removeSession(),this.mn.removeCustomVariablesSession()},t.prototype.include=function(t){this.wn.removeExclusion(),this.it.setVisitor(t.visitor),t.session?this.et.setSession(t.session):this.et.removeSession(),t.cvars?this.mn.setCustomVariableSession(t.cvars):this.mn.removeCustomVariablesSession()},t}();function _i(t,n){void 0===n&&(n=Ui.SHOW_ALL);var i=n|Ui.SHOW_ELEMENT,r=[document.createTreeWalker(t,i,null,!1)],e=Di(t);e&&csArray.prototype.push.call(r,document.createTreeWalker(e,i,null,!1));var s=null;return{root:t,nextNode:function(){if(e){var t=e;return e=null,t}for(;r.length>0;){if(s){t=s;return s=null,t}var o=r[r.length-1].nextNode();if(o){var u=Di(o);if(n&Ui.SHOW_DOCUMENT_FRAGMENT&&u&&(s=u),u&&csArray.prototype.push.call(r,document.createTreeWalker(u,i,null,!1)),ji[o.nodeType]&n)return o}else csArray.prototype.pop.call(r)}return null},visitAll:function(i){ji[t.nodeType]&n&&i(t);for(var r=this.nextNode();r;)ji[r.nodeType]&n?(i(r),r=this.nextNode()):r=this.nextNode()},collectAll:function(t){var n=[];return this.visitAll((function(i){return csArray.prototype.push.call(n,t?t(i):i)})),n}}}function Di(t){return t&&Y(t)?t.shadowRoot:null}var Li=null!==(Ci=e.Node)&&void 0!==Ci?Ci:{},Ui=null!==(Ii=e.NodeFilter)&&void 0!==Ii?Ii:{},ji=((ki={})[2]=Ui.SHOW_ATTRIBUTE,ki[4]=Ui.SHOW_CDATA_SECTION,ki[8]=Ui.SHOW_COMMENT,ki[11]=Ui.SHOW_DOCUMENT_FRAGMENT,ki[9]=Ui.SHOW_DOCUMENT,ki[10]=Ui.SHOW_DOCUMENT_TYPE,ki[1]=Ui.SHOW_ELEMENT,ki[Li.ENTITY_NODE]=Ui.SHOW_ENTITY,ki[Li.ENTITY_REFERENCE_NODE]=Ui.SHOW_ENTITY_REFERENCE,ki[Li.NOTATION_NODE]=Ui.SHOW_NOTATION,ki[7]=Ui.SHOW_PROCESSING_INSTRUCTION,ki[3]=Ui.SHOW_TEXT,ki);function qi(){var t=new Error,n=t.stack?csArray.prototype.filter.call(csString.prototype.split.call(t.stack,"\n"),(function(t){return"Error"!==t&&-1===csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(t),"promise ")&&-1===csString.prototype.indexOf.call(t,"[native code]")&&-1===csString.prototype.indexOf.call(t,"(<anonymous>)")})):[];if(0===n.length)return"";var i=function(t){return t.length>0?Hi(t[0]):""}(n);return""===i?"":(n=function(t,n){return csArray.prototype.filter.call(t,(function(t){return-1===csString.prototype.indexOf.call(t,n)}))}(n,i),0===n.length?"":Hi(n[0]))}function Hi(t){var n,i="";n=t;var r=(-1!==csString.prototype.indexOf.call(n,"@")?new csRegExp("@(.+):(\\d+):(\\d+)$"):new csRegExp("\\((.+):(\\d+):(\\d+)\\)")).exec(t);return r&&(i=r[1]),i}var Fi,Bi=function(t){return t};function Vi(t,n){var i=csSymbol.for(n);if(t[i])return t[i];var r=Object.getOwnPropertyDescriptor(t,n);if(!(null==r?void 0:r.writable)&&!(null==r?void 0:r.set))return zn.warn("Cannot intercept read only function '".concat(csString(n),"' of object '").concat(t,"'")),null;var e=new Set;t[i]=e;var s,o,u=t[n];if("function"==typeof u){var c=function(){var t=arguments,n=[];try{n=csArray.prototype.map.call(Ni(e),(function(n){return n(t)}))}catch(t){zn.error(t)}var i=u.apply(this,t);try{for(var r=0;r<n.length;r++)n[r]({result:i,context:this,args:t})}catch(t){zn.error(t)}return i};(s=c).prototype=(o=u).prototype,Object.defineProperty(s,"toString",{value:function(){return o.toString()}}),t[n]=c}return e}function zi(t){var n=t.target,i=t.methodName,r=t.hook,e=t.hookPrepareArgs,s=void 0===e?Bi:e,o=t.options,u=Vi(n,i);if(!u)return null;var c=function(t){var n=s(t),i=(null==o?void 0:o.withCallerName)?{callerName:qi()}:{};return function(t){return r(Ln(Ln(Ln({},t),i),{args:n}))}};return{activate:function(){u.add(c)},deactivate:function(){u.delete(c)}}}function Gi(t,n,i){var r=function(t,n){var i=csSymbol.for(n);if(t[i])return t[i];var r=new Set,e=Object.getOwnPropertyDescriptor(t,n);return e?e.configurable?(t[i]=r,Object.defineProperty(t,n,{set:function(){var t,i=this,s=arguments,o=this[n],u=null===(t=e.set)||void 0===t?void 0:t.apply(this,s);try{r.forEach((function(t){return t(i,s[0],o)}))}catch(t){zn.error(t)}return u}}),r):(zn.warn("Cannot intercept read only property '".concat(csString(n),"' of object '").concat(t,"'")),null):r}(t,n);if(!r)return null;var e=function(t,n,r){return i(t,n,r)};return{activate:function(){r.add(e)},deactivate:function(){r.delete(e)}}}!function(t){t.isSupported=function(){return!!Element.prototype.attachShadow},t.getShadowRoot=function(t){return t&&Y(t)?t.shadowRoot:null},t.getAllShadowHosts=si((function(t){return _i(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll((function(t){return t.host}))}),"getAllShadowHosts")}(Fi||(Fi={}));var Ji=function(){function t(t){this.gn=t,this.gn=Jn("DocumentShadowRootObserver:callback",(function(n,i){return t(n,i)}))}var n;return t.Sn=function(t){this.bn.forEach((function(n){t(n,"initial")}))},t.En=function(t){var n,i,r=this;if(this.An||(this.An=new csMutationObserver((function(t){var n,i;try{for(var e=Fn(t),s=e.next();!s.done;s=e.next()){var o=s.value;o.target.isConnected&&Ei(o.addedNodes,r.Rn),Ei(o.removedNodes,r.On)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}))),csArray.prototype.push.call(this.Tn,t),!this.Nn){this.Nn=!0,this.An.observe(document,this.kn);try{for(var e=Fn(Fi.getAllShadowHosts(document)),s=e.next();!s.done;s=e.next()){var o=s.value,u=csElementshadowRoot.apply(o);this.bn.add(u),this.An.observe(u,this.kn)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}this.Cn||(this.Cn=zi({target:Element.prototype,methodName:"attachShadow",hook:function(t){return t.result.isConnected&&r.In(t.result)}})),this.Cn.activate()}this.Sn(t)},t.Mn=function(t){var n,i;this.Tn=csArray.prototype.filter.call(this.Tn,(function(n){return n!==t})),0===this.Tn.length&&(this.Tn=[],this.Nn=!1,null===(n=this.An)||void 0===n||n.disconnect(),null===(i=this.Cn)||void 0===i||i.deactivate(),this.bn.clear())},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){return Ni(n.bn)},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var t,i;return null!==(i=null===(t=n.An)||void 0===t?void 0:t.takeRecords())&&void 0!==i?i:[]},t.prototype.observe=function(){Fi.isSupported()&&n.En(this.gn)},t.prototype.disconnect=function(){Fi.isSupported()&&n.Mn(this.gn)},n=t,t.Tn=[],t.bn=new Set,t.Nn=!1,t.kn={childList:!0,subtree:!0},t.In=function(t){n.bn.has(t)||(n.An.observe(t,n.kn),n.bn.add(t),Ei(n.Tn,(function(n){return n(t,"added")})))},t.Rn=function(t){_i(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(n.In)},t.On=function(t){t.isConnected||_i(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll((function(t){n.bn.has(t)&&(n.bn.delete(t),Ei(n.Tn,(function(n){return n(t,"removed")})))}))},jn([Gn()],t.prototype,"observe",null),jn([Gn()],t.prototype,"disconnect",null),t}(),Yi=!0;function Wi(t,n){void 0===n&&(n=Yi),t.boundElement.addEventListener(t.type,t.listener,n)}function Xi(t,n){void 0===n&&(n=Yi),t.boundElement.removeEventListener(t.type,t.listener,n)}function $i(t,n){void 0===n&&(n=0);var i=Math.pow(10,n);return Math.round(t*i)/i}function Ki(t,n){"number"==typeof n&&(n={wait:n});var i,r=n.wait;if(n.ignoreThrottledCalls){var e=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=en();if(s-e>r)return e=s,t.apply(this,n)}}var s,o=[],u=null,c=0,h=function(){c=en(),u=null,s=t.apply(i,o)},a=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var a=en(),f=r-(a-c);return i=null!=this?this:window,o=Vn([],Bn(n),!1),f<=0||f>r?(c=a,s=t.apply(i,o),u?(window.csClearTimeout(u),u=null):o=[]):u||(u=window.csSetTimeout(h,f)),s};return a.cancel=function(){u&&(window.csClearTimeout(u),c=0,u=null,o=[])},a.flushPending=function(){u&&(window.csClearTimeout(u),h())},a}var Qi,Zi,tr,nr,ir,rr=function(t){return function(n,i,r){r.value=Ki(r.value,t)}};function er(t){var n=csEventtarget.apply(t);return n&&1===n.nodeType&&csElementshadowRoot.apply(n)&&t.composedPath?t.__csOriginalTarget||t.composedPath()[0]:n}!function(t){t[t.MUTATION_INSERT=1]="MUTATION_INSERT",t[t.MUTATION_REMOVE=2]="MUTATION_REMOVE",t[t.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",t[t.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",t[t.INITIAL_DOM=5]="INITIAL_DOM",t[t.SCROLL=6]="SCROLL",t[t.CLICK=8]="CLICK",t[t.RESIZE=9]="RESIZE",t[t.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",t[t.INPUT_SELECT=11]="INPUT_SELECT",t[t.INPUT_TEXT=12]="INPUT_TEXT",t[t.HASH_CHANGE=13]="HASH_CHANGE",t[t.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",t[t.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",t[t.MOUSE_OVER=16]="MOUSE_OVER",t[t.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",t[t.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",t[t.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",t[t.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",t[t.ATTACH_SHADOW=22]="ATTACH_SHADOW",t[t.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",t[t.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",t[t.PAGE_EVENT=27]="PAGE_EVENT",t[t.API_ERROR=28]="API_ERROR",t[t.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",t[t.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",t[t.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",t[t.KEY_DOWN=32]="KEY_DOWN",t[t.KEY_UP=33]="KEY_UP",t[t.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",t[t.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",t[t.USER_IDENTIFIER=38]="USER_IDENTIFIER",t[t.TOUCH_START=41]="TOUCH_START",t[t.TOUCH_MOVE=42]="TOUCH_MOVE",t[t.TOUCH_END=43]="TOUCH_END",t[t.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",t[t.POINTER_DOWN=47]="POINTER_DOWN",t[t.POINTER_MOVE=48]="POINTER_MOVE",t[t.POINTER_UP=49]="POINTER_UP",t[t.CUSTOM_ERROR=50]="CUSTOM_ERROR",t[t.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",t[t.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",t[t.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",t[t.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",t[t.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",t[t.SCREEN_RESIZE=65]="SCREEN_RESIZE",t[t.RESOURCE_HASHES=66]="RESOURCE_HASHES",t[t.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",t[t.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",t[t.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",t[t.TEXT_REF=73]="TEXT_REF",t[t.TOUCH_CANCEL=74]="TOUCH_CANCEL",t[t.MUTATION_MOVE=75]="MUTATION_MOVE",t[t.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",t[t.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",t[t.VIDEO_PLAY=78]="VIDEO_PLAY",t[t.VIDEO_PAUSE=79]="VIDEO_PAUSE",t[t.VIDEO_SEEK=80]="VIDEO_SEEK",t[t.DEBUG=999]="DEBUG"}(Qi||(Qi={})),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Fourth=3]="Fourth",t[t.Fifth=4]="Fifth"}(Zi||(Zi={})),function(t){t[t.SWIPE=0]="SWIPE",t[t.PINCH_IN=1]="PINCH_IN",t[t.PINCH_OUT=2]="PINCH_OUT",t[t.LONG_PRESS=3]="LONG_PRESS",t[t.TAP=4]="TAP",t[t.DOUBLE_TAP=5]="DOUBLE_TAP"}(tr||(tr={})),function(t){t[t.SPACE=0]="SPACE",t[t.ENTER=1]="ENTER",t[t.BACKSPACE=2]="BACKSPACE",t[t.DELETE=3]="DELETE",t[t.ARROWUP=4]="ARROWUP",t[t.ARROWDOWN=5]="ARROWDOWN",t[t.ARROWLEFT=6]="ARROWLEFT",t[t.ARROWRIGHT=7]="ARROWRIGHT",t[t.CAPSLOCK=8]="CAPSLOCK",t[t.SHIFT=9]="SHIFT",t[t.TAB=10]="TAB",t[t.ALPHANUMERICAL=11]="ALPHANUMERICAL",t[t.ESCAPE=12]="ESCAPE",t[t.END=13]="END",t[t.ALT=14]="ALT",t[t.CTRL=15]="CTRL",t[t.META=16]="META"}(nr||(nr={})),function(t){t[t.COPY=0]="COPY",t[t.CUT=1]="CUT",t[t.PASTE=2]="PASTE"}(ir||(ir={}));var sr,or=!!window.chrome,ur="data-cs-scroll-container";!function(t){t.isEventOnScrollContainer=function(t){return!!(k(t)&&function(t){try{if(k(csEventtarget.apply(t)))return!0}catch(t){}return!1}(t)&&I(csEventtarget.apply(t))&&null!==csEventtarget.apply(t).getAttribute(ur))},t.getScrollContainer=function(){return window.csquerySelector[document.nodeType].call(document,"[".concat(ur,"]"))}}(sr||(sr={}));var cr,hr,ar=(cr=csSymbol.for("propStore"),{getStore:function(t){return t[cr]},get:function(t,n){var i=t[cr];return null==i?void 0:i[n]},set:function(t,n,i){var r=t[cr];r||(r={},t[cr]=r),r[n]=i}});!function(t){function n(t,n){i(t,void 0,n)}function i(t,n,r){var e,s,o=!1;if(r(t,n,(function(){return o=!0})),!o){var u=t.shadowRoot;u&&i(u,t,r);var c=t.children;if(null==c?void 0:c.length)try{for(var h=p(c),a=h.next();!a.done;a=h.next()){var f=a.value;if(f&&(i(f,t,r),o))break}}catch(t){e={error:t}}finally{try{a&&!a.done&&(s=h.return)&&s.call(h)}finally{if(e)throw e.error}}}}t.setProperty=function(t,n,i){var r;t instanceof Node?ar.set(t,n,i):(null!==(r=t.props)&&void 0!==r||(t.props={}),t.props[n]=i)},t.getProperty=function(t,n){var i;return t instanceof Node?ar.get(t,n):null===(i=t.props)||void 0===i?void 0:i[n]},t.getProperties=function(t){return t instanceof Node?ar.getStore(t):t.props},t.findDescendant=function(t,i){var r=null;return n(t,(function(t,n,e){return i(t)&&(r=t)&&!!e()})),r},t.traverse=n}(hr||(hr={}));var fr=1,lr=csSymbol("nodeIdentifier");function vr(t){var n=hr.getProperty(t,lr);return null!=n?n:(hr.setProperty(t,lr,fr++),hr.getProperty(t,lr))}var dr,yr;function wr(t){if(dr||(dr=document.createElement("div")),!(!!t&&R(t)))return zn.warn("isValidSelector: invalid selector provided '".concat(t,"'")),!1;try{return nt.call(dr,t),!0}catch(n){return zn.warn("isValidSelector: invalid selector provided '".concat(t,"'")),!1}}function pr(t,n){if(it)return it.call(t,n);var i=t;do{if(nt.call(i,n))return i;i=null==i?void 0:i.parentElement}while(null!==i&&1===i.nodeType);return null}!function(t){var n;!function(t){t[t.NotMasked=0]="NotMasked",t[t.Parent=1]="Parent",t[t.Child=2]="Child"}(n=t.MaskedElementState||(t.MaskedElementState={})),t.maskedProp="masked",t.maskedAttributeProp="maskedAttribute",t.isSelectorUserInput=function(t){return!!(T(t)&&"Attributes"in t&&"PIISelectors"in t)&&(t.Attributes instanceof Array&&t.PIISelectors instanceof Array)},t.sanitizeSelectorUserInput=function(t){return T(t)&&null!==t?("Attributes"in t||(t.Attributes=[]),"PIISelectors"in t||(t.PIISelectors=[]),t):(zn.implementation("setPIISelectors called with invalid input of type ".concat(typeof t,": ").concat(csJSON.stringify(t))),{Attributes:[],PIISelectors:[]})},t.getMaskedElementDetails=function(i){var r;return null!==(r=hr.getProperty(i,t.maskedProp))&&void 0!==r?r:{state:n.NotMasked}},t.getMaskedAttributeDetails=function(n){var i;return null!==(i=hr.getProperty(n,t.maskedAttributeProp))&&void 0!==i?i:{attributes:[]}},t.isMaskedElement=function(i){var r=hr.getProperty(i,t.maskedProp);return(null==r?void 0:r.state)===n.Parent},t.isMaskedElementChild=function(i){var r=hr.getProperty(i,t.maskedProp);return(null==r?void 0:r.state)===n.Child},t.isMaskedAttribute=function(n,i){var r=hr.getProperty(n,t.maskedAttributeProp);return(null==(null==r?void 0:r.attributes)?void 0:csArray.prototype.indexOf.call(null==r?void 0:r.attributes,i))>-1},t.setMaskedElementProperty=function(n,i){hr.setProperty(n,t.maskedProp,i)},t.unsetMaskedElementProperty=function(n){hr.setProperty(n,t.maskedProp,void 0)},t.setMaskedAttributeProperty=function(n,i){hr.setProperty(n,t.maskedAttributeProp,i)},t.getComputedSelectorSettings=function(t,n){var i,r=csArray.prototype.filter.call(t.PIISelectors,(function(t){return wr(t)}));n.elementSelector.length>0&&(i=csArray.prototype.push).call.apply(i,g([r],m(csString.prototype.split.call(n.elementSelector,",")),!1));var e,s,o=function(t){var n,i,r,e;if(t.length<=1)return t;var s=[];try{for(var o=p(t),u=o.next();!u.done;u=o.next()){var c=u.value,h=csString.prototype.split.call(c,",");try{for(var a=(r=void 0,p(h)),f=a.next();!f.done;f=a.next()){var l=f.value;-1===csArray.prototype.indexOf.call(s,l)&&csArray.prototype.push.call(s,l)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s}(g([],m(r),!1)),u={elementSelector:csArray.prototype.join.call(o,","),attrSelector:n.attrSelector,attrSelectors:n.attrSelectors};return csArray.prototype.forEach.call(t.Attributes,(function(t){(null==t?void 0:t.attrName)&&(null==t?void 0:t.selector)&&wr(t.selector)&&!function(t,n){return csArray.prototype.some.call(t,(function(t){return t.selector===n.selector&&t.attrName===n.attrName}))}(u.attrSelectors,t)&&csArray.prototype.push.call(u.attrSelectors,t)})),u.attrSelector=(e=u.attrSelectors,s="",csArray.prototype.forEach.call(e,(function(t){var n=csString.prototype.split.call(t.selector,",");csArray.prototype.forEach.call(n,(function(t){wr(t)&&(s&&(s+=","),s+=t)}))})),s),u}}(yr||(yr={}));var mr=function(){function t(){var t=this;this.eventType="user",this.xn=[],this.Pn=[{type:"pointerup",listener:function(n){return t.pointerUpListener(n)},boundElement:document},{type:"pointermove",listener:function(n){return t.pointerMoveListener(n)},boundElement:document},{type:"pointerdown",listener:function(n){return t.pointerDownListener(n)},boundElement:document}],this._n=[{type:"touchstart",listener:function(n){return t.touchStartListener(n)},boundElement:document},{type:"touchmove",listener:function(n){return t.touchMoveListener(n)},boundElement:document},{type:"touchend",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document},{type:"touchcancel",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document}],this.Dn=[{type:"click",listener:function(n){return t.clickListener(n)},boundElement:document},{type:"keyup",listener:function(n){return t.keyUpListener(n)},boundElement:document},{type:"keydown",listener:function(n){return t.keyDownListener(n)},boundElement:document},{type:"copy",listener:function(n){return t.copyListener(n)},boundElement:document},{type:"cut",listener:function(n){return t.cutListener(n)},boundElement:document},{type:"paste",listener:function(n){return t.pasteListener(n)},boundElement:document},{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))},boundElement:document},{type:"mouseover",listener:function(n){return t.mouseOverListener(n)},boundElement:document}],this.Ln=[{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))}}];var n=function(t){if(!R(t))return null;var n=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(t);return n?Number(n[2]):null}(window.navigator.userAgent);(null===n||n&&n>=16)&&csArray.prototype.push.call(this.Ln,{type:"mouseover",listener:function(n){return t.mouseOverListener(n)}}),this.Un=new Ji((function(n,i){switch(i){case"initial":case"added":t.jn(n);break;case"removed":t.qn(n)}}))}return t.prototype.init=function(){this.Hn(),this.Fn(),this.Bn()},t.prototype.onEvent=function(t){csArray.prototype.push.call(this.xn,t)},t.prototype.Vn=function(t,n){void 0===n&&(n=!1),csArray.prototype.forEach.call(this.xn,(function(i){return i(t,n)}))},t.prototype.start=function(){this.zn(),this.jn(document),this.Un.observe()},t.prototype.stop=function(){this.qn(document),this.Un.disconnect()},t.prototype.Fn=function(){var t;this.Gn()&&(t=csArray.prototype.push).call.apply(t,At([this.Dn],Et(this.Pn),!1))},t.prototype.Hn=function(){var t;this.Jn()&&(t=csArray.prototype.push).call.apply(t,At([this.Dn],Et(this._n),!1))},t.prototype.jn=function(t){G(t)?csArray.prototype.forEach.call(this.Dn,(function(t){return Wi(t)})):csArray.prototype.forEach.call(this.Ln,(function(n){Wi({type:n.type,listener:n.listener,boundElement:t})}))},t.prototype.qn=function(t){G(t)?csArray.prototype.forEach.call(this.Dn,(function(t){return Xi(t)})):csArray.prototype.forEach.call(this.Ln,(function(n){Xi({type:n.type,listener:n.listener,boundElement:t})}))},t.prototype.Gn=function(){return"PointerEvent"in window&&"function"==typeof window.PointerEvent},t.prototype.Jn=function(){return"TouchEvent"in window&&"function"==typeof window.TouchEvent},t.prototype.zn=function(){this.Yn()},t.prototype.Yn=function(){var t=sr.getScrollContainer()||document,n=vr(t),i=this.Wn(t);if(0!==i.top||0!==i.left){var r={type:Qi.SCROLL,args:[n,i.left,i.top],date:en()};this.Vn(r,!0)}},t.prototype.Wn=function(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}},t.prototype.scrollListener=function(t){if(!yr.isMaskedElement(t)&&!yr.isMaskedElementChild(t)){var n=vr(t),i=this.Wn(t),r={type:Qi.SCROLL,args:[n,i.left,i.top],date:en()};this.Vn(r)}},t.prototype.mouseOverListener=function(t){if(!yr.isMaskedElementChild(t.target)){var n=vr(t.target),i={type:Qi.MOUSE_OVER,args:[n],date:en()};this.Vn(i)}},t.prototype.clickListener=function(t){var n=er(t);if(!yr.isMaskedElementChild(n)){var i=vr(n),r={type:Qi.CLICK,args:[i],date:en()};this.Vn(r)}},t.prototype.keyUpListener=function(t){var n=er(t);if(!yr.isMaskedElementChild(n)){var i=vr(n),r=this.Xn[t.key];if(void 0!==r){var e={type:Qi.KEY_UP,args:[i,r],date:en()};this.Vn(e)}}},t.prototype.keyDownListener=function(t){var n=er(t);if(!yr.isMaskedElementChild(n)){var i=vr(n),r=this.Xn[t.key];if(void 0!==r){var e={type:Qi.KEY_DOWN,args:[i,r],date:en()};this.Vn(e)}}},t.prototype.copyListener=function(t){var n=er(t);if(!yr.isMaskedElementChild(n)){var i=vr(n),r={type:Qi.CLIPBOARD_COMMAND,args:[i,ir.COPY],date:en()};this.Vn(r)}},t.prototype.cutListener=function(t){var n=er(t);if(!yr.isMaskedElementChild(n)){var i=vr(n),r={type:Qi.CLIPBOARD_COMMAND,args:[i,ir.CUT],date:en()};this.Vn(r)}},t.prototype.pasteListener=function(t){var n=er(t);if(!yr.isMaskedElementChild(n)){var i=vr(n),r={type:Qi.CLIPBOARD_COMMAND,args:[i,ir.PASTE],date:en()};this.Vn(r)}},t.prototype.pointerUpListener=function(t){var n=er(t);if(!yr.isMaskedElementChild(n)){var i=vr(n),r={type:Qi.POINTER_UP,args:[t.pointerId,t.pointerType,$i(t.clientX,1),$i(t.clientY,1),i,t.button],date:en()};this.Vn(r)}},t.prototype.pointerMoveListener=function(t){var n={type:Qi.POINTER_MOVE,args:[t.pointerId,t.pointerType,$i(t.clientX,1),$i(t.clientY,1)],date:en()};this.Vn(n)},t.prototype.pointerDownListener=function(t){var n=er(t);if(!yr.isMaskedElementChild(n)){var i=vr(n),r={type:Qi.POINTER_DOWN,args:[t.pointerId,t.pointerType,$i(t.clientX,1),$i(t.clientY,1),i,t.button,{pageX:$i(t.pageX,1),pageY:$i(t.pageY,1)}],date:en()};this.Vn(r)}},t.prototype.touchStartListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:Qi.TOUCH_START,args:[r.identifier,$i(r.clientX,1),$i(r.clientY,1)],date:en()};this.Vn(e)}},t.prototype.touchMoveListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:Qi.TOUCH_MOVE,args:[r.identifier,$i(r.clientX,1),$i(r.clientY,1)],date:en()};this.Vn(e)}},t.prototype.touchEndCancelListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:"touchend"===t.type?Qi.TOUCH_END:Qi.TOUCH_CANCEL,args:[r.identifier,$i(r.clientX,1),$i(r.clientY,1)],date:en()};this.Vn(e)}},t.prototype.Bn=function(){this.Xn={},this.Xn[" "]=nr.SPACE,this.Xn.Spacebar=nr.SPACE,this.Xn.Backspace=nr.BACKSPACE,this.Xn.Enter=nr.ENTER,this.Xn.Delete=nr.DELETE,this.Xn.ArrowUp=nr.ARROWUP,this.Xn.ArrowDown=nr.ARROWDOWN,this.Xn.ArrowLeft=nr.ARROWLEFT,this.Xn.ArrowRight=nr.ARROWRIGHT,this.Xn.Up=nr.ARROWUP,this.Xn.Down=nr.ARROWDOWN,this.Xn.Left=nr.ARROWLEFT,this.Xn.Right=nr.ARROWRIGHT,this.Xn.CapsLock=nr.CAPSLOCK,this.Xn.Shift=nr.SHIFT,this.Xn.Tab=nr.TAB,this.Xn.Escape=nr.ESCAPE,this.Xn.Esc=nr.ESCAPE,this.Xn.End=nr.END,this.Xn.Alt=nr.ALT,this.Xn.Control=nr.CTRL,this.Xn.Meta=nr.META},mt([ai("RecordingPageEvents.start")],t.prototype,"start",null),mt([Gn("scroll")],t.prototype,"scrollListener",null),mt([Gn("mouseOver"),Wn(),function(t,n,i){var r=i.value;return r&&(i.value=function(t){if(er(t)===csEventtarget.apply(t))return r.call(this,t)}),i}],t.prototype,"mouseOverListener",null),mt([Gn("click"),Wn()],t.prototype,"clickListener",null),mt([Gn("Event handler type: keyup")],t.prototype,"keyUpListener",null),mt([Gn("Event handler type: keydown")],t.prototype,"keyDownListener",null),mt([Gn("Event handler type: copy")],t.prototype,"copyListener",null),mt([Gn("Event handler type: cut")],t.prototype,"cutListener",null),mt([Gn("Event handler type: paste")],t.prototype,"pasteListener",null),mt([Gn("Event handler type: pointerup"),Wn()],t.prototype,"pointerUpListener",null),mt([Gn("Event handler type: pointermove"),Wn(),rr({wait:33,ignoreThrottledCalls:!1})],t.prototype,"pointerMoveListener",null),mt([Gn("Event handler type: pointerdown"),Wn()],t.prototype,"pointerDownListener",null),mt([Gn("Event handler type: touchstart"),Wn()],t.prototype,"touchStartListener",null),mt([Gn("Event handler type: touchmove"),Wn()],t.prototype,"touchMoveListener",null),mt([Gn("Event handler type: touchend-cancel"),Wn()],t.prototype,"touchEndCancelListener",null),t}(),gr=function(){function t(t){this.$n=t,this.Kn=0}return t.prototype.addString=function(t){this.Kn+=2*t.length},t.prototype.addArrayBuffer=function(t){this.Kn+=t.byteLength},t.prototype.isThresholdReached=function(){return this.Kn>this.$n},t.prototype.reset=function(){this.Kn=0},t}(),Sr=function(){function t(t,n){void 0===t&&(t=[]),void 0===n&&(n=2048e3),this.Qn=t,this.Zn=new gr(n)}return t.prototype.addEvent=function(t){this.Zn.addString(It(t)),csArray.prototype.push.call(this.Qn,t)},t.prototype.addEventByTimestamp=function(t){for(var n=0;n<this.Qn.length;n+=1){if(this.Qn[n].date>=t.date)break}csArray.prototype.splice.call(this.Qn,n,0,t)},t.prototype.eventsCount=function(){return this.Qn.length},t.prototype.clearEvents=function(){this.Zn.reset(),this.Qn=[]},t.prototype.isFull=function(){return this.eventsCount()>=200},t.prototype.isThresholdReached=function(){return this.Zn.isThresholdReached()},t.prototype.getEvents=function(){return this.Qn},t.prototype.extractEvents=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=[],r=[];return csArray.prototype.forEach.call(this.Qn,(function(n){-1!==csArray.prototype.indexOf.call(t,n.type)?csArray.prototype.push.call(i,n):csArray.prototype.push.call(r,n)})),this.Qn=r,i},t.prototype.stringifyEvents=function(){return It(this.Qn)},t.prototype.ti=function(t){t.type===Qi.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)},mt([ai("RecordingBatch.addEvent")],t.prototype,"addEvent",null),t}(),br=function(){function t(){this.ni=1}return t.prototype.getCurrentIndex=function(){return this.ni},t.prototype.increment=function(){this.ni+=1},t.prototype.reset=function(){this.ni=1},t.prototype.getRequestParameters=function(){return{ri:"".concat(this.ni)}},t}(),Er=function(){function t(){}return t.prototype.emit=function(n,i,r,e){void 0===e&&(e=document);var s="".concat(void 0!==r?r:t.ii),o="".concat(s).concat(n),u=t.createEvent(o,{detail:i});null!==u&&e.dispatchEvent(u)},t.createEvent=function(t,n){if(void 0===n&&(n={}),"function"==typeof CustomEvent)return new CustomEvent(t,n);var i=this.ei();if(null===i)return null;var r=n.bubbles,e=void 0!==r&&r,s=n.cancelable,o=void 0!==s&&s,u=n.detail;return i.initCustomEvent(t,e,o,u),i},t.ei=function(){try{return document.createEvent("CustomEvent")}catch(t){return null}},t.ii="cs.tracking.",t}(),Ar=function(){function t(){this._isStarted=!1}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),t.prototype.start=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._isStarted||(this._isStarted=!0,this.onStart.apply(this,At([],Et(t),!1)))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,this.onStop())},t.prototype.restart=function(){this.stop(),this.start()},t}(),Rr="null",Or=null,Tr=[];function Nr(t){null==Or||Or.postMessage(t)}!r&&function(){var t;return r||!!(null===(t=document.body)||void 0===t?void 0:t.getAttribute("data-cs-tag-extension"))}()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],Or=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",(function(t){Nr({type:"UXA_EVENT",event:t.detail})})),Or.addEventListener("message",(function(t){if("CONNECT"===t.data.type){if(t.data.sessionId===Rr)return;Rr=t.data.sessionId,csArray.prototype.forEach.call(Tr,(function(t){return t()})),null==Or||Or.postMessage({type:"CONNECTED",sessionId:Rr})}})));var kr,Cr,Ir,Mr,xr,Pr=function(t,n){void 0===n&&(n=""),this.name=t,this.format=n},_r=function(t){function n(n){var i=t.call(this,n,"Value: {count}")||this;return i.count=0,i}return Dn(n,t),n.prototype.increase=function(t){void 0===t&&(t=1),this.count+=t},n.prototype.decrease=function(){this.count>0&&this.count--},n.prototype.clear=function(){this.count=0},n.prototype.getData=function(){return{count:this.count}},n}(Pr),Dr=(function(t){function n(n,i){var r=t.call(this,n,"Value: {count}")||this;return r.si=i,r}Dn(n,t),n.prototype.getData=function(){return{count:this.si()}}}(Pr),function(t){function n(n){var i=t.call(this,n,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}")||this;return i.added=0,i.removed=0,i}return Dn(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.added-this.removed},enumerable:!1,configurable:!0}),n.prototype.increase=function(){this.added++},n.prototype.decrease=function(){this.removed++},n.prototype.getData=function(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}},n}(Pr)),Lr=function(t){function n(n){var i=t.call(this,n,"Count: {count}<br/>Average: {average}ms<br/>Total: {total}ms")||this;return i.total=0,i.count=0,i}return Dn(n,t),Object.defineProperty(n.prototype,"average",{get:function(){return this.count?this.total/this.count:0},enumerable:!1,configurable:!0}),n.prototype.measure=function(t){var n=sn();t(),this.count++,this.total+=sn()-n},n.prototype.asyncMeasure=function(){var t=this,n=sn();return function(){t.count++,t.total+=sn()-n}},n.prototype.getData=function(){return{total:this.total,count:this.count,average:this.average}},n}(Pr),Ur={general:{category:"General",nbEvents:new _r("Nb of Events"),pendingTasks:new _r("Pending Tasks"),pendingEvents:new _r("Pending Tasks"),nbOfMutationObservers:new Dr("Nb of Mutation Observers")},mutations:{category:"Mutations",initialDOM:new Lr("Initial DOM"),pendingMutations:new _r("Nb of Mutations scheduled"),serializedMutations:new Lr("Serialized Mutations"),count:new _r("Mutation Count"),elementMutationObserved:new Dr("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new Lr("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new _r("Nb of Hidden Elements "),nbElements:new _r("Nb of  Elements")}},jr=null;function qr(t){return hn(t,"data:")}function Hr(t){var n=csString.prototype.trim.call(t);if(""===t)return[];var i,r=Bn((i=n,csString.prototype.split.call(i,/\s(.+)/)),2),e=r[0],s=r[1];return s?(an(e,",")||(s=function(t){return csString.prototype.split.call(t,/,(.+)/)[1]||""}(s)),Vn([Fr(e)],Bn(Hr(s)),!1)):[Fr(e)]}function Fr(t){return csString.prototype.split.call(t,/,$/)[0]}kr=function(){var t=function(t){return Object.keys(t)},n=csArray.prototype.map.call(t(Ur),(function(t){return Ur[t]})),i=csArray.prototype.map.call(n,(function(n){return csArray.prototype.filter.call(csArray.prototype.map.call(t(n),(function(t){return n[t]})),(function(t){return t instanceof Pr}))})),r=csArray.prototype.map.call(n,(function(t,n){return{category:t.category,performanceCounters:csArray.prototype.map.call(i[n],(function(t){return{name:t.name,format:t.format}}))}}));Nr({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:r}),jr||(jr=csSetInterval((function(){var t=bi(Si(i,(function(t){return Si(t,(function(t){return t.getData()}))})),(function(t){return t}));Nr({type:"UXA_PERFORMANCE_COUNTER",event:t})}),1e3))},r||(null!==Rr&&csSetTimeout(kr),csSetTimeout((function(){return csArray.prototype.push.call(Tr,kr)}))),function(t){t.QUOTA_REACHED="X",t.RECORDING_RULES_TARGETING="8",t.ANALYTICS_ONLY_RULES_TARGETING="9",t.ANALYTICS_ONLY="0",t.RECORDING_GLOBAL_SAMPLING="5",t.RECORDING_TEMPORARILY="T",t.RECORDING_URL_SAMPLING="6",t.RECORDING_ETR_SAMPLING="7",t.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",t.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(Cr||(Cr={})),function(t){t.ETR_OFF="0",t.ETR_ON="1"}(Ir||(Ir={})),function(t){t.ETR_LEGACY="0",t.ETR_SESSION="1",t.ETR_PAGE="2"}(Mr||(Mr={})),function(t){t.ETR_DISABLED="0",t.ETR_PENDING="1",t.ETR_SAVED_PAGE="2",t.ETR_SAVED_SESSION="3",t.ETR_NOT_SAVED_SESSION="9"}(xr||(xr={}));var Br=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function Vr(t,n){var i=csString.prototype.replace.call(t,Br,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r,e,s=t[3]||t[4],o=t[9]||t[10]||t[11],u=(r=(s||o).trim(),e=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g,csString.prototype.replace.call(r,e,(function(t,n,i,r){if("\\"===n)return csString.prototype.slice.call(t,1);if(r)return r;var e=parseInt(i,16);return 55296<=e&&e<=57343||0===e||e>1114111?"ï¿½":csString.fromCodePoint(e)}))),c=s?"@import ":"",h=n(u)||u;return"".concat(c,"url(").concat(function(t){if(-1===csString.prototype.indexOf.call(t,'"'))return'"'.concat(t,'"');if(-1===csString.prototype.indexOf.call(t,"'"))return"'".concat(t,"'");return t}(h),")")}));return i}function zr(t){var n=new Set;return Vr(t,(function(t){var i,r;return n.add(null!==(r=null===(i=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))||void 0===i?void 0:i[1])&&void 0!==r?r:t),t})),Ni(n)}var Gr=new Map,Jr=!r&&document.implementation.createHTMLDocument("");function Yr(t){if(!j(t))return null;var n=Wr(t);if(null===n||0===n.length)return null;var i="";if(x(t.textContent))Ei(n,(function(t){return i+=t.cssText}));else{var r=function(t){if(!Jr)return 0;var n=Gr.get(t.textContent);if(n)return n;var i=t.cloneNode(!0);i.textContent=t.textContent,Jr.head.appendChild(i);var r=Wr(i);return n=r?r.length:0,Gr.set(t.textContent,n),Jr.head.removeChild(i),n}(t);if(r===n.length)return null;if(r>n.length)return null;for(var e=new csArray(n.length-r),s=r,o=0;s<n.length;s+=1,o+=1)e[o]=n[s];Ei(e,(function(t){return i+=t.cssText}))}return i}function Wr(t){try{if(t.disabled)return null;var n=t.sheet;return n?n.cssRules||n.rules:null}catch(t){if("SecurityError"!==t.name&&"InvalidAccessError"!==t.name)throw t;return null}}var Xr=function(t){return t instanceof HTMLFormElement?"form":t.localName},$r=function(t){this.csId=vr(t),this.props=ar.getStore(t)},Kr=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=3,i.data=n.data,i}return l(n,t),n}($r),Qr=function(t){function n(n){var i,r=t.call(this,n)||this;r.attributes=[],r.nodeType=1,r.localName=Xr(n),r.namespaceURI=null!==(i=n.namespaceURI)&&void 0!==i?i:void 0,r.children=[];var e=Yr(n);if(e){r.children=new csArray(csNodechildNodes.apply(n).length);var s=document.createTextNode(e),o=new Kr(s);csArray.prototype.push.call(r.children,o)}return B(n)&&hr.setProperty(r,"SVG",!0),r}return l(n,t),n.isElement=function(t){return 1===t.nodeType},n.getAttribute=function(t,n){return Ai(t.attributes,(function(t){return t.name===n}))},n.getAttributeValue=function(t,n){var i;return null===(i=this.getAttribute(t,n))||void 0===i?void 0:i.value},n}($r),Zr=function(){function t(t){var n=this;this.type="asyncEvent",this.oi=!1,t&&t((function(t){return n.resolve(t)}))}return t.prototype.resolve=function(t){if(this.oi)throw new Error("AsyncEvent already resolve.");null==t.timestamp&&(t=v(v({},t),{timestamp:this.timestamp})),this.ui=t,this.oi=!0,this.gn&&this.gn(this.ui)},t.prototype.complete=function(t){this.oi&&t(this.ui),this.gn=t},t.prototype.wait=function(){var t=this;return new Promise((function(n){return t.complete(n)}))},t}();var te,ne,ie=(te="queueMicrotask",ne=csSetTimeout,void 0!==e[te]?e[te]:ne);"object"==typeof window&&C(window.csQueueMicrotask)&&(ie=window.csQueueMicrotask);var re=new Xn,ee=new Xn,se=1;function oe(t,n){void 0===n&&(n="high");var i=se;re.isEmpty&&ee.isEmpty&&ue((function(){if(se===i){var t=si((function(){for(;!ee.isEmpty;){ee.pop()()}for(;!re.isEmpty;){re.pop()()}ee.isEmpty||t()}),"groupMicrotask.run");t()}}));var r=t.name||t.toString(),e=Jn("groupMicrotask:".concat(n,":").concat(r),t);"high"===n?ee.push(e):re.push(e)}function ue(t,n){void 0===n&&(n=10),ie(0===n?t:function(){return ue(t,n-1)})}function ce(t){return void 0===t&&(t=1),qn(this,void 0,void 0,(function(){var n;return Hn(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<t?[4,new Promise((function(t){return oe(t)}))]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}var he,ae,fe=function(t,n){return void 0===n&&(n=0),csSetTimeout(function(t){return function(){try{t.apply(window,arguments)}catch(t){zn.critical(t)}}}(t),n)};!function(t){function n(){var t=[r()];return document.documentElement&&csArray.prototype.push.call(t,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(t,document.body.scrollHeight,document.body.offsetHeight),Math.max.apply(Math,Vn([],Bn(t),!1))}function i(){return document.documentElement.scrollWidth}function r(){return window.innerHeight}function e(){return window.innerWidth}function s(){var t=window.csScreen.width;return A(t)&&t>0?t:window.screen.width}function o(){var t=window.csScreen.height;return A(t)&&t>0?t:window.screen.height}t.documentHeight=n,t.documentWidth=i,t.windowHeight=r,t.windowWidth=e,t.screenWidth=s,t.screenHeight=o,t.windowOffsetX=function(){return window.pageXOffset},t.windowOffsetY=function(){return window.pageYOffset},t.getRequestParameters=function(){return{dw:"".concat(i()),dh:"".concat(n()),ww:"".concat(e()),wh:"".concat(r()),sw:"".concat(s()),sh:"".concat(o())}}}(he||(he={}));var le,ve=null!==(ae=e.Node)&&void 0!==ae?ae:Object;function de(){var t=new Set;return{add:function(n){t.add(n),1===t.size&&csSetTimeout((function(){t.clear()}))},has:function(n){return t.has(n)},del:function(n){t.delete(n)},clear:function(){t.clear()},values:function(){return Ni(t)},get count(){return t.size}}}function ye(t,n){void 0===n&&(n=!1);var i=de();return{push:function(r){0===i.count&&(n?oe:csSetTimeout)((function(){t(i.values()),i.clear()}));i.add(r)}}}!function(t){var n="isConnected"in ve.prototype?function(t){return t.isConnected}:function(t){return!(t.ownerDocument&&t.ownerDocument.compareDocumentPosition(t)&t.DOCUMENT_POSITION_DISCONNECTED)};t.forEachChild=function(t,n){for(var i=t;i;i=csNodenextSibling.apply(i))n(t)},t.isConnected=function(t){return n(t)},t.getAncestors=function(t,n){var i,e,s=[];try{for(var o=Fn(r(t,n)),u=o.next();!u.done;u=o.next()){var c=u.value;csArray.prototype.push.call(s,c)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return s};var i=function(t,n){var i;return null!==(i=csNodeparentNode.apply(t))&&void 0!==i?i:n&&J(t)?t.host:null};function r(t,n){var r,e;return void 0===n&&(n=!1),Hn(this,(function(s){switch(s.label){case 0:r=t,s.label=1;case 1:return r?[4,r]:[3,3];case 2:return s.sent(),(e=i(r,n))&&e!==r?(r=e,[3,1]):[3,3];case 3:return[2]}}))}function e(n){var i;return n.parentElement?n.parentElement:t.getRootNode(n)?null===(i=t.getRootNode(n))||void 0===i?void 0:i.host:null}function s(t){var n,i;if(!1===(null===(n=t.checkVisibility)||void 0===n?void 0:n.call(t,{checkOpacity:!0,checkVisibilityCSS:!0})))return!0;if(!t.offsetParent){if(!t.getBoundingClientRect)return zn.warn("SUP-11432: Element doesn't have getBoundingClientRect. Node: ".concat(t instanceof ve," Ctor: ").concat(null===(i=null==t?void 0:t.constructor)||void 0===i?void 0:i.name)),!1;var r=t.getBoundingClientRect();if(0==r.width&&0==r.height)return!0}var e,s=window.getComputedStyle(t);return!s||("none"===s.display||"hidden"===s.visibility||"collapse"===s.visibility||"0"===s.opacity||"opacity(0)"===s.filter||"0px"===s.width&&"0px"===s.height||("transparent"===(e=s.color)||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(e)))}function o(t){var n=t.getBoundingClientRect(),i=n.left+.5*n.width,r=n.top+.5*n.height;return u(document,i,r)}function u(n,i,r){var e=n.elementFromPoint(i,r);if(!e)return null;var s=Fi.getShadowRoot(e);return s&&s!=t.getRootNode(document.body)&&s!==n?u(s,i,r):e}function c(t){var n=o(t);return null!==n&&(t===n||(h(t)?""!==t.textContent&&n.contains(t):t.contains(n)))}function h(t){return"span"===t.localName||"a"===t.localName||"b"===t.localName||"i"===t.localName||"button"===t.localName||"input"===t.localName||"label"===t.localName||"cite"===t.localName||"small"===t.localName||"strong"===t.localName||"code"===t.localName||"abbr"===t.localName||"em"===t.localName||"dfn"===t.localName||"time"===t.localName||"output"===t.localName||"object"===t.localName||"sub"===t.localName}t.findAncestor=function(t,n,r){void 0===r&&(r=!1);for(var e=t;e;){if(n(e))return e;var s=i(e,r);if(!s||s===e)break;e=s}return null},t.walkUp=r,t.isDescendantOf=function n(i,r){if(i===r||r.contains(i))return!0;var e=t.getParentElement(i);return!(!e||e===i)&&n(e,r)},t.getParentElement=e,t.findAllElements=function(t,n){var i,r,e;void 0===n&&(n=document);var s=gi(window.csquerySelectorAll[n.nodeType].call(n,t)),o=Fi.getAllShadowHosts(n);try{for(var u=Fn(o),c=u.next();!c.done;c=u.next()){var h=c.value,a=Fi.getShadowRoot(h);if(a){var f=gi(window.csquerySelectorAll[a.nodeType].call(a,t));(e=csArray.prototype.push).call.apply(e,Vn([s],Bn(f),!1))}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return s},t.getRootNode=function(){if("getRootNode"in ve.prototype)return function(t,n){return t.getRootNode(n)};function t(i){var r=n(i);return J(r)?t(r.host):r}function n(t){return null!=csNodeparentNode.apply(t)?n(csNodeparentNode.apply(t)):t}return function(i,r){return"object"==typeof r&&Boolean(r.composed)?t(i):n(i)}}(),t.isHiddenByCSS=s,t.areAncestorsHiddenByCSS=function t(n){if(s(n))return!0;var i=e(n);return null!=i&&t(i)},t.getTopAncestorHiddenByCSS=function(t){var n=null,i=t;do{if(!s(i))break;n=i}while(i=e(i));return n},t.getTopElement=o,t.getElementOnTop=function(n){if(!n.getBoundingClientRect)return null;var i=n.getBoundingClientRect(),r=i.x+i.width/2,e=i.y+i.height/2;return t.getTopElementFromPoint(document,r,e)},t.getTopElementFromPoint=u,t.isVisibleInDocument=function(t){return!function(t){var n=t.getBoundingClientRect();return n.right+he.windowOffsetX()<0||n.bottom+he.windowOffsetY()<0}(t)&&!s(t)&&!function(t){var n=o(t);return null!==n&&!t.contains(n)&&!n.contains(t)}(t)},t.isVisibleInViewportInForeground=function(t){return!s(t)&&c(t)},t.isInViewPort=c,t.getAttributeNS=function(t,n,i){var r=t.getAttributeNS(n,i);return""===r?t.hasAttributeNS(n,i)?r:null:r},t.isElementFocusable=function(t){return!!t.hasAttribute("tabIndex")||("true"===t.getAttribute("contentEditable")||(!(!L(t)||!t.hasAttribute("href"))||(!(!(V(t)||H(t)||q(t)||(n=t,P(n)&&"button"===n.localName))||t.hasAttribute("disabled"))||!(!function(t){return P(t)&&"details"===t.localName}(t)&&!function(t){return P(t)&&"summary"===t.localName}(t)))));var n},t.isInlineElement=h}(le||(le={}));var we=csSymbol(),pe=function(){function t(t){var n,i,r,e,s,o,u,c,h=this;this.gn=t,this.ci=null,this.hi=null,this.ai=null,this.fi=null,this.li=ye((function(t){return h.processUpdateRulesInATick(t)})),this.gn=function(n){return oe((function(){return t(n)}))},"function"==typeof(null===(i=null===(n=window.CSSStyleSheet)||void 0===n?void 0:n.prototype)||void 0===i?void 0:i.insertRule)&&(this.ci=zi({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:function(t){var n=t.context,i=t.args;h.processInsertRule(n,i)}})),"function"==typeof(null===(e=null===(r=window.CSSStyleSheet)||void 0===r?void 0:r.prototype)||void 0===e?void 0:e.deleteRule)&&(this.hi=zi({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:function(t){var n=t.context,i=t.args;h.processDeleteRule(n,i)}})),"function"==typeof(null===(o=null===(s=window.CSSGroupingRule)||void 0===s?void 0:s.prototype)||void 0===o?void 0:o.insertRule)&&(this.ai=zi({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:function(t){var n=t.context;return h.processUpdateRule(n)}})),"function"==typeof(null===(c=null===(u=window.CSSGroupingRule)||void 0===u?void 0:u.prototype)||void 0===c?void 0:c.deleteRule)&&(this.fi=zi({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:function(t){var n=t.context;return h.processUpdateRule(n)}}))}return t.prototype.observe=function(){var t,n,i,r;null===(t=this.ci)||void 0===t||t.activate(),null===(n=this.hi)||void 0===n||n.activate(),null===(i=this.ai)||void 0===i||i.activate(),null===(r=this.fi)||void 0===r||r.activate()},t.prototype.disconnect=function(){var t,n,i,r;null===(t=this.ci)||void 0===t||t.deactivate(),null===(n=this.hi)||void 0===n||n.deactivate(),null===(i=this.ai)||void 0===i||i.deactivate(),null===(r=this.fi)||void 0===r||r.deactivate()},t.prototype.processInsertRule=function(t,n){var i=Bn(n,2),r=i[0],e=i[1];if(null!=t[we]||t.ownerNode){var s={type:"cssRuleInserted",sheet:t,rule:r,index:e};this.gn(s)}},t.prototype.processUpdateRule=function(t){for(var n=t;null!==n.parentRule;)n=n.parentRule;null!==n.parentStyleSheet&&this.li.push(n)},t.prototype.processUpdateRulesInATick=function(t){var n,i;try{for(var r=Fn(t),e=r.next();!e.done;e=r.next()){var s=e.value;if(null===s.parentStyleSheet)return;var o=s.parentStyleSheet,u=csArray.prototype.indexOf.call(gi(o.cssRules),s);if(-1===u)return;var c={type:"cssRuleUpdated",sheet:o,rule:s.cssText,index:u};this.gn(c)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.processDeleteRule=function(t,n){var i=Bn(n,1)[0];if(null!=t[we]||t.ownerNode){var r={type:"cssRuleDeleted",sheet:t,index:i};this.gn(r)}},jn([Gn()],t.prototype,"observe",null),jn([Gn()],t.prototype,"disconnect",null),jn([Gn()],t.prototype,"processInsertRule",null),jn([Gn()],t.prototype,"processUpdateRule",null),jn([Gn()],t.prototype,"processUpdateRulesInATick",null),jn([Gn()],t.prototype,"processDeleteRule",null),t}(),me=function(){function t(t){var n=this;this.yi=1,this.wi=new Set,this.pi=null,this.mi=null,this.gi=function(t,i){"initial"!==i&&"added"!==i||n.setStyleSheets(t,t.adoptedStyleSheets)},this.Si=function(t){var i=t.sheet;if(n.wi.has(i))if("cssRuleInserted"===t.type){var r={type:"adoptedStyleSheetRuleInserted",sheetId:i[we],rule:t.rule,index:t.index};n.gn(r)}else if("cssRuleDeleted"===t.type){var e={type:"adoptedStyleSheetRuleDeleted",sheetId:i[we],index:t.index};n.gn(e)}else if("cssRuleUpdated"===t.type){var s={type:"adoptedStyleSheetRuleUpdated",sheetId:i[we],rule:t.rule,index:t.index};n.gn(s)}},this.gn=function(i){return oe((function(){return qn(n,void 0,void 0,(function(){return Hn(this,(function(n){switch(n.label){case 0:return[4,ce(2)];case 1:return n.sent(),t(i),[2]}}))}))}))},this.Un=new Ji(this.gi),"adoptedStyleSheets"in Document.prototype&&(this.pi=Gi(window.Document.prototype,"adoptedStyleSheets",(function(t,i){n.setStyleSheets(t,i)}))),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.mi=Gi(window.ShadowRoot.prototype,"adoptedStyleSheets",(function(t,i){n.setStyleSheets(t,i)}))),this.bi=new pe(this.Si)}return t.prototype.observe=function(){var t,n;this.setStyleSheets(document,document.adoptedStyleSheets),this.Un.observe(),null===(t=this.pi)||void 0===t||t.activate(),null===(n=this.mi)||void 0===n||n.activate(),this.bi.observe()},t.prototype.disconnect=function(){var t,n;this.wi.clear(),this.Un.disconnect(),null===(t=this.pi)||void 0===t||t.deactivate(),null===(n=this.mi)||void 0===n||n.deactivate(),this.bi.disconnect()},t.prototype.setStyleSheets=function(t,n){if(n.length){this.Ei(n);var i={type:"adoptedStyleSheetsSet",target:t,sheetsIds:Si(n,(function(t){return t[we]}))};this.gn(i)}},t.prototype.Ei=function(t){var n=this;Ei(t,(function(t){if(!n.wi.has(t)){var i=n.yi++;t[we]=i,n.wi.add(t);var r={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:n.Ai(t)};n.gn(r)}}))},t.prototype.Ai=function(t){var n=[];try{n=Si(t.cssRules,(function(t){return t.cssText}))}catch(t){}return n},jn([Gn()],t.prototype,"observe",null),jn([Gn()],t.prototype,"disconnect",null),jn([Gn()],t.prototype,"setStyleSheets",null),t}(),ge=si((function(t){var n,i,r,e,s=(u=new Set,c=new Set,h=new Set,a=new Set,f=new Map,l=new Map,v=new Map,d=new Set,y=new Set,w=new Map,p=new Set,{isMovedNode:function(t){return u.has(t)},markAsMovedNode:function(t){p.delete(t),u.add(t)},isDetachedMove:function(t){return!!le.findAncestor(t,(function(t){return p.has(t)}),!0)},isAddedNode:function(t){var n=le.findAncestor(t,(function(t){return c.has(t)||y.has(t)||u.has(t)}),!0);return!!n&&!u.has(n)},isMovedNodeIntoAddedNode:function(t){return u.has(t)&&!!le.findAncestor(t,(function(t){return c.has(t)||y.has(t)}),!0)},markAsAddedNode:function(t){p.delete(t),y.delete(t),c.add(t)},markAsPendingInsert:function(t){y.add(t)},isPendingInsert:function(t){return y.has(t)},isRemovedNode:function(t){return!!le.findAncestor(t,(function(t){return h.has(t)}),!0)},markAsRemovedNode:function(t){h.add(t)},isUselessNode:function(t){return a.has(t)},markAsUselessNode:function(t){a.add(t)},getPlaceholder:function(t,n){var i="previous"===n?l:f;return t&&i.has(t)?i.get(t)||null:t},getSiblings:function(t){var n=t.addedNodes.length,i=this.getPlaceholder(t.previousSibling,"previous"),r=this.getPlaceholder(t.nextSibling,"next");if(n)for(var e=i,s=r,o=t.previousSibling!==i,u=t.nextSibling!==r,c=0;c<n;c++){var h=t.addedNodes[c],a=t.addedNodes[n-c-1];this.isLatestNodeMutation(h,t)?(l.delete(h),t.previousSibling&&o&&(f.set(t.previousSibling,h),o=!1),e=h):l.set(h,e),this.isLatestNodeMutation(a,t)?(f.delete(a),t.nextSibling&&u&&(l.set(t.nextSibling,a),u=!1),s=a):f.set(a,s)}else t.previousSibling&&t.previousSibling!==i&&f.set(t.previousSibling,r),t.nextSibling&&t.nextSibling!==r&&l.set(t.nextSibling,i);return{previousSibling:i,nextSibling:r}},setAttributeMutation:function(t,n){var i=v.get(t)||new Set;i.add(n),v.set(t,i)},isAttributeMutated:function(t,n){var i;return!!(null===(i=v.get(t))||void 0===i?void 0:i.has(n))},setLatestNodeMutation:function(t,n){w.set(t,n)},isLatestNodeMutation:function(t,n){return w.get(t)===n},markAsFutureAddedNode:function(t){w.has(t)||p.add(t)},isTextMutated:function(t){return d.has(t)},setTextMutated:function(t){return d.add(t)}}),o=[];var u,c,h,a,f,l,v,d,y,w,p;try{for(var m=Fn(t),g=m.next();!g.done;g=m.next()){"childList"===(E=g.value).type&&be(E,s)}}catch(t){n={error:t}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}try{for(var S=Fn(t),b=S.next();!b.done;b=S.next()){var E;switch((E=b.value).type){case"attributes":Ae(E,s,o);break;case"characterData":Ee(E,s,o);break;case"childList":Oe(E,s,o)}}}catch(t){r={error:t}}finally{try{b&&!b.done&&(e=S.return)&&e.call(S)}finally{if(r)throw r.error}}return o}),"optimizeMutations"),Se=csSymbol.for("ignoreNextSerialization");function be(t,n){for(var i=0;i<t.addedNodes.length;i++){var r=t.addedNodes[i];n.markAsFutureAddedNode(r),n.setLatestNodeMutation(r,t)}for(i=0;i<t.removedNodes.length;i++){r=t.removedNodes[i];n.setLatestNodeMutation(r,t)}}function Ee(t,n,i){void 0===i&&(i=[]);var r=t.target;return!le.isConnected(r)||n.isTextMutated(r)||n.isAddedNode(r)||function(t,n,i){var r=csSymbol.for(i?"".concat(n,":").concat(i):n),e=en(),s=t[r];if(s&&e<s)return!0;return t[r]=e+Re,!1}(r,"characterData")||(n.setTextMutated(r),csArray.prototype.push.call(i,t)),i}function Ae(t,n,i){void 0===i&&(i=[]);var r=t.target,e="".concat(t.attributeNamespace,"/").concat(t.attributeName);return!le.isConnected(r)||n.isAttributeMutated(r,e)||n.isAddedNode(r)||(n.setAttributeMutation(r,e),csArray.prototype.push.call(i,t)),i}var Re=30;function Oe(t,n,i){void 0===i&&(i=[]);var r=le.isConnected(t.target),e=!r&&n.isRemovedNode(t.target),s=r&&n.isAddedNode(t.target),o=n.getSiblings(t),u=o.nextSibling,c=o.previousSibling,h=null,a=function(){if(h){var t=h.childListType,n=h.movedNodes,r=Un(h,["childListType","movedNodes"]);csArray.prototype.push.call(i,"added"===t?r:Ln(Ln({},r),{movedNodes:n})),h=null}},f=function(n){return n===(null==h?void 0:h.childListType)?h:(a(),{childListType:n,type:"childList",target:t.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:c,nextSibling:u})};if(r){for(var l=0;l<t.addedNodes.length;l++){var v=t.addedNodes[l];n.isLatestNodeMutation(v,t)?(n.isMovedNode(v)?(h=f("moved"),csArray.prototype.push.call(h.movedNodes,v)):(n.markAsAddedNode(v),s||(h=f("added"),csArray.prototype.push.call(h.addedNodes,v))),c=v):le.isConnected(v)?n.isMovedNode(v)||n.markAsPendingInsert(v):n.markAsUselessNode(v)}a()}var d=Oi(t.removedNodes,(function(t){if(le.isConnected(t)){if(!e&&!n.isPendingInsert(t)){if(n.isDetachedMove(t))return!0;n.markAsMovedNode(t),n.isMovedNodeIntoAddedNode(t)&&(t[Se]=!0)}return!1}return!n.isUselessNode(t)&&(n.markAsRemovedNode(t),!0)}));return d.length&&csArray.prototype.push.call(i,{type:"childList",removedNodes:d,addedNodes:[],movedNodes:[],target:t.target,nextSibling:u,previousSibling:c}),i}var Te={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},Ne=function(){function t(t,n){var i=this;this.gn=t,this.Ri=n;var r=ye((function(n){return t(n,i)}),!0);this.gn=Jn("DocumentMutationObserver:callback",(function(t){Ei(t,(function(t){return r.push(t)}))}))}var n;return t.setShadowRootFilter=function(t){csArray.prototype.push.call(n.shadowRootFilters,t)},t.Oi=function(t){if(n.shadowRootFilters.length>0&&J(t))for(var i=0;i<n.shadowRootFilters.length;i++){if((0,n.shadowRootFilters[i])(t))return}this.observedTargets.add(t),this.mutationObserver.observe(t,Te)},t.disconnectShadowRoot=function(t){var i=this;this.observedTargets.has(t)&&(this.observedTargets.delete(t),this.isRefreshing||(this.isRefreshing=!0,oe((function(){i.isRefreshing=!1;var t=i.mutationObserver.takeRecords();t.length&&n.mutationCallback(t),i.mutationObserver.disconnect(),i.observedTargets.forEach((function(t){i.mutationObserver.observe(t,Te)}))}))))},t.observe=function(t,n){var i=this;csArray.prototype.push.call(this.callbacks,t),n&&csArray.prototype.push.call(this.shadowRootCallbacks,n),this.started?n&&csArray.prototype.forEach.call(Fi.getAllShadowHosts(document),(function(t){return n(csElementshadowRoot.apply(t),"initial")})):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.Oi(document),this.shadowRootObserver=new Ji(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,Ei(this.shadowRootObserver.shadowRoots,(function(t){i.Oi(t)})))},t.disconnect=function(t,i){var r,e;this.callbacks=csArray.prototype.filter.call(this.callbacks,(function(n){return n!==t})),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,(function(t){return t!==i}))),0===this.callbacks.length&&(this.callbacks=[],this.shadowRootCallbacks=[],n.shadowRootFilters=[],null===(r=this.shadowRootObserver)||void 0===r||r.disconnect(),null===(e=this.mutationObserver)||void 0===e||e.disconnect(),this.observedTargets.clear(),this.started=!1)},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){var t,i;return null!==(i=null===(t=n.shadowRootObserver)||void 0===t?void 0:t.shadowRoots)&&void 0!==i?i:[]},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var t,i=null===(t=n.mutationObserver)||void 0===t?void 0:t.takeRecords(),r=n.shadowRootObserver.takeRecords();return(null==i?void 0:i.length)&&r.length?function(t,n,i){for(var r=t.length+n.length+((null==i?void 0:i.length)||0),e=new csArray(r),s=0,o=0;o<t.length;o++)e[s++]=t[o];for(o=0;o<n.length;o++)e[s++]=n[o];if(!i)return e;for(o=0;o<i.length;o++)e[s++]=i[o];return e}(i,r):null!=i?i:r},t.prototype.observe=function(){n.observe(this.gn,this.Ri)},t.prototype.disconnect=function(){n.disconnect(this.gn,this.Ri)},n=t,t.callbacks=[],t.shadowRootCallbacks=[],t.started=!1,t.observedTargets=new Set,t.shadowRootFilters=[],t.mutationCallback=function(t){Ur.mutations.count.increase(t.length),csArray.prototype.forEach.call(n.callbacks,(function(i){return i(t,n.mutationObserver)}))},t.onShadowRoot=function(t,i){Ei(n.shadowRootCallbacks,(function(n){return n(t,i)})),"removed"!==i?n.Oi(t):n.disconnectShadowRoot(t)},t.isRefreshing=!1,jn([Gn()],t.prototype,"observe",null),jn([Gn()],t.prototype,"disconnect",null),t}(),ke=function(){function t(t){var n=this;this.gn=t,this.Ti=function(t){t.sheet.ownerNode&&("cssRuleInserted"===t.type?n.gn({type:t.type,target:t.sheet.ownerNode,rule:t.rule,index:t.index}):"cssRuleDeleted"===t.type?n.gn({type:t.type,target:t.sheet.ownerNode,index:t.index}):"cssRuleUpdated"===t.type&&n.gn({type:t.type,target:t.sheet.ownerNode,rule:t.rule,index:t.index}))},this.gn=function(n){return oe((function(){return t(n)}))},this.Ni=new pe((function(t){return oe((function(){return qn(n,void 0,void 0,(function(){return Hn(this,(function(n){switch(n.label){case 0:return[4,ce()];case 1:return n.sent(),this.Ti(t),[2]}}))}))}))})),"adoptedStyleSheets"in Document.prototype&&(this.ki=new me(t))}return t.prototype.observe=function(){var t,n=this;this.An=new Ne((function(t){return n.Ci(t)}),(function(t,i){"added"===i&&n.Ii(t)})),this.An.observe(),this.Ni.observe(),null===(t=this.ki)||void 0===t||t.observe()},t.prototype.disconnect=function(){var t,n;null===(t=this.An)||void 0===t||t.disconnect(),this.Ni.disconnect(),null===(n=this.ki)||void 0===n||n.disconnect()},t.prototype.Ci=function(t){for(var n=ge(t),i=0;i<n.length;i++){var r=n[i];if(r)switch(r.type){case"attributes":this.processAttributeChanged(r);break;case"characterData":this.processCharacterDataChanged(r);break;case"childList":this.processChildListChanged(r);break;default:zn.error("processRawMutations: unknown record type '".concat(r.type,"'"))}else zn.error("processRawMutations: empty record")}},t.prototype.processAttributeChanged=function(t){var n={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:le.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.gn(n)},t.prototype.processCharacterDataChanged=function(t){var n={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.gn(n)},t.prototype.processChildListChanged=function(t){var n,i,r;if(null===(n=t.movedNodes)||void 0===n?void 0:n.length){var e={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.gn(e)}if(null===(i=t.addedNodes)||void 0===i?void 0:i.length){var s={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:gi(t.addedNodes)};this.gn(s)}if(null===(r=t.removedNodes)||void 0===r?void 0:r.length){var o={type:"nodesRemoved",target:t.target,nodes:Si(t.removedNodes,(function(t){return t}))};this.gn(o)}},t.prototype.Ii=function(t){var n={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.gn(n)},jn([Gn()],t.prototype,"processAttributeChanged",null),jn([Gn()],t.prototype,"processCharacterDataChanged",null),jn([Gn()],t.prototype,"processChildListChanged",null),t}(),Ce=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=4,i.data=n.data,i}return l(n,t),n}($r),Ie=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=8,i.data=n.data,i}return l(n,t),n}($r),Me=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=10,i.name=n.name,i.publicId=n.publicId,i.systemId=n.systemId,i}return l(n,t),n}($r),xe=function(t){function n(i){var r=t.call(this,i)||this;return r.nodeType=9,r.baseURI=n.getBaseURI(i),r.children=[],r}return l(n,t),n.getBaseURI=function(t){var n=t.baseURI;if(null==n){var i=t.getElementsByTagName("base");n=0!==i.length?i[0].href:t.URL}return n},n}($r),Pe=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=11,i.mode=n.mode,i.children=[],i}return l(n,t),n}($r),_e=function(){function t(t,n,i){var r;"string"==typeof t?(this.name=t,this.value=n,this.namespaceURI=null!=i?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=null!==(r=t.namespaceURI)&&void 0!==r?r:"")}return t.create=function(n){for(var i,r,e=n.attributes,s=new csArray(e.length),o=0;o<s.length;o++){var u=e[o];s[o]=new t(u.name,u.value,u.namespaceURI),"href"===u.name&&U(n)&&(s[o].value=null!==(r=null===(i=n.sheet)||void 0===i?void 0:i.href)&&void 0!==r?r:u.value)}return s},t}(),De={workTime:40,async:!0,initialDOM:!0},Le=(qe(),csSymbol("InitialDom")),Ue=csSymbol.for("ignoreNextSerialization");function je(t){return!!t[Ue]&&(delete t[Ue],!0)}function qe(t){return void 0===t&&(t=De),function(n,i){var r;null!==(r=t.workTime)&&void 0!==r||(t.workTime=De.workTime);var e,s=Jn("serialize:callback",(function(t){return i(t)})),o=new Xn,u=function(n,i){n.hasChildNodes()&&o.push({node:n,serializedNode:i});var r=n instanceof Element&&csElementshadowRoot.apply(n);if(r){var e=i.shadowRoot=Fe(r);t.async&&t.initialDOM&&hr.setProperty(r,Le,!0),u(r,e)}},c=!0,h=8,a=Jn("work",(function(){var r;if(c)e=Fe(n),t.async&&t.initialDOM&&hr.setProperty(n,Le,!0),u(n,e),c=!1;else if(o.isEmpty)return;for(var f=function(t){if(t<1)throw new Error("Precision should be >= 1");var n=0,i=performance.now();return{started:i,elapsed:function(){return++n%t==0&&(i=performance.now()),i-this.started}}}(100);!o.isEmpty;){if(t.async&&f.elapsed()>=t.workTime)return void(--h<=0&&csSetTimeout(a));var l=o.pop(),v=l.node,d=null!==(r=l.serializedNode.children)&&void 0!==r?r:[];if(!F(v))for(var y=0,w=csNodefirstChild.apply(v);w;w=csNodenextSibling.apply(w))if(!je(w)){var p=Fe(w);t.async&&t.initialDOM&&hr.setProperty(w,Le,!0),d[y++]=p,u(w,p)}}t.async?csSetTimeout((function(){return s(e)})):i(e)}));if(t.async)for(var f=0;f<h;f++)csSetTimeout(a,1);else t.workTime=1/0,a()}}var He=si((function(t){var n=Fe(t),i=n;if(F(t))return n;for(var r=0,e=csNodefirstChild.apply(t);e;e=csNodenextSibling.apply(e))je(e)||(i.children[r++]=He(e));var s=t.shadowRoot;return s&&(i.shadowRoot=He(s)),n}),"serializeSync");function Fe(t){var n,i;switch(t.nodeType){case 1:i=n=new Qr(t),n.attributes=function(t){if(F(t))return[];return _e.create(t)}(t);break;case 3:i=new Kr(t);break;case 4:i=new Ce(t);break;case 8:i=new Ie(t);break;case 10:i=new Me(t);break;case 9:i=new xe(t);break;case 11:i=new Pe(t);break;default:throw new Error("Node type not supported: "+t.nodeType)}return i}var Be,Ve=function(){function t(){this.Mi=[],this.isStarted=!1}return t.prototype.produceEvent=function(t){this.isStarted&&(t.timestamp=en(),csArray.prototype.forEach.call(this.Mi,(function(n){return n(t)})))},t.prototype.onStop=function(){},t.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.onStart())},t.prototype.stop=function(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.Mi=[])},t.prototype.stopForInactivity=function(){this.isStarted&&(this.isStarted=!1,this.onStop())},t.prototype.subscribe=function(t){var n=this;return csArray.prototype.push.call(this.Mi,t),function(){var i=csArray.prototype.indexOf.call(n.Mi,t);csArray.prototype.splice.call(n.Mi,i,1)}},t}(),ze=qe(),Ge=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.xi=!1,n}return l(n,t),n.prototype.onStart=function(){var t=this;this.xi=!0,this.gn=function(t,n){var i=!1,r=function(){if(!i)return t.apply(n,arguments)};return r.cancel=function(){return i=!0},r}(this.Pi,this),this._i=new ke(this.gn),this._i.observe();var n=Ur.mutations.initialDOM.asyncMeasure(),i=function(){t.xi=!1,Le=csSymbol("InitialDom"),n()};this.produceEvent(new Zr((function(t){return ze(document,(function(n){i(),t({type:"DomEvent",domEvent:"initialDOM",initialDOM:n})}))})))},n.prototype.onStop=function(){var t,n;this.xi=!1,null===(t=this.gn)||void 0===t||t.cancel(),null===(n=this._i)||void 0===n||n.disconnect()},n.prototype.Di=function(t,n){var i={type:"DomEvent",domEvent:n.type,target:0,targetProps:{}};return"target"in n&&(i.target=vr(n.target),i.targetProps=hr.getProperties(n.target)),[n,i]},n.prototype.Pi=function(t){if(!this.Li(t))switch(t.type){case"attributeChanged":var n=m(this.Di(t.type,t),2),i=n[0];(C=n[1]).attribute=i.attribute,C.isSvg=B(i.target),C.namespace=i.namespace,C.newValue=i.newValue,C.oldValue=i.oldValue,C.localName=Xr(i.target),C.linkRel=D(i.target)?i.target.rel:null,C.parentLocalName=i.target.parentElement?Xr(i.target.parentElement):void 0,"input"===C.localName&&(C.inputType=i.target.getAttribute("type")),this.produceEvent(C);break;case"characterDataChanged":var r=m(this.Di(t.type,t),2),e=r[0];(C=r[1]).newValue=e.newValue,C.oldValue=e.oldValue,C.targetNodeType=e.target.nodeType,C.parentLocalName=e.target.parentElement?Xr(e.target.parentElement):null,C.parentProps=e.target.parentElement?hr.getProperties(e.target.parentElement):void 0,this.produceEvent(C);break;case"nodesAdded":var s=m(this.Di(t.type,t),2),o=s[0],u=s[1];u.targetLocalName=P(o.target)?Xr(o.target):null,u.nextSibling=o.nextSibling?vr(o.nextSibling):null,u.previousSibling=o.previousSibling?vr(o.previousSibling):null,Ur.mutations.serializedMutations.measure((function(){u.nodes=Si(o.nodes,He)})),this.produceEvent(u);break;case"nodesMoved":var c=m(this.Di(t.type,t),2),h=c[0];(C=c[1]).previousSibling=h.previousSibling?vr(h.previousSibling):null,C.nextSibling=h.nextSibling?vr(h.nextSibling):null,C.nodesIds=Si(h.nodes,vr),this.produceEvent(C);break;case"nodesRemoved":var a=m(this.Di(t.type,t),2),f=a[0];(C=a[1]).nodesIds=Si(f.nodes,vr),this.produceEvent(C);break;case"shadowRootAttached":var l=m(this.Di(t.type,t),2),v=l[0];(C=l[1]).shadowRoot=Fe(v.shadowRoot),this.produceEvent(C);break;case"cssRuleInserted":var d=m(this.Di(t.type,t),2),y=d[0];(C=d[1]).index=y.index,C.rule=y.rule,this.produceEvent(C);break;case"cssRuleDeleted":var w=m(this.Di(t.type,t),2),p=w[0];(C=w[1]).index=p.index,this.produceEvent(C);break;case"cssRuleUpdated":var g=m(this.Di(t.type,t),2),S=g[0];(C=g[1]).rule=S.rule,C.index=S.index,this.produceEvent(C);break;case"adoptedStyleSheetRegistered":var b=m(this.Di(t.type,t),2),E=b[0];(C=b[1]).sheetId=E.sheetId,C.cssRules=E.cssRules,this.produceEvent(C);break;case"adoptedStyleSheetsSet":var A=m(this.Di(t.type,t),2),R=A[0];(C=A[1]).sheetsIds=R.sheetsIds,this.produceEvent(C);break;case"adoptedStyleSheetRuleInserted":var O=m(this.Di(t.type,t),2),T=O[0];(C=O[1]).sheetId=T.sheetId,C.rule=T.rule,C.index=T.index,this.produceEvent(C);break;case"adoptedStyleSheetRuleDeleted":var N=m(this.Di(t.type,t),2),k=N[0];(C=N[1]).sheetId=k.sheetId,C.index=k.index,this.produceEvent(C);break;case"adoptedStyleSheetRuleUpdated":var C,I=m(this.Di(t.type,t),2),M=I[0];(C=I[1]).sheetId=M.sheetId,C.rule=M.rule,C.index=M.index,this.produceEvent(C)}},n.prototype.Ui=function(t){return this.xi&&!hr.getProperty(t,Le)},n.prototype.Li=function(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.Ui(t.target)||yr.isMaskedElement(t.target)||yr.isMaskedElementChild(t.target);case"characterDataChanged":var n=t.target.parentElement;return null!==n&&(this.Ui(n)||yr.isMaskedElement(n)||yr.isMaskedElementChild(n));case"attributeChanged":return this.Ui(t.target)||yr.isMaskedElementChild(t.target)||yr.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":return this.Ui(t.target)||yr.isMaskedElementChild(t.target);default:return!1}},n}(Ve);!function(t){t.isDOMEvent=function(t){return"DomEvent"===t.type}}(Be||(Be={}));var Je,Ye=function(){function t(){this.Mi=[]}return t.prototype.start=function(){},t.prototype.stop=function(){this.Mi.length=0,this.Mi=[]},t.prototype.pushEvent=function(n){var i=this;if(t.pendingEvents++,this.isListening(n)){var r=this.Mi;csSetTimeout((function(){var e=Jn("Processor:processEvent",(function(t){return i.processEvent(t)})),s=e(n);null!=s&&csArray.prototype.forEach.call(r,(function(t){return t(s)})),t.pendingEvents--}))}else csSetTimeout((function(){csArray.prototype.forEach.call(i.Mi,(function(t){return t(n)}))}))},t.prototype.subscribe=function(t){var n=this;return csArray.prototype.push.call(this.Mi,t),function(){n.Mi=csArray.prototype.filter.call(n.Mi,(function(n){return n!==t}))}},t.prototype.emitEvent=function(t){var n=this;oe((function(){return csArray.prototype.forEach.call(n.Mi,(function(n){return n(t)}))}))},t.pendingEvents=0,t}();function We(t){for(var n=new ArrayBuffer(t.length),i=new Uint8Array(n),r=0,e=t.length;r<e;r+=1)i[r]=csString.prototype.charCodeAt.call(t,r);return n}function Xe(t){for(var n=new Uint8Array(t),i="",r=0;r<n.byteLength;r+=1)i+=csString.fromCodePoint(n[r]);return i}function $e(t){return We(self.atob(t))}function Ke(t){var n=csArray.from(new Uint8Array(t));return csArray.prototype.join.call(csArray.prototype.map.call(n,(function(t){return csString.prototype.padStart.call(t.toString(16),2,"0")})),"")}function Qe(t){var n=-1!==csString.prototype.indexOf.call(t,";base64,"),i=csString.prototype.indexOf.call(t,","),r=n?[csString.prototype.substring.call(t,0,i-7),csString.prototype.substring.call(t,i+1)]:[csString.prototype.substring.call(t,0,i),csString.prototype.substring.call(t,i+1)];if(!n&&/^%3Csvg/i.test(r[1]))try{r[1]=decodeURIComponent(r[1])}catch(t){zn.warn("".concat(t,", calling decodeURIComponent on: ").concat(r[1]))}var e=n?$e(r[1]):We(r[1]);return new Blob([e],{type:csString.prototype.replace.call(r[0],"data:","")})}!function(t){t.ELLIPSIS="â€¦",t.stringReplaceAll=function(t,n,i){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(t,n,i);var r,e=new csRegExp((r=n,csString.prototype.replace.call(r,/[.*+?^${}()|[\]\\]/g,"\\$&")),"g");return csString.prototype.replace.call(t,e,i)},t.truncate=function(t,n,i){return void 0===i&&(i=""),t.length<=n?t:csString.prototype.slice.call(t,0,n-i.length)+i}}(Je||(Je={}));var Ze,ts=function(){function t(){}return t.toStaticResourceEvent=function(n,i,r){return y(this,void 0,void 0,(function(){var e,s,o,u;return w(this,(function(c){switch(c.label){case 0:return[4,t.ji(n)];case 1:return(e=c.sent())?[4,t.qi(e)]:[2,null];case 2:return s=c.sent(),o=qr(n)?void 0:n,u={type:"StaticResourceManagerEvent",timestamp:r,resourceId:i,resource:{hash:s,data:e}},o&&(u.originalResourceName=o),[2,u]}}))}))},t.toCSSStaticResourceEvent=function(n,i,r,e){return y(this,void 0,void 0,(function(){var s,o,u,c;return w(this,(function(h){switch(h.label){case 0:return[4,t.Hi(n,e)];case 1:return s=h.sent(),o=Sn(n),(u=s.get(o))?(c={type:"StaticResourceManagerEvent",timestamp:r,resourceId:i,resource:{hash:u.hash,data:u.data}},s.delete(o),s.size&&(c.nestedResources=[],s.forEach((function(t){t&&csArray.prototype.push.call(c.nestedResources,{hash:t.hash,data:t.data})}))),[2,c]):[2,null]}}))}))},t.qi=function(t){return y(this,void 0,void 0,(function(){var n;return w(this,(function(i){switch(i.label){case 0:return[4,t.arrayBuffer()];case 1:return n=i.sent(),[4,crypto.subtle.digest(this.Fi,n)];case 2:return[2,Ke(i.sent())]}}))}))},t.ji=function(t){return y(this,void 0,void 0,(function(){var n,i;return w(this,(function(r){switch(r.label){case 0:return qr(t)?[3,3]:[4,window.fetch(t)];case 1:return[4,r.sent().blob()];case 2:return n=r.sent(),[3,4];case 3:if(!(i=Qe(t)))return[2,null];n=i,r.label=4;case 4:return[2,n]}}))}))},t.Hi=function(n,i){return y(this,void 0,void 0,(function(){var r,e,s,o,u,c,h,a,f,l,v,d,y,m,g,S,b,E;return w(this,(function(w){switch(w.label){case 0:r=new Map,e=Sn(n),s=[{resourceRawPath:n,resourceAbsolutePath:e}],w.label=1;case 1:if(!(s.length>0))return[3,17];if(o=csArray.prototype.pop.call(s),!i&&null!==o.resourceAbsolutePath&&!qr(o.resourceAbsolutePath))return r.set(o.resourceAbsolutePath,null),[3,1];if(void 0!==r.get(o.resourceAbsolutePath))return[3,1];w.label=2;case 2:return w.trys.push([2,15,,16]),null===o.resourceRawPath||csString.prototype.indexOf.call(o.resourceRawPath,".css")>0?o.data?[3,5]:[4,fetch(o.resourceAbsolutePath)]:[3,8];case 3:return m=w.sent(),u=o,[4,m.text()];case 4:u.data=w.sent(),w.label=5;case 5:o.nestedResources||(o.nestedResources=zr(o.data)),c=!1,h=!1,a=function(n){var i,e,u=qr(n)?n:o.resourceAbsolutePath?(i=n,e=o.resourceAbsolutePath,new csURL(i,e).href):Sn(n),a=r.get(u);if(void 0!==a){if(null!==a){var f=t.Bi(a,n);o.data=Je.stringReplaceAll(o.data,n,f)}return"continue"}var l=void 0!==Ai(s,(function(t){return t.resourceAbsolutePath===u}));l||(c=!0,h||(csArray.prototype.push.call(s,o),h=!0),csArray.prototype.push.call(s,{resourceRawPath:n,resourceAbsolutePath:u}))};try{for(b=void 0,f=p(o.nestedResources),l=f.next();!l.done;l=f.next())v=l.value,a(v)}catch(t){b={error:t}}finally{try{l&&!l.done&&(E=f.return)&&E.call(f)}finally{if(b)throw b.error}}return c?[3,7]:[4,t.Vi(o.data)];case 6:d=w.sent(),r.set(o.resourceAbsolutePath,{hash:d.hash,data:d.data}),w.label=7;case 7:return[3,14];case 8:return y=void 0,qr(o.resourceAbsolutePath)?[3,11]:[4,fetch(o.resourceAbsolutePath)];case 9:return[4,(m=w.sent()).blob()];case 10:return y=w.sent(),[3,12];case 11:if(!(g=Qe(o.resourceAbsolutePath)))return r.set(o.resourceAbsolutePath,null),[3,1];y=g,w.label=12;case 12:return[4,t.qi(y)];case 13:S=w.sent(),r.set(o.resourceAbsolutePath,{hash:S,data:y}),w.label=14;case 14:return[3,16];case 15:return w.sent(),r.set(o.resourceAbsolutePath,null),[3,16];case 16:return[3,1];case 17:return[2,r]}}))}))},t.Bi=function(n,i){var r="cs://resources/".concat(n.hash);return qr(i)||(r+="?".concat(t.zi,"=").concat(i)),r},t.Vi=function(n){return y(this,void 0,void 0,(function(){var i,r,e;return w(this,(function(s){switch(s.label){case 0:return[4,(i=new Blob([n],{type:"text/css"})).arrayBuffer()];case 1:return r=s.sent(),[4,crypto.subtle.digest(t.Fi,r)];case 2:return e=s.sent(),[2,{data:i,hash:Ke(e)}]}}))}))},t.Fi="SHA-256",t.zi="original-resource-name",t}(),ns=function(t){function n(){var n=t.call(this)||this;return n.Gi="cssrm://",n.Ji=0,n.Yi=!1,n}return l(n,t),n.prototype.isListening=function(t){return!!n.isSupported()&&(!!Be.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"attributeChanged"===t.domEvent||"characterDataChanged"===t.domEvent))},n.prototype.processEvent=function(t){switch(t.domEvent){case"initialDOM":case"nodesAdded":this.Wi(t);break;case"attributeChanged":this.Xi(t);break;case"characterDataChanged":this.$i(t)}return t},n.prototype.disableOnlineAssets=function(){this.Yi=!1},n.prototype.enableOnlineAssets=function(){this.Yi=!0},n.prototype.isOnlineAssetsActivated=function(){return this.Yi},n.prototype.Wi=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes;try{for(var s=p(e),o=s.next();!o.done;o=s.next()){var u=o.value;hr.traverse(u,(function(t,n){if(3===t.nodeType&&n)r.Ki(t,n.localName);else if(Qr.isElement(t)){var i=Ai(t.attributes,(function(t){return"style"===t.name}));if(i&&(i.value=r.Qi(i.value)),r.Zi(t)||r.tr(t,n)){var e=Ai(t.attributes,(function(t){return"src"===t.name}));e&&e.value&&(e.value=r.nr(e.value));var s=Ai(t.attributes,(function(t){return"srcset"===t.name}));if(s)return void(s.value=r.ir(s.value))}if(r.rr(t)&&r.Yi){var o=Ai(t.attributes,(function(t){return"href"===t.name}));if(!o||!o.value)return;r.Ji++,r.er(Sn(o.value),r.Ji,!0),r.ur(t,o,r.Ji)}}}))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.ur=function(t,n,i){csArray.prototype.push.call(t.attributes,{name:"data-cs-original-href",namespaceURI:"",value:n.value}),n.value=this.Gi+i},n.prototype.Ki=function(t,n){if(t&&"style"===n){var i=this.Qi(t.data);null!==i&&(t.data=i)}},n.prototype.$i=function(t){if("style"===t.parentLocalName&&t.newValue){var n=this.Qi(t.newValue);null!==n&&(t.newValue=n)}},n.prototype.Xi=function(t){if(t.newValue&&t.newValue!==t.oldValue){var n="src"===t.attribute,i="srcset"===t.attribute;if("style"===t.attribute)t.newValue=this.Qi(t.newValue);else if(n||i){var r="img"===t.localName,e="source"===t.localName&&t.parentLocalName&&"picture"===t.parentLocalName;(r||e)&&(n&&(t.newValue=this.nr(t.newValue)),i&&(t.newValue=this.ir(t.newValue)))}}},n.prototype.nr=function(t){return qr(t)||this.Yi?(this.Ji++,this.er(t,this.Ji,!1,en()),this.Gi+this.Ji):t},n.prototype.ir=function(t){var n,i;if(!this.Yi)return t;var r=t,e=Hr(t),s=en();try{for(var o=p(e),u=o.next();!u.done;u=o.next()){var c=u.value;this.Ji++,this.er(Sn(c),this.Ji,!1,s),r=csString.prototype.replace.call(r,c,this.Gi+this.Ji)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r},n.prototype.Qi=function(t){var n,i,r,e=zr(t),s=t,o=en();try{for(var u=p(e),c=u.next();!c.done;c=u.next()){var h=c.value,a=qr(h);if((a||this.Yi)&&!this.cr(h)){this.Ji++,s=csString.prototype.replace.call(s,h,this.Gi+this.Ji);var f=!!(r=h)&&an(r,".css");a?this.er(h,this.Ji,!1,o):this.Yi&&(f?this.er(h,this.Ji,!0,o):this.er(Sn(h),this.Ji,!1,o))}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s},n.prototype.er=function(t,n,i,r){var e=this;void 0===r&&(r=en());var s=i?ts.toCSSStaticResourceEvent:ts.toStaticResourceEvent,o=new Zr((function(i){return y(e,void 0,void 0,(function(){var e,o;return w(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,s(t,n,r,this.Yi)];case 1:return e=u.sent(),i(e||{type:"warning",message:"Failed to process static resource: ".concat(t)}),[3,3];case 2:return o=u.sent(),i({type:"warning",message:o}),[3,3];case 3:return[2]}}))}))}));this.emitEvent(o)},n.prototype.Zi=function(t){return"img"===t.localName},n.prototype.tr=function(t,n){return"source"===t.localName&&!!n&&"picture"===n.localName},n.prototype.rr=function(t){return"link"===t.localName&&csArray.prototype.some.call(t.attributes,(function(t){return"rel"===t.name&&"stylesheet"===t.value}))},n.isSupported=function(){return un()&&function(){var t;return"undefined"!=typeof crypto&&C(null===(t=crypto.subtle)||void 0===t?void 0:t.digest)}()&&!!csArray.from},n.prototype.cr=function(t){return 0===csString.prototype.replace.call(t,/['"]+/g,"").length},d([ai("StaticResourceManagerProcessor.processEvent")],n.prototype,"processEvent",null),n}(Ye);!function(t){t.Visible="visible",t.Hidden="hidden",t.Blur="blur",t.PagehideVisible="pagehideVisible",t.PagehideHidden="pagehideHidden",t.ExitPageByNavigate="exitPageByNavigate"}(Ze||(Ze={}));var is,rs=function(){function t(){var t=this;this.hr=!1,this.ar=function(n){try{switch(n.type){case"visibilitychange":return"hidden"===document.visibilityState?t.lr(Ze.Hidden):t.lr(Ze.Visible);case"pagehide":return"hidden"===document.visibilityState?t.lr(Ze.PagehideHidden):t.lr(Ze.PagehideVisible);case"blur":return t.lr(Ze.Blur);case"navigate":return t.vr(n)?t.lr(Ze.ExitPageByNavigate):void 0;default:return}}catch(t){}}}return t.prototype.start=function(){this.hr||(this.hr=!0,this.yr(),this.wr(),this.pr(),cn()&&this.mr())},t.prototype.stop=function(){this.hr&&(this.hr=!1,this.gr(),this.Sr(),this.br(),cn()&&this.Er())},t.prototype.onEvent=function(t){this.lr=t},t.prototype.mr=function(){window.navigation.addEventListener("navigate",this.ar)},t.prototype.Er=function(){window.navigation.removeEventListener("navigate",this.ar)},t.prototype.yr=function(){document.addEventListener("visibilitychange",this.ar)},t.prototype.gr=function(){document.removeEventListener("visibilitychange",this.ar)},t.prototype.wr=function(){window.addEventListener("pagehide",this.ar)},t.prototype.Sr=function(){window.removeEventListener("pagehide",this.ar)},t.prototype.pr=function(){window.addEventListener("blur",this.ar)},t.prototype.br=function(){window.removeEventListener("blur",this.ar)},t.prototype.vr=function(t){return t instanceof NavigateEvent!=!1&&(!t.hashChange&&!t.downloadRequest&&!t.formData)},t}();!function(t){t[t.Active=0]="Active",t[t.Paused=1]="Paused",t[t.Stopped=2]="Stopped"}(is||(is={}));var es,ss=function(){function t(t,n,i){void 0===i&&(i=[]);this.Ar=t,this.Rr=n,this.Or=i,this.Tr=null,this.Nr=is.Active,this.kr=[]}return t.prototype.reset=function(){this.Tr=null,this.kr=[],this.Nr=is.Active},t.prototype.disconnect=function(){this.Nr=is.Stopped},t.prototype.Cr=function(){var n=this;this.Rr(is.Paused),this.Nr=is.Paused,csSetTimeout((function(){n.Nr===is.Paused&&n.Ir()}),t.STOP_TIMEOUT)},t.prototype.Mr=function(){this.Rr(is.Active),this.Nr=is.Active,Ei(this.kr,this.Ar),this.kr=[]},t.prototype.Ir=function(){this.kr=[],this.Rr(is.Stopped),this.Nr=is.Stopped},t.prototype.pushEvent=function(t,n){if(n.isUserEvent&&(this.Tr=t.date,this.Nr!==is.Active))return this.Mr(),void this.Ar(t);if(this.Pr(t))this.Ar(t);else switch(this.Nr){case is.Active:if(this._r(t,n))return this.Cr(),void csArray.prototype.push.call(this.kr,t);this.Ar(t);break;case is.Paused:csArray.prototype.push.call(this.kr,t);case is.Stopped:}},t.prototype._r=function(n,i){return!i.isUserEvent&&null!==this.Tr&&n.date-this.Tr>t.INACTIVITY_TIMEOUT},t.prototype.Pr=function(t){return csArray.prototype.indexOf.call(this.Or,t.type)>-1},t.INACTIVITY_TIMEOUT=5e3,t.STOP_TIMEOUT=5e3,t}(),os=function(t){function n(n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S){void 0===y&&(y=[]);var b=t.call(this)||this;return b.V=n,b.Dr=i,b.Lr=r,b.Ur=e,b.jr=s,b.et=o,b.qr=u,b.Hr=c,b.Fr=h,b.Br=a,b.Vr=f,b.zr=l,b.Gr=v,b.Jr=d,b.Yr=y,b.Wr=w,b.Xr=p,b.$r=m,b.Kr=g,b.Qr=S,b.Zr=0,b.te=new Er,b.ne={allowFromQuotaService:!0,allowFromSerialization:!0},b.ie=Ki((function(){b.Dr.eventsCount()>0&&b.re()}),2e3),b.ee=function(t){return b.processBrowserEvent(t)},b.se=function(t){return b.oe(t)},b.ue=0,b.ce=0,b.he=new rs,b.ae=!1,b.fe=51200,b.le=!1,b.ve=!1,b.de=[],b.ye=new ss((function(t){return b.we(t)}),(function(t){switch(t){case is.Active:b.pe();break;case is.Stopped:b.ge()}}),[Qi.RESOURCE_HASHES,Qi.TEXT_VISIBILITY]),b.Se=function(t){b.zr.removeBatchInProgress("".concat(t.params.sn,".").concat(t.params.pn,".").concat(t.params.ri))},b}return yt(n,t),n.prototype.init=function(){this.be(),this.Vr.onLoad(this.Se),this.Vr.onError(this.Se)},n.prototype.pe=function(){csArray.prototype.forEach.call(this.Wr,(function(t){return t.start()}))},n.prototype.ge=function(){csArray.prototype.forEach.call(this.Wr,(function(t){return t.stopForInactivity()}))},n.prototype.be=function(){var t,n,i,r=this;this.Jr.onEvent(this.ee,this.se),null===(t=this.Br)||void 0===t||t.onInputNodeToEncrypt(this.se),null===(n=this.Br)||void 0===n||n.onApiErrorToEncrypt((function(t){r.Ee(t)})),null===(i=this.Br)||void 0===i||i.onUserIdentifierToEncrypt(this.ee),this.he.onEvent((function(t){if(csSetTimeout((function(){return r.Ae("page-state",t)})),t!==Ze.Visible){if(t===Ze.Blur)return r.Re();if(!r.ae)return r.ae=!0,csSetTimeout((function(){r.ae=!1})),t===Ze.Hidden?r.Re():r.Oe()}}))},n.prototype.isRecording=function(){return this.et.hasValidSession()&&this.isStarted},n.prototype.Re=function(){var t=this;if(this.canSendEvents()){this.Jr.flush(),this.zr.saveBatchesInProgress(),Ei(this.Yr,(function(n){var i,r;return Ei(null!==(r=null===(i=n.getPendingEvents)||void 0===i?void 0:i.call(n))&&void 0!==r?r:[],(function(n){return t.Dr.addEvent(n)}))}));var n=this.Dr.getEvents();if(0!==n.length){this.Ae("pending-events",this.Jr.pendingEvents);var i=this.Vr.getQueryParams();i.rst=this.getRecordingStartTimestamp(),i.let=this.getRecordingLastEventTimestamp();var r=this.Ur.getCurrentIndex();i.ri=r.toString(),this.Gr.removeQueryParams(),this.Gr.setQueryParams(i),this.ce=n[n.length-1].date;var e=this.Dr.stringifyEvents();if(e.length>this.fe){var s=this.Te();if(s.length>0){var o=It(s);this.Gr.send(o)||this.zr.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:wt(wt({},i),{datatype:"json"}),events:o}),this.Ur.increment()}if(this.Dr.eventsCount()>0){i.ri=this.Ur.getCurrentIndex().toString();var u=this.Dr.stringifyEvents();this.zr.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:wt(wt({},i),{datatype:"json"}),events:u}),this.Ur.increment()}}else{this.Gr.send(e)||this.zr.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:wt(wt({},i),{datatype:"json"}),events:e}),this.Ur.increment()}this.Gr.removeQueryParams(),this.Dr.clearEvents()}}},n.prototype.Oe=function(){var t=this;if(this.canSendEvents()){this.Jr.flush();var n=this.Vr.getQueryParams();this.zr.saveBatchesInProgress(),n.rst=this.getRecordingStartTimestamp(),delete n.ri,n.hlm="true",this.Gr.removeQueryParams(),Ei(this.Yr,(function(n){var i,r;return Ei(null!==(r=null===(i=n.getPendingEvents)||void 0===i?void 0:i.call(n))&&void 0!==r?r:[],(function(n){return t.Dr.addEvent(n)}))}));var i=this.Dr.getEvents();if(0===i.length)return delete n.let,delete n.rst,this.Gr.setQueryParams(n),this.Gr.send(),void this.Gr.removeQueryParams();this.Ae("pending-events",this.Jr.pendingEvents),this.ce=i[i.length-1].date,n.let=this.getRecordingLastEventTimestamp(),this.Gr.setQueryParams(n);var r=this.Dr.stringifyEvents();if(r.length>this.fe){var e=this.Te();if(e.length>0){var s=It(e);this.Gr.send(s)||this.zr.save({key:"".concat(n.sn,".").concat(n.pn,".last"),metadata:wt(wt({},n),{datatype:"json"}),events:s})}else delete n.let,delete n.rst,delete n.ri,this.Gr.removeQueryParams(),this.Gr.setQueryParams(n),this.Gr.send(),this.Gr.removeQueryParams();if(this.Dr.eventsCount()>0){n.rst=this.getRecordingStartTimestamp(),n.let=this.getRecordingLastEventTimestamp();var o=this.Ur.getCurrentIndex();n.ri=o.toString();var u=this.Dr.stringifyEvents();this.zr.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:wt(wt({},n),{datatype:"json"}),events:u}),this.Ur.increment()}}else{this.Gr.send(r)||(this.zr.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:wt(wt({},n),{datatype:"json"}),events:r}),this.Ur.increment())}this.Gr.removeQueryParams(),this.Dr.clearEvents()}},n.prototype.blockSendingEventsFromQuotaService=function(){this.ne.allowFromQuotaService=!1},n.prototype.allowSendingEventsFromQuotaService=function(){this.ne.allowFromQuotaService=!0},n.prototype.blockSendingEventsFromSerialization=function(){this.ne.allowFromSerialization=!1},n.prototype.allowSendingEventsFromSerialization=function(){this.ne.allowFromSerialization=!0},n.prototype.canSendEvents=function(){return this.ne.allowFromQuotaService&&this.ne.allowFromSerialization},n.prototype.onIframeJavascriptError=function(t){var n;if(this.qr&&this.Kr){null===(n=this.qr)||void 0===n||n.anonymize(t);var i=this.Kr.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:en(),type:"JSError"});i&&this.ee(i)}},n.prototype.onIframeCustomError=function(t){if(this.Qr){var n=this.Qr.translate(wt(wt({},t),{timestamp:en(),type:"CustomError"}));n&&this.ee(n)}},n.prototype.onIframeDetailedApiError=function(t){this.Ne(t)},n.prototype.onIframeRecordingUserEvent=function(t){var n,i;try{for(var r=bt(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.oe(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.onIframeRecordingBrowserEvent=function(t){var n,i;if(this.isStarted)try{for(var r=bt(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.processBrowserEvent(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.processBrowserEvent=function(t){this.jr.isCurrentPageviewValid()&&this.ye.pushEvent(t,{isUserEvent:!1})},n.prototype.oe=function(t){this.jr.refreshSession(),this.jr.isSessionValid()&&this.ye.pushEvent(t,{isUserEvent:!0})},n.prototype.we=function(t){Ur.general.nbEvents.increase(),this.Dr.addEvent(t),this.Dr.isThresholdReached()?this.pushEvents():this.Dr.isFull()&&this.ie(),this.ke(t)},n.prototype.ke=function(t){this.V.emitDebugEvents&&this.te.emit("recordingEvent",wt(wt({},t),{typeName:Qi[t.type]}))},n.prototype.onStart=function(){var t,i=this;this.Ae("tag-version","15.73.3"),this.Ae("page-state",document.visibilityState),this.ye.reset(),this.he.start(),this.initStates(),this.Jr.start(),this.Hr&&this.Fr&&this.Hr.subscribe(n.Ce,(function(t){return i.Ne(t)}),{detailedEvent:!0}),this.V.emitDebugEvents&&this.te.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.de,(function(t){return i.Ie(t)})),this.de=[],this.le&&(null===(t=this.Xr)||void 0===t||t.enableOnlineAssets(),this.le=!1)},n.prototype.onStop=function(){var t;this.he.stop(),this.Hr&&this.Hr.unsubscribe(n.Ce),this.Jr.stop(),this.ye.disconnect(),null===(t=this.Xr)||void 0===t||t.disableOnlineAssets()},n.prototype.clearStates=function(){this.Jr.flush(),this.ie.cancel(),this.pushEvents(),this.Vr.removeQueryParams()},n.prototype.initStates=function(){this.ue=en(),this.Ur.reset(),this.Zr=0,this.Vr.setQueryParams(this.Lr.getRequestParameters())},n.prototype.pushEvents=function(){Ei(this.Yr,(function(t){var n;return null===(n=t.flushEvents)||void 0===n?void 0:n.call(t)})),this.Dr.eventsCount()>0&&(this.isStarted?this.re():this.Dr.clearEvents())},n.prototype.re=function(){if(this.canSendEvents()){var t=this.Dr.getEvents();this.ce=t[t.length-1].date;var n=this.Ur.getCurrentIndex();this.Vr.setQueryParams({ri:n.toString(),rst:this.getRecordingStartTimestamp(),let:this.getRecordingLastEventTimestamp()});var i=this.Vr.getQueryParams();this.zr.addBatchInProgress("".concat(i.sn,".").concat(i.pn,".").concat(n),this.Vr.getQueryParams(),t),this.Vr.send(t),this.Ur.increment(),this.Dr.clearEvents(),this.Me&&this.Me()}},n.prototype.addInitialDom=function(t){this.Dr.addEventByTimestamp(t),this.ke(t)},n.prototype.Ne=function(t){if(this.$r&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.$r.truncate(t),this.Br)return void this.Br.registerApiErrorToEncrypt(t);t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.Ee(t)},n.prototype.Ee=function(t){if(this.Zr<n.xe){var i={type:Qi.API_ERROR,date:en(),args:[this.Fr.anonymize(t)]};this.ee(i),this.Zr=this.Zr+1}},n.prototype.Pe=function(t){var i,r;t===Mr.ETR_SESSION?this.Vr.setQueryParams(((i={})[n._e]=n.De,i)):t===Mr.ETR_PAGE&&this.Vr.setQueryParams(((r={})[n.Le]=n.De,r))},n.prototype.clearEvents=function(){this.Dr.clearEvents()},n.prototype.onCustomJavaScriptErrorEvent=function(t){var n,i=null===(n=this.Kr)||void 0===n?void 0:n.translate({type:"JSError",timestamp:en(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.ee(i)},n.prototype.onCustomErrorEvent=function(t){var n,i=null===(n=this.Qr)||void 0===n?void 0:n.translate({type:"CustomError",timestamp:en(),message:t.message,attributes:t.attributes});i&&this.ee(i)},n.prototype.onPageEvent=function(t){this.Ue(t)},n.prototype.onUserIdentifierEvent=function(t){var n,i={userIdentifier:t,date:en(),keyId:this.V.encryptionPublicKeyId};null===(n=this.Br)||void 0===n||n.registerUserIdentifierToEncrypt(i)},n.prototype.onEventTriggerRecording=function(t,n){this.isStarted?this.Ie({eventName:t,eventType:n}):csArray.prototype.push.call(this.de,{eventName:t,eventType:n})},n.prototype.Ie=function(t){this.Pe(t.eventType),this.Ue(t.eventName),this.pushEvents()},n.prototype.Ue=function(t){var i={type:Qi.PAGE_EVENT,date:en(),args:[{eventName:csString.prototype.slice.call(t,0,n.je)}]};this.Dr.addEvent(i)},n.prototype.triggerUnanonymizationConsentGranted=function(){var t={date:en(),type:Qi.UNANONYMIZED_CONSENT_GRANTED};this.Dr.addEvent(t)},n.prototype.triggerUnanonymizationConsentWithdrawn=function(){var t={date:en(),type:Qi.UNANONYMIZED_CONSENT_WITHDRAWN};this.Dr.addEvent(t)},n.prototype.triggerRecordingForSessionGranted=function(){this.Ae("consent-granted")},n.prototype.triggerRecordingForSessionWithdrawn=function(){this.Ae("consent-withdrawn")},n.prototype.activateOnlineAssetsOnNextPageview=function(){this.ve=!0},n.prototype.getStaticResourceManagerStatus=function(){return this.Xr?{isStarted:this.V.useStaticResourceManager&&ns.isSupported(),onlineAssets:{activated:this.Xr.isOnlineAssetsActivated(),enabledOnNextPageview:this.ve}}:null},n.prototype.resetOnlineAssetsOnPageview=function(){this.le=!1,this.ve=!1},n.prototype.updateOnlineAssetsOnPageview=function(){this.Xr&&this.ve&&(this.le=!0,this.ve=!1)},n.prototype.onRecordingRequestSent=function(t){this.Me=t},n.prototype.getRecordingStartTimestamp=function(){return this.ue.toString()},n.prototype.getRecordingLastEventTimestamp=function(){return this.ce.toString()},n.prototype.onOptOut=function(){Ei(this.Yr,(function(t){var n;return null===(n=t.releaseResources)||void 0===n?void 0:n.call(t)}))},n.prototype.Ae=function(t,n){if(this.V.emitRecordInfoEvents){var i={date:en(),type:Qi.RECORDING_INFO_EVENT,args:null==n?[t]:[t,n]};this.Dr.addEvent(i)}},n.prototype.Te=function(){return this.Dr.extractEvents(Qi.API_ERROR,Qi.JAVASCRIPT_ERROR,Qi.CUSTOM_ERROR,Qi.TEXT_VISIBILITY,Qi.POINTER_DOWN)},n.Ce="RecordingService",n.je=255,n.xe=20,n.Le="etrp",n._e="etrs",n.De="1",mt([ai("addInitialDom")],n.prototype,"addInitialDom",null),n}(Ar),us=function(t){function n(n,i,r){var e=t.call(this)||this;return e.un=n,e.Gr=i,e.Vr=r,e.qe=!1,e.He={},e.Fe=function(t){var n,i;if(0!==t.length)try{for(var r=bt(t),s=r.next();!s.done;s=r.next()){var o=s.value,u=o.metadata,c=o.events;e.Be(u.rt)&&e.Vr.send(c,u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},window.addEventListener("focus",(function(){e.recover()})),e}return yt(n,t),n.prototype.onStart=function(){this.He={}},n.prototype.onStop=function(){},n.prototype.recover=function(){this.un.recover(this.Fe)},n.prototype.addBatchInProgress=function(t,n,i){this.He[t]={metadata:wt({},n),events:i}},n.prototype.removeBatchInProgress=function(t){delete this.He[t]},n.prototype.blockSendingLastMessage=function(){this.qe=!1},n.prototype.allowSendingLastMessage=function(){this.qe=!0},n.prototype.sendLastMessageBeacon=function(){if(this.qe){var t=this.Vr.getQueryParams(),n=(t.ri,t.rst,t.let,pt(t,["ri","rst","let"]));n.hlm="true",this.Gr.setQueryParams(n),this.Gr.send()}},n.prototype.Be=function(t){return!!t&&-1===csString.prototype.indexOf.call(t,Cr.RECORDING_TEMPORARILY)},n.prototype.saveBatchesInProgress=function(){var t=this;csArray.prototype.forEach.call(Object.keys(this.He),(function(n){var i=t.He[n],r=i.metadata,e=i.events;t.un.save({key:"".concat(r.sn,".").concat(r.pn,".").concat(r.ri),metadata:wt(wt({},r),{datatype:"json"}),events:csJSON.stringify(e)})}))},n.prototype.save=function(t){this.un.save(t)},mt([Gn("RecordingRecovery")],n.prototype,"recover",null),n}(Ar),cs=function(){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.Ve=t}return t.prototype.addProvider=function(t){csArray.prototype.push.call(this.Ve,t)},t.prototype.getRequestParameters=function(){return csArray.prototype.reduce.call(this.Ve,(function(t,n){return wt(wt({},n.getRequestParameters()),t)}),{})},t}(),hs=function(){function t(t,n){var i=this;this.ze=t,this.G=n,this.Ge=[{boundElement:window,type:"hashchange",listener:function(){return i.hashChangeListener()}},{boundElement:document,type:"visibilitychange",listener:function(){return i.visibilityChangeListener()}}]}return t.prototype.onEvent=function(t){this.Je=t},t.prototype.start=function(){this.jn(),this.triggerInitialEvents()},t.prototype.stop=function(){this.qn()},t.prototype.jn=function(){csArray.prototype.forEach.call(this.Ge,(function(t){return Wi(t)}))},t.prototype.qn=function(){csArray.prototype.forEach.call(this.Ge,(function(t){return Xi(t)}))},t.prototype.triggerInitialEvents=function(){this.hashChangeListener()},t.prototype.hashChangeListener=function(){var t={type:Qi.HASH_CHANGE,args:[this.G.anonymizePII(this.ze.href)],date:en()};this.Je(t)},t.prototype.visibilityChangeListener=function(){var t={type:Qi.VISIBILITY_CHANGE,args:[document.visibilityState],date:en()};this.Je(t)},mt([Gn("hashChange")],t.prototype,"hashChangeListener",null),mt([Gn("visibilityChange")],t.prototype,"visibilityChangeListener",null),t}(),as=function(){function t(){}return t.prototype.onScannedAsset=function(t){this.Ye=t},t.prototype.scanCssString=function(t){this.We(zr(t))},t.prototype.scanElement=function(t,n){yr.getMaskedElementDetails(t).state!==yr.MaskedElementState.NotMasked||n&&yr.isMaskedAttribute(t,n)||(j(t)?this.Xe(t):U(t)?this.$e(t,n):(this.Ke(t,n),this.Qe(t,n),this.Ze(t,n)))},t.prototype.$e=function(t,n){var i;if((!n||"href"===n)&&t.href){var r={assetId:(null===(i=t.sheet)||void 0===i?void 0:i.href)||t.href,assetBasePath:window.location.href,assetRawPath:t.getAttribute("href")};this.Ye({type:"stylesheet",asset:r})}},t.prototype.Xe=function(t){var n,i,r,e,s,o,u=new Set;if(t.textContent)try{for(var c=bt(zr(t.textContent)),h=c.next();!h.done;h=c.next()){var a=h.value;u.add(a)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}try{o=null===(s=t.sheet)||void 0===s?void 0:s.cssRules}catch(t){"SecurityError"===t.name||"InvalidAccessError"===t.name||Pn.error(t.message)}if(o)for(var f=0;f<o.length;f++){var l=o.item(f).cssText;try{for(var v=(r=void 0,bt(zr(l))),d=v.next();!d.done;d=v.next()){a=d.value;u.add(a)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(e=v.return)&&e.call(v)}finally{if(r)throw r.error}}}this.We(Ni(u))},t.prototype.ns=function(t){return!this.rs(t)&&!qr(t)&&!function(t){return hn(t,"#")}(t)},t.prototype.Ke=function(t,n){if(P(e=t)&&"img"===e.localName||function(t){return P(t)&&"source"===t.localName}(t)){if(!n||"src"===n){var i=t.getAttribute("src");if(i&&this.ns(i)){var r={assetId:t.src,assetRawPath:i,assetBasePath:window.location.href};this.Ye({type:"asset",asset:r})}}n&&"srcset"!==n||!t.srcset||this.es(t.srcset)}var e},t.prototype.Qe=function(t,n){if(1===t.nodeType){if(t.hasAttribute&&(!n||"style"===n)&&t.hasAttribute("style")){var i=t.getAttribute("style");if("string"!=typeof i)throw new Error("Unexpected style: "+t.outerHTML);this.scanCssString(i)}}else zn.warn("StaticResourceUrlTracker: Wrong element nodeType: ".concat(null==t?void 0:t.nodeName,"/").concat(t.nodeType))},t.prototype.es=function(t){this.We(Hr(t))},t.prototype.Ze=function(t,n){if((B(e=t)&&"image"===e.localName||function(t){return B(t)&&"use"===t.localName}(t)||function(t){return B(t)&&"feImage"===t.localName}(t))&&(!n||"href"===n||"xlink:href"===n)){var i=t.getAttribute("href")||t.getAttribute("xlink:href");if(i&&this.ns(i)){var r={assetId:Sn(i),assetRawPath:i,assetBasePath:window.location.href};this.Ye({type:"asset",asset:r})}}var e},t.prototype.We=function(t){var n=this;return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,(function(t){return n.ns(t)})),(function(t){return{rawUrl:t,absoluteUrl:Sn(t)}})),(function(t){var i={assetId:t.absoluteUrl,assetBasePath:window.location.href,assetRawPath:t.rawUrl};n.Ye({type:"asset",asset:i})}))},t.prototype.rs=function(t){return/^https:\/\/\w+:\w+@/.test(t)},t}(),fs=function(){function t(t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.ss=[],this.kr=[],this.us=t}return t.prototype.next=function(t){var n,i,r=this;this.kr.length===this.us&&csArray.prototype.shift.call(this.kr),csArray.prototype.push.call(this.kr,t),1===this.kr.length&&csSetTimeout((function(){return r.clear()}));try{for(var e=Fn(this.ss),s=e.next();!s.done;s=e.next()){(0,s.value)(t)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},t.prototype.subscribe=function(t){var n,i,r=this;if(Ai(this.ss,(function(n){return t===n})))return function(){r.ss=csArray.prototype.filter.call(r.ss,(function(n){return n!==t}))};csArray.prototype.push.call(this.ss,t);try{for(var e=Fn(this.kr),s=e.next();!s.done;s=e.next()){var o=s.value;t(o)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}return function(){r.ss=csArray.prototype.filter.call(r.ss,(function(n){return n!==t}))}},t.prototype.clear=function(){this.kr=[]},t.prototype.hasObservers=function(){return this.ss.length>0},t}(),ls=function(){function t(t){this.gn=t}var n;return t.prototype.observe=function(){var t=this;(this.cs=n.hs.subscribe((function(n){return t.gn(n)})),n.fs)||(n.fs=!0,n.ls.observe(),_i(document,NodeFilter.SHOW_ELEMENT).visitAll((function(t){n.vs.add(t),n.hs.next(t)})))},t.prototype.disconnect=function(){n.fs&&(this.cs(),n.hs.hasObservers()||(n.fs=!1,n.ls.disconnect(),n.hs.clear(),n.vs.clear()))},n=t,t.vs=de(),t.hs=new fs,t.ds=si((function(t){oe((function(){var i,r;try{for(var e=Fn(t),s=e.next();!s.done;s=e.next()){var o=s.value;"childList"===o.type&&Ei(o.addedNodes,(function(t){_i(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){n.vs.has(t)||(n.vs.add(t),n.hs.next(t))}))}))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))}),"ElementObserver.findAllElements"),t.fs=!1,t.ls=new Ne(n.ds),jn([Gn()],t.prototype,"observe",null),jn([Gn()],t.prototype,"disconnect",null),t}(),vs=function(){function t(t,n,i){void 0===n&&(n=30),void 0===i&&(i=0);var r=this;this.ys=t,this.ws=n,this.ps=i,this.gs=new Xn,this.ot=!1,this.Ss=0,this.bs=function(){for(r.Ss=0;r.gs.length;){if(r.Ss>=r.ws)return void csSetTimeout(r.bs,r.ps);var t=sn(),n=r.gs.pop();if(!n)break;r.runTask(n);var i=sn()-t;r.Ss+=i}r.ot=!1}}return t.prototype.schedule=function(t,n){void 0===n&&(n=!1),this.ys&&!n?(Ur.general.pendingTasks.increase(),this.gs.push(t),this.Es()):t()},t.prototype.Es=function(){var t=this;this.ot||(this.ot=!0,csSetTimeout((function(){t.bs()})))},t.prototype.runTask=function(t){Ur.general.pendingTasks.decrease(),t()},t.prototype.runPendingTasks=function(){var t=this;this.gs.forEach((function(n){t.runTask(n)})),this.gs.clear()},t.prototype.clearQueue=function(){Ur.general.pendingTasks.clear(),Ur.mutations.pendingMutations.clear(),this.gs.clear()},t.prototype.isEmpty=function(){return 0===this.gs.length},mt([Gn("TaskScheduler"),ai("runTask")],t.prototype,"runTask",null),mt([ai("runPendingTasks")],t.prototype,"runPendingTasks",null),t}(),ds=function(){function t(){var t=this;this.Nn=!1,this.As=new pe((function(n){return"cssRuleInserted"===n.type&&t.Rs(n)})),this.Os=ye((function(n){t.Nn&&n.length>0&&t.Ts.schedule((function(){return Ei(n,(function(n){return t.Ns.scanElement(n)}))}))})),this.ks=function(n){var i,r,e,s=n.type,o=n.asset;"stylesheet"===s&&(null===(i=t.Cs)||void 0===i||i.call(t,o)),null===(r=t.Is)||void 0===r||r.call(t,o);var u={date:en(),type:Qi.STATIC_RESOURCE_URL,args:[o.assetId]};null===(e=t.Je)||void 0===e||e.call(t,u)},this.Ts=new vs(!0,30,0),this.Ms=new ls((function(n){return t.xs(n)})),this.An=new Ne((function(n){return t.Ps(n)})),this.Ns=new as,this.Ns.onScannedAsset(this.ks)}return t.prototype.onEvent=function(t){this.Je=t},t.prototype.onAsset=function(t){this.Is=t},t.prototype.onStyleSheetFound=function(t){this.Cs=t},t.prototype.start=function(){this.Nn||(this.Nn=!0,this.As.observe(),this.Ms.observe(),this.An.observe())},t.prototype.stop=function(){this.Nn&&(this.As.disconnect(),this.Ms.disconnect(),this.An.disconnect(),this.Nn=!1)},t.prototype.Rs=function(t){t.rule&&this.Nn&&this.Ns.scanCssString(t.rule)},t.prototype.xs=function(t){this.Nn&&yr.getMaskedElementDetails(t).state===yr.MaskedElementState.NotMasked&&this.Os.push(t)},t.prototype.Ps=function(t){var n=this;csSetTimeout((function(){var i,r;try{for(var e=bt(t),s=e.next();!s.done;s=e.next()){var o=s.value;switch(o.type){case"attributes":n.Ns.scanElement(o.target,o.attributeName);break;case"characterData":n._s(o.target)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))},t.prototype._s=function(t){_(t)&&csNodeparentNode.apply(t)&&j(csNodeparentNode.apply(t))&&this.Ns.scanCssString(t.data)},t}(),ys=function(){function t(t){this.Ds=[],this.Ls=[],this.$t={},this.Kt=t}return t.prototype.setQueryParams=function(t){var n=this;csArray.prototype.forEach.call(Object.keys(t),(function(i){n.$t[i]=t[i]}))},t.prototype.removeQueryParams=function(t){var n=this;t?csArray.prototype.forEach.call(t,(function(t){delete n.$t[t]})):this.$t={}},t.prototype.onBeaconSuccess=function(t){csArray.prototype.push.call(this.Ds,t)},t.prototype.onBeaconFailure=function(t){csArray.prototype.push.call(this.Ls,t)},t.prototype.send=function(t){var n=this,i=xt.toQuery(wt(wt({},this.$t),{ct:di.UNCOMPRESSED})),r=this.Us(i,t);return r?csArray.prototype.forEach.call(this.Ds,(function(t){return t()})):csArray.prototype.forEach.call(this.Ls,(function(t){return t(n.$t)})),r},t.prototype.Us=function(t,n){try{if("function"!=typeof csNavigatorsendBeacon)return!1;var i=csNavigatorsendBeacon("".concat(this.Kt,"?").concat(t),n||"");if(i)return i}catch(t){}return"function"==typeof navigator.sendBeacon&&navigator.sendBeacon("".concat(this.Kt,"?").concat(t),n||"")},t}(),ws=function(){function t(t){this.js={},this.qs=new gr(t)}return t.prototype.save=function(t){var n=t.key,i=t.metadata,r=t.events;this.qs.isThresholdReached()||(this.qs.addString(n),"string"==typeof r?this.qs.addString(r):this.qs.addArrayBuffer(r),this.qs.isThresholdReached()||(this.js[n]={metadata:i,events:r}))},t.prototype.recover=function(t){var n=this,i=[];csArray.prototype.forEach.call(this.Hs(),(function(t){var r=n.js[t];void 0!==r&&(delete r.metadata.datatype,csArray.prototype.push.call(i,r),n.Fs(t))})),0!==i.length&&(t(i),this.qs.reset())},t.prototype.Hs=function(){return Object.keys(this.js)},t.prototype.Fs=function(t){delete this.js[t]},t}();!function(t){t[t.NOT_STARTED=0]="NOT_STARTED",t[t.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",t[t.OPEN_FAILED=2]="OPEN_FAILED",t[t.READY=3]="READY"}(es||(es={}));var ps,ms=function(){function t(t,n,i){this.Bs=t,this.Vs=i,this.zs=es.NOT_STARTED,this.Gs=[],this.Js=0,this.Ys=self.origin,this.Ws="object"==typeof window?"":"worker-",this.qs=new gr(n),this.Xs()}return t.prototype.Xs=function(){return gt(this,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:return[4,this.$s()];case 1:return t.sent(),this.zs===es.READY?this.Ks():this.Vs(this.Gs),[2]}}))}))},t.prototype.Ks=function(){var t=this;csArray.prototype.forEach.call(this.Gs,(function(n){t.save(n)})),this.Gs=[]},t.prototype.save=function(t){return gt(this,void 0,void 0,(function(){var n,i,r;return St(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.zs===es.OPEN_IN_PROGRESS?(csArray.prototype.push.call(this.Gs,t),[2]):this.zs!==es.READY||this.qs.isThresholdReached()?[2]:(n=t.key,i=t.metadata,r=t.events,this.qs.addString(n),"string"==typeof r?this.qs.addString(r):this.qs.addArrayBuffer(r),this.qs.isThresholdReached()?[2]:[4,this.Qs.put("".concat(this.Ys,"/").concat(n),new Response(r,{headers:i}))]);case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.recover=function(t){return gt(this,void 0,void 0,(function(){return St(this,(function(n){switch(n.label){case 0:return this.Qs?[3,2]:[4,this.$s()];case 1:if(n.sent(),this.zs!==es.READY)return[2];n.label=2;case 2:return this.Zs(t),[2]}}))}))},t.prototype.$s=function(){return gt(this,void 0,void 0,(function(){var t;return St(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.zs=es.OPEN_IN_PROGRESS,t=this,[4,self.caches.open("".concat(this.Ws).concat(this.Bs))];case 1:return t.Qs=n.sent(),this.zs=es.READY,[3,3];case 2:return n.sent(),this.zs=es.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},t.prototype.Zs=function(t){return gt(this,void 0,void 0,(function(){var n,i,r,e,s=this;return St(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,6,7]),this.Js++,this.Js>1?[2]:[4,this.Qs.keys()];case 1:return 0===(n=o.sent()).length?[2]:[4,this.Qs.matchAll()];case 2:return i=o.sent(),r=csArray.prototype.map.call(i,(function(t){var n={};t.headers.forEach((function(t,i){n[i]=t})),delete n["content-type"];var i=n.datatype;return delete n.datatype,"json"===i||"base64"===i?t.text().then((function(t){return{metadata:n,events:t}})):t.arrayBuffer().then((function(t){return{metadata:n,events:t}}))})),[4,Promise.all(r)];case 3:return e=o.sent(),[4,Promise.all(csArray.prototype.map.call(n,(function(t){return s.Qs.delete(t)})))];case 4:return o.sent(),t(e),this.qs.reset(),[3,7];case 5:return o.sent(),[3,7];case 6:return this.Js--,[7];case 7:return[2]}}))}))},t}(),gs=function(){function t(t){try{this.no(t)}catch(t){this.io()}}return t.prototype.no=function(t){self.caches?this.ro(t):this.io()},t.prototype.save=function(t){this.eo.save(t)},t.prototype.recover=function(t){this.eo.recover(t)},t.prototype.ro=function(n){var i=this;this.eo=new ms(n,t.so,(function(t){i.io(t)}))},t.prototype.io=function(n){var i=this;this.eo=new ws(t.so),n&&csArray.prototype.forEach.call(n,(function(t){i.eo.save(t)}))},t.so=16777216,t}(),Ss=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.isListening=function(t){return Be.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent)},n.prototype.processEvent=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes,s=function(n){if(n instanceof Qr){var i=yr.getMaskedAttributeDetails(n);n.attributes=o.oo(n,i)}if(yr.getMaskedElementDetails(n).state===yr.MaskedElementState.Child)return"initialDOM"===t.domEvent?{value:null}:(t.nodes=csArray.prototype.filter.call(t.nodes,(function(t){return t!==n})),"continue");hr.traverse(n,(function(t){if(t instanceof Qr){var n=yr.getMaskedAttributeDetails(t);t.attributes=r.oo(t,n);var i=yr.getMaskedElementDetails(t);i.state===yr.MaskedElementState.Parent&&r.uo(t,i)}}))},o=this;try{for(var u=p(e),c=u.next();!c.done;c=u.next()){var h=s(c.value);if("object"==typeof h)return h.value}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return t},n.prototype.oo=function(t,n){return 0===n.attributes.length?t.attributes:csArray.prototype.filter.call(t.attributes,(function(t){return-1===csArray.prototype.indexOf.call(n.attributes,t.name)}))},n.prototype.uo=function(t,n){var i="width: ".concat(n.width,"px !important; height: ").concat(n.height,"px !important;");t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),Qr.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})},d([ai("MaskedElementProcessor.processEvent")],n.prototype,"processEvent",null),n}(Ye);!function(t){t.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",t.WHITELISTED_STATUS="whitelisted",t.isWhitelistedElement=function(n){return hr.getProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP)===t.WHITELISTED_STATUS},t.whitelistElement=function(n){hr.setProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP,t.WHITELISTED_STATUS)},t.removeWhitelistElement=function(n){hr.setProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP,void 0)}}(ps||(ps={}));var bs=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,Es=/[^ï½\s]/g;function As(t){var n=csString.prototype.replace.call(t,bs,"ï½");return csString.prototype.replace.call(n,Es,"a")}var Rs,Os=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Ts=["svg","slot"],Ns={href:new Set(["a"]),src:new Set(["iframe"])},ks=function(){function t(t,n,i,r,e){var s,o;void 0===r&&(r=null),void 0===e&&(e=!1),this.co=t,this.ho=n,this.G=i,this.ao=r,this.fo=e,this.lo=(s=this.ho,o=new Set(Os),csArray.prototype.forEach.call(s,(function(t){o.add(t)})),o)}return t.prototype.vo=function(t,n,i){var r,e;void 0===n&&(n=null),void 0===i&&(i=!0);var s=this.G.checkAndAnonymizePII(t,n);if(this.fo)try{for(var o=p(this.G.getLogs()),u=o.next();!u.done;u=o.next()){var c=u.value,h=i?"text-node":"attribute";zn.implementation("".concat(c," - ").concat(h))}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return s},t.prototype.sanitize=function(t){var n=this;return hr.traverse(t,(function(t,i){if(t.anonymized=n.co,3===t.nodeType){var r=n.getAnonymizedValue(t.data,null==i?void 0:i.localName,i?hr.getProperties(i):void 0),e=r.anonymizedValue,s=r.withAnonymization;return t.anonymized=s,void(t.data=e)}if(Qr.isElement(t))return n.do(t);4!==t.nodeType||(t.data=n.co?As(t.data):n.vo(t.data,n.ao))})),t},t.prototype.setAnonymization=function(t){this.co=t},t.prototype.getAnonymizedValue=function(t,n,i){if("style"===n)return{anonymizedValue:t,withAnonymization:!1};var r=(null==i?void 0:i[ps.ANONYMIZED_TEXT_STATUS_PROP])===ps.WHITELISTED_STATUS;return this.co&&!r?{anonymizedValue:As(t),withAnonymization:!0}:{anonymizedValue:this.vo(t,this.ao),withAnonymization:!1}},t.prototype.do=function(t){var n=this;if(!hr.getProperty(t,"SVG")){var i=Ai(t.attributes,(function(t){return"type"===t.name})),r=null==i?void 0:i.value;t.attributes=csArray.prototype.map.call(t.attributes,(function(i){return i.anonymized=n.co,i.value=n.getAnonymizedAttributeValue(t.localName,i.name,i.value,r),i}))}},t.prototype.getAnonymizedAttributeValue=function(t,n,i,r){return this.yo(t,n,r)?i:function(t){return Ns.hasOwnProperty(t)}(n)?function(t,n,i){var r;return(null===(r=Ns[n])||void 0===r?void 0:r.has(t))&&!qr(i)}(t,n,i)?this.G.anonymizePII(i):i:this.co&&function(t,n,i){return("submit"===i||"button"===i)&&"input"===t&&"value"===n}(t,n,r)?As(i):("contenteditable"===n&&"false"!==i&&zn.implementation("Element found with contenteditable attr","contenteditable-attr"),this.co?"":this.vo(i,null,!1))},t.prototype.yo=function(t,n,i){return function(t,n,i){return"radio"===i&&"input"===t&&"name"===n||csArray.prototype.indexOf.call(Ts,t)>-1}(t,n,i)||this.lo.has(n)},t}(),Cs=function(){function t(){}return t.create=function(n,i){if(!t.isSupported())throw new Error("IntersectionObserver is not supported");if(i&&i.delay&&i.delay<100)throw new Error("Visibility delay should be > 100ms");return(null==i?void 0:i.trackVisibility)&&(n=t.wo(n)),new IntersectionObserver(n,i)},t.isSupported=function(){return!!window.IntersectionObserver&&!!window.IntersectionObserverEntry},t.wo=function(t){return function(n,i){return t(Si(n,Is),i)}},t}();function Is(t){return t.isVisible||!le.isVisibleInViewportInForeground(t.target)?t:{boundingClientRect:t.boundingClientRect,intersectionRatio:t.intersectionRatio,intersectionRect:t.intersectionRect,isIntersecting:t.isIntersecting,rootBounds:t.rootBounds,target:t.target,time:t.time,isVisible:!0}}var Ms=function(){return function(t,n,i){var r,e,s,o,u;i.value=(r=i.value,e=csSymbol("oncePerTickSymbol"),s=null,o={},u=function(){var t,n=null!==(t=this)&&void 0!==t?t:o;s=arguments,n[e]||(n[e]=!0,xs((function(){n[e]=!1,r.apply(n,s)})))},u.oncePerTickSymbol=e,u)}},xs=null!==(Rs=e.csQueueMicrotask)&&void 0!==Rs?Rs:csSetTimeout;Ms.isScheduled=function(t,n){return t[n.oncePerTickSymbol]};var Ps,_s=function(){function t(t){var n=this;this.gn=t,this.po=new Map,this.mo=function(t){var i=t.target;if(n.po.has(i))return!0;var r=!1;return n.po.forEach((function(t,e){!r&&n.po.get(e).subtree&&(r=e.contains(i))})),r},Ur.general.nbOfMutationObservers.increase(),this.An=new csMutationObserver((function(i){Ms.isScheduled(n,n.garbageCollect)&&(i=Oi(i,n.mo)),i.length&&oe((function(){return t(i,n)}))}))}return t.prototype.disconnect=function(){Ur.general.nbOfMutationObservers.decrease(),this.An.disconnect(),this.po=new Map},t.prototype.takeRecords=function(){return this.An.takeRecords()},t.prototype.observe=function(t,n){return Ur.mutations.elementMutationObserved.increase(),this.po.set(t,n),this.An.observe(t,n)},t.prototype.unobserve=function(t){this.po.has(t)&&(Ur.mutations.elementMutationObserved.decrease(),this.po.delete(t),this.garbageCollect())},t.prototype.garbageCollect=function(){var t=this;Ur.mutations.unobserveGarbageCollection.measure((function(){var n=Oi(t.takeRecords(),t.mo);n.length&&t.gn(n,t),t.An.disconnect(),t.po.forEach((function(n,i){return t.An.observe(i,n)}))}))},jn([Ms()],t.prototype,"garbageCollect",null),t}(),Ds=function(){function t(t){this.gn=t,this.So=new Set}return t.prototype.onMutations=function(t){var n,i;if(Ri(t,(function(t){var n;return!!(null===(n=t.removedNodes)||void 0===n?void 0:n.length)})))try{for(var r=Fn(this.So.values()),e=r.next();!e.done;e=r.next()){var s=e.value;le.isConnected(s)||(this.So.delete(s),this.gn(s))}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.observe=function(t){var n=this;this._i||(this._i=new Ne((function(t){return csSetTimeout((function(){return n.onMutations(t)}))})),this._i.observe()),this.So.add(t)},t.prototype.disconnect=function(){var t;null===(t=this._i)||void 0===t||t.disconnect(),this.So.clear(),this._i=void 0},jn([Gn("NodeDisconnectedObserver.onMutations")],t.prototype,"onMutations",null),t}(),Ls=function(){function t(t){var n=this;this.bo=new Set,this.Eo=new Ds((function(t){return n.Ao(t)})),this.Nn=!1,this.Ro=t?Ln(Ln({},js),t):js}return t.prototype.stop=function(){var t,n;this.Nn=!1,null===(t=this.Oo)||void 0===t||t.disconnect(),null===(n=this.An)||void 0===n||n.disconnect()},t.prototype.start=function(t){var n=this;if(this.Nn)throw new Error("VisibilityObserver is already started");this.gn=Jn("VisibilityObserver:callback",(function(n,i){return t(n,i)}));var i={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:300};this.Oo=Cs.create((function(t){return n.handleIntersection(t)}),i),this.An=new _s((function(t){return csSetTimeout((function(){Ei(t,(function(t){return n.Ao(t.target)}))}))})),this.Xs(),this.Nn=!0},t.prototype.observe=function(t){if(!this.Nn)throw new Error("Observer is stopped.");!1===this.Ro.reobserve&&t[this.To]||(Ur.visibilityObserver.nbElements.increase(),t[this.To]=!0,this.watchIntersection(t))},t.prototype.Xs=function(){this.ko=csSymbol("isVisible"),this.To=csSymbol("ObservedElement"),this.Co=csSymbol("LinkedElement"),this.Io=csSymbol("Tracked")},t.prototype.Ao=function(t){var n,i;this.bo.add(t);try{for(var r=Fn(this.Mo(t)),e=r.next();!e.done;e=r.next()){var s=e.value;this.bo.add(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.recheckCssVisibilityAll()},t.prototype.recheckCssVisibilityAll=function(){var t=this;Ei(this.bo.keys(),(function(n){n.isConnected&&!le.areAncestorsHiddenByCSS(n)&&n[t.To]&&t.watchIntersection(n)})),this.bo.clear()},t.prototype.watchIntersection=function(t){this.An.unobserve(t),this.Oo.unobserve(t);var n=le.getTopAncestorHiddenByCSS(t);n?(n!==t&&(this.xo(n,t),this.watchMutation(n)),this.watchMutation(t)):this.Oo.observe(t)},t.prototype.watchMutation=function(t,n){void 0===n&&(n=!0),n&&delete t[this.ko],this.Oo.unobserve(t);this.An.observe(t,{attributeFilter:["style","class","hidden"]})},t.prototype.handleIntersection=function(t){var n,i,r=this;try{for(var e=Fn(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.target;if(o.isVisible){var c=this.Ro.allowSameMatch||!o.target[this.ko];o.target[this.ko]=!0,c&&!this.Ro.delay&&this.onVisibilityChanged(o.target,Ps.VisibleInViewPort)}else{le.isVisibleInDocument(u)||this.Po(u)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}this.Ro.delay&&csSetTimeout((function(){var n,i;try{for(var e=Fn(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.isIntersecting&&o.isVisible;o.target[r.ko]&&u&&r.onVisibilityChanged(o.target,Ps.VisibleInViewPort)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}),this.Ro.delay)},t.prototype.Po=function(t){Ur.visibilityObserver.hiddenElements.increase();var n=le.getTopElement(t);this.watchMutation(t),n&&(this.Eo.observe(n),this.xo(n,t),this.watchMutation(n,!1))},t.prototype.xo=function(t,n){var i;(t[this.Co]=null!==(i=t[this.Co])&&void 0!==i?i:new Set).add(n)},t.prototype.Mo=function(t){var n,i,r=[];return Ei(null!==(i=null===(n=t[this.Co])||void 0===n?void 0:n.values())&&void 0!==i?i:[],(function(t){return csArray.prototype.push.call(r,t)})),r},t.prototype.onVisibilityChanged=function(t,n){if(n===Ps.VisibleInViewPort&&this.Ro.trackOnce){if(this.Oo.unobserve(t),this.An.unobserve(t),t[this.Io])return;t[this.Io]=!0}this.gn(t,n)},t.isSupported=function(){return Cs.isSupported()},jn([Gn()],t.prototype,"observe",null),jn([rr({wait:50}),Gn(),ai("recheckCssVisibilityAll")],t.prototype,"recheckCssVisibilityAll",null),jn([Gn()],t.prototype,"watchIntersection",null),jn([Gn()],t.prototype,"watchMutation",null),jn([Gn(),ai("VisibilityObserver.handleIntersection")],t.prototype,"handleIntersection",null),jn([Gn()],t.prototype,"onVisibilityChanged",null),t}();!function(t){t.VisibleInViewPort="VisibleInViewPort",t.HiddenByAnother="HiddenByAnother",t.Hidden="Hidden"}(Ps||(Ps={}));var Us,js={delay:1e3,trackOnce:!0,reobserve:!1},qs=function(){function t(t){var n=this;this.gn=t,this.vs=de(),this._o=function(t){oe((function(){var i,r;try{for(var e=Fn(t),s=e.next();!s.done;s=e.next()){var o=s.value;"childList"===o.type&&Ei(o.addedNodes,(function(t){_i(t,NodeFilter.SHOW_TEXT).visitAll((function(t){n.vs.has(t)||(n.vs.add(t),n.gn(t))}))}))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))},this.ls=new Ne(this._o)}return t.prototype.observe=function(){var t=this;this.ls.observe(),_i(document,NodeFilter.SHOW_TEXT).visitAll((function(n){t.vs.add(n),t.gn(n)}))},t.prototype.disconnect=function(){this.vs.clear(),this.ls.disconnect()},t}();!function(t){t.ENCRYPTED_NODE_PROP="toEncrypt",t.shouldEncrypt=function(n){return!0===hr.getProperty(n,t.ENCRYPTED_NODE_PROP)},t.markEncryptedNode=function(n){hr.setProperty(n,t.ENCRYPTED_NODE_PROP,!0)},t.unmarkEncryptedNode=function(n){hr.setProperty(n,t.ENCRYPTED_NODE_PROP,void 0)}}(Us||(Us={}));var Hs,Fs=function(t){function n(n){var i=t.call(this)||this;return i.Do=new Set,i.Lo=new Set,i.Uo=!1,i.jo=new Set,i.co=!1,i.qo=new Ls(n),i.Ho=new qs((function(t){var n=le.getParentElement(t);!n||!n.isConnected||yr.isMaskedElement(n)||yr.isMaskedElementChild(n)||Us.shouldEncrypt(n)||j(n)||F(n)||H(n)||x(t.data)||(i.Do.add(n),i.Fo())})),i}return l(n,t),n.prototype.onStart=function(){var t=this;Ls.isSupported()&&(this.qo.start((function(n,i){return t.onVisibilityChanged(n,i)})),this.Ho.observe())},n.prototype.onStop=function(){Ls.isSupported()&&(this.qo.stop(),this.Ho.disconnect(),this.Do.clear(),this.Lo.clear(),this.jo.clear(),this.Uo=!1)},n.prototype.setAnonymization=function(t){this.co=t},n.prototype.Fo=function(){var t=this;this.Uo||(this.Uo=!0,fe((function(){var n,i;if(t.isStarted){t.Uo=!1;var r=t.Do;t.Do=new Set;try{for(var e=p(Ni(r)),s=e.next();!s.done;s=e.next()){var o=s.value;o.isConnected&&!t.Lo.has(o)&&(t.Lo.add(o),Ri(csNodechildNodes.apply(o),(function(t){return 3===t.nodeType}))&&t.qo.observe(o))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}}),1001))},n.prototype.onVisibilityChanged=function(t,n){var i=this;n!==Ps.VisibleInViewPort||this.co&&!ps.isWhitelistedElement(t)||Ei(csNodechildNodes.apply(t),(function(t){if(3===t.nodeType){var r=t.data;i.jo.has(r)||(i.jo.add(r),i.produceEvent({type:"TextVisibility",text:r,state:n}))}}))},d([Gn()],n.prototype,"onVisibilityChanged",null),n}(Ve);!function(t){t.isTextVisibilityEvent=function(t){return"TextVisibility"===t.type}}(Hs||(Hs={}));var Bs,Vs,zs,Gs,Js=function(t){function n(n,i,r,e){void 0===e&&(e=null);var s=t.call(this)||this;s.G=r,s.ao=e;return s.Bo=new ks(n,i,r,e,!0),s}return l(n,t),n.prototype.setAnonymization=function(t){this.Bo.setAnonymization(t)},n.prototype.isListening=function(t){return Hs.isTextVisibilityEvent(t)||Be.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"attributeChanged"===t.domEvent||"characterDataChanged"===t.domEvent)},n.prototype.processEvent=function(t){if(Hs.isTextVisibilityEvent(t))return t.text=this.G.checkAndAnonymizePII(t.text,this.ao),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.Vo(t);break;case"attributeChanged":this.zo(t);break;case"characterDataChanged":this.Go(t)}return t},n.prototype.Vo=function(t){var n,i,r="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes;try{for(var e=p(r),s=e.next();!s.done;s=e.next()){var o=s.value;this.Bo.sanitize(o)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},n.prototype.zo=function(t){t.isSvg||t.newValue&&(null!==t.localName?t.newValue=this.Bo.getAnonymizedAttributeValue(t.localName,t.attribute,t.newValue,t.inputType):t.newValue="")},n.prototype.Go=function(t){t.newValue=this.Bo.getAnonymizedValue(t.newValue,t.parentLocalName,t.parentProps).anonymizedValue},d([ai("AnonymizedTextProcessor.processEvent")],n.prototype,"processEvent",null),n}(Ye),Ys=function(t){function n(n){var i=t.call(this)||this;return i.Jo=n,i}return l(n,t),n.prototype.isListening=function(t){return Be.isDOMEvent(t)&&"initialDOM"===t.domEvent},n.prototype.processEvent=function(t){return"initialDOM"===t.domEvent&&(t.initialDOM.baseURI=this.Jo.anonymizeUrl(t.initialDOM.baseURI)),t},d([ai("UrlAnonymizationProcessor.processEvent")],n.prototype,"processEvent",null),n}(Ye),Ws="textarea",Xs=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.isListening=function(t){return Be.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"characterDataChanged"===t.domEvent)},n.prototype.processEvent=function(t){switch(t.domEvent){case"initialDOM":this.Yo(t);break;case"nodesAdded":this.Wo(t);break;case"characterDataChanged":this.Xo(t)}return t},n.prototype.Yo=function(t){var n=this;hr.traverse(t.initialDOM,(function(t,i){n.$o(t,i)&&(t.data=n.Ko(t.data))}))},n.prototype.Wo=function(t){var n,i,r=this;try{for(var e=p(t.nodes),s=e.next();!s.done;s=e.next()){var o=s.value;hr.traverse(o,(function(n,i){r.Qo(n,i,t)&&(n.data=r.Ko(n.data))}))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},n.prototype.Xo=function(t){t.parentLocalName===Ws&&(t.newValue=this.Ko(t.newValue))},n.prototype.Ko=function(t){return csString.prototype.replace.call(t,/\S/g,"â€¢")},n.prototype.Qo=function(t,n,i){return this.Zo(t,i)||this.$o(t,n)},n.prototype.Zo=function(t,n){return 3===t.nodeType&&n.targetLocalName===Ws},n.prototype.$o=function(t,n){return 3===t.nodeType&&N(n)&&n.localName===Ws},d([ai("AnonymizedTextAreaProcessor.processEvent")],n.prototype,"processEvent",null),n}(Ye),$s=function(){function t(t){var n=this;this.gn=t,this.tu={boundElement:window,type:"resize",listener:function(){return n.resizeListener()}},this.gn=t}return t.prototype.observe=function(){Wi(this.tu),this.zn()},t.prototype.zn=function(){this.resizeListener()},t.prototype.disconnect=function(){Xi(this.tu)},t.prototype.resizeListener=function(){var t={width:he.windowWidth(),height:he.windowHeight()};this.gn(t)},jn([Gn("resize")],t.prototype,"resizeListener",null),t}();!function(t){t.PORTRAIT="Portrait",t.LANDSCAPE="Landscape"}(Bs||(Bs={})),function(t){t.PORTRAIT_PRIMARY="portrait-primary",t.PORTRAIT_SECONDARY="portrait-secondary",t.LANDSCAPE_PRIMARY="landscape-primary",t.LANDSCAPE_SECONDARY="landscape-secondary"}(Vs||(Vs={})),function(t){t[t.PORTRAIT=0]="PORTRAIT",t[t.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",t[t.LANDSCAPE=-90]="LANDSCAPE",t[t.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(zs||(zs={})),function(t){var n=null;t.isScreenOrientationApiSupported=function(){var t;return null!=n?n:n=!!(null===(t=e.screen)||void 0===t?void 0:t.orientation)},t.isDeprecatedScreenOrientationApiSupported=function(){return"orientation"in e},t.getCurrentOrientation=function(){return t.isScreenOrientationApiSupported()?function(){var t;switch(null===(t=e.screen.orientation)||void 0===t?void 0:t.type){case Vs.PORTRAIT_PRIMARY:case Vs.PORTRAIT_SECONDARY:return Bs.PORTRAIT;case Vs.LANDSCAPE_PRIMARY:case Vs.LANDSCAPE_SECONDARY:return Bs.LANDSCAPE;default:return Bs.PORTRAIT}}():t.isDeprecatedScreenOrientationApiSupported()?function(){switch(window.orientation){case zs.PORTRAIT:case zs.PORTRAIT_REVERSE:return Bs.PORTRAIT;case zs.LANDSCAPE:case zs.LANDSCAPE_REVERSE:return Bs.LANDSCAPE;default:return Bs.PORTRAIT}}():Bs.LANDSCAPE}}(Gs||(Gs={}));var Ks=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.nu=null,n.iu=null,n.ru=new $s((function(t){n.produceEvent(v(v({},t),{type:"viewportResize"})),n.onScreenPotentiallyChanged()})),n}return l(n,t),n.prototype.onScreenPotentiallyChanged=function(){var t=Gs.getCurrentOrientation(),n=this.eu(t),i=n.screenWidth,r=n.screenHeight;if(i!==this.nu||r!==this.iu){this.nu=i,this.iu=r;var e={type:"screenResize",width:i,height:r};this.produceEvent(e)}},n.prototype.eu=function(t){var n,i,r=he.screenWidth(),e=he.screenHeight();return t===Bs.PORTRAIT?(n=r,i=e):(n=Math.max(r,e),i=Math.min(r,e)),{screenWidth:n,screenHeight:i}},n.prototype.onStart=function(){this.ru.observe()},n.prototype.onStop=function(){this.nu=null,this.iu=null,this.ru.disconnect()},n}(Ve);function Qs(t){var n=csEventtarget.apply(t);return n&&P(n)&&csElementshadowRoot.apply(n)&&t.composedPath?t.__csOriginalTarget||t.composedPath()[0]:n}var Zs=function(){function t(t,n){void 0===n&&(n={closest:!1});var i=this;this.gn=t,this.Ro=n,this.su="",this.ou=de(),this.Ps=si((function(t){var n,r;if(""!==i.su){var e=[];try{for(var s=Fn(bi(t,(function(t){return t.addedNodes}))),o=s.next();!o.done;o=s.next()){var u=o.value;if(z(u)||i.Ro.closest&&_(u))Ti(i.Ro.closest?i.hu(u,i.su):i.findMatchingElements(u,i.su),e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}e.length&&i.gn(e,"added")}}),"SelectorObserver.processMutations"),this.au=function(t,n){if(""!==i.su&&"added"===n){var r=i.findMatchingElements(t,i.su);r.length&&i.gn(r,"added")}},this._i=new Ne(this.Ps,this.au)}return Object.defineProperty(t.prototype,"selectors",{get:function(){return""===this.su?null:this.su},enumerable:!1,configurable:!0}),t.prototype.observe=function(t){var n,i,r=this;""===this.su?this._i.observe():this.su+=",",this.su+=t;var e=this.findMatchingElements(document,t);try{for(var s=Fn(this._i.shadowRoots),o=s.next();!o.done;o=s.next()){var u=o.value;Ti(this.findMatchingElements(u,t),e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}e.length&&(Ei(e,(function(t){r.ou.add(t)})),this.gn(e,"initial"))},t.prototype.processPendingMutations=function(){this.Ps(this._i.takeRecords())},t.prototype.disconnect=function(){this._i.disconnect(),this.ou.clear(),this.su=""},t.prototype.hu=function(t,n){var i=this,r=[];if(_(t)){var e;if(t.parentElement)(e=pr(t.parentElement,n))&&csArray.prototype.push.call(r,e);return csArray.prototype.filter.call(r,(function(t){return!1===i.ou.has(t)}))}return I(t)&&(e=pr(t,n))?(csArray.prototype.push.call(r,e),csArray.prototype.filter.call(r,(function(t){return!1===i.ou.has(t)}))):this.findMatchingElements(t,n)},t.prototype.findMatchingElements=function(t,n){var i=this,r=gi(window.csquerySelectorAll[t.nodeType].call(t,n));return P(t)&&nt.call(t,n)&&csArray.prototype.push.call(r,t),csArray.prototype.filter.call(r,(function(t){return!1===i.ou.has(t)}))},jn([Gn()],t.prototype,"observe",null),jn([Gn()],t.prototype,"disconnect",null),jn([ai("SelectorObserver.findMatchingElements")],t.prototype,"findMatchingElements",null),t}(),to=function(t){function n(){var n=t.call(this)||this;return n.fu=function(t){var i=Qs(t);i&&n.lu(i,t.type)},n.Un=new Ji((function(t,i){switch(i){case"initial":case"added":n.vu(t);break;case"removed":n.du(t)}})),n.yu=new Zs((function(t,i){"initial"!==i&&"added"!==i||n.wu(t)})),n}return l(n,t),n.shouldProcessElement=function(t){return"VIDEO"===t.tagName&&le.isConnected(t)&&!yr.isMaskedElement(t)&&!yr.isMaskedElementChild(t)},n.isPlaying=function(t){return!t.paused&&!t.ended},n.prototype.onStart=function(){this.vu(document),this.Un.observe(),this.yu.observe("video")},n.prototype.onStop=function(){this.du(document),this.Un.disconnect(),this.yu.disconnect()},n.prototype.lu=function(t){for(var i,r,e=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];if(this.isStarted&&n.shouldProcessElement(t)){var u=function(n){var i={type:"VideoEvent",videoEventType:n,nodeId:vr(t)};"seeked"===n&&(i.newTimePositionInSec=t.currentTime),ie((function(){return e.produceEvent(i)}))};try{for(var c=p(s),h=c.next();!h.done;h=c.next()){u(h.value)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}},n.prototype.wu=function(t){var i,r;try{for(var e=p(t),s=e.next();!s.done;s=e.next()){var o=s.value;this.lu(o,"seeked"),n.isPlaying(o)&&this.lu(o,"play")}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.vu=function(t){var n,i;try{for(var r=p(["play","pause","seeked"]),e=r.next();!e.done;e=r.next()){Wi({type:e.value,listener:this.fu,boundElement:t})}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.du=function(t){var n,i;try{for(var r=p(["play","pause","seeked"]),e=r.next();!e.done;e=r.next()){Xi({type:e.value,listener:this.fu,boundElement:t})}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(Ve);function no(t){return"INPUT"===t.nodeName}function io(t){return no(t)&&"number"===t.type}function ro(t){return no(t)&&("checkbox"===t.type||"radio"===t.type)}var eo,so,oo=function(t){function n(n){var i=t.call(this)||this;return i.Br=n,i.pu=de(),i.mu=function(t){return i.inputHandler(t)},i.gu=[],i.Su(),i.bu(),i.yu=new Zs((function(t){var n,r,e=function(t){i.Eu(t)&&oe((function(){i.Au(t,vr(t))}),"low")};try{for(var s=p(t),o=s.next();!o.done;o=s.next()){e(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}})),i.Un=new Ji((function(t,n){switch(n){case"initial":case"added":Wi({type:"change",listener:i.mu,boundElement:t});break;case"removed":Xi({type:"change",boundElement:t,listener:i.mu})}})),i}return l(n,t),n.prototype.onStart=function(){Wi({type:"keyup",boundElement:document,listener:this.mu}),Wi({type:"change",boundElement:document,listener:this.mu}),Ei(this.gu,(function(t){return t.activate()})),this.yu.observe(csArray.prototype.join.call(n.Ru,",")),this.Un.observe()},n.prototype.onStop=function(){Xi({type:"keyup",boundElement:document,listener:this.mu}),Xi({type:"change",boundElement:document,listener:this.mu}),Ei(this.gu,(function(t){return t.deactivate()})),this.yu.disconnect(),this.Un.disconnect(),this.pu.clear()},n.prototype.Au=function(t,n){var i,r,e;if(!this.pu.has(t))if(this.pu.add(t),function(t){return"SELECT"===t.nodeName}(t)){var s={type:"InputEvent",inputType:"select",target:vr(t),selectedIndex:t.selectedIndex,timestamp:en()};this.produceEvent(s)}else if(ro(t)){var o={type:"InputEvent",inputType:"checkable",target:vr(t),checked:t.checked,timestamp:en()};this.produceEvent(o)}else{var u=function(t){return"TEXTAREA"===t.nodeName||no(t)&&!io(t)&&!ro(t)}(t),c=io(t);if(u||c){var h=null!==(i=t.value)&&void 0!==i?i:"";if(null===(r=this.Br)||void 0===r?void 0:r.shouldEncrypt(t))return void(null===(e=this.Br)||void 0===e||e.registerInputNodeToEncrypt({targetId:n,targetValue:h,date:en()}));var a=c?"0":"â€¢",f={type:"InputEvent",inputType:"text",target:vr(t),value:csString.prototype.replace.call(h,/\S/g,a),timestamp:en()};this.produceEvent(f)}}},n.prototype.inputHandler=function(t){var n=this;if(this.isStarted){var i=er(t),r=vr(i);r&&this.Eu(i)&&le.isConnected(i)&&oe((function(){n.Au(i,r)}),"low")}},n.prototype.Su=function(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")},n.prototype.bu=function(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)},n.prototype.trackChanges=function(t,n,i){var r=this;void 0===i&&(i=!1);var e=Gi(t.prototype,n,(function(t,n,e){if(e!==n&&le.isConnected(t)){var s=i?t.parentElement:t;r.Ou(s)}}));e&&csArray.prototype.push.call(this.gu,e)},n.prototype.Eu=function(t){return!yr.isMaskedElement(t)&&!yr.isMaskedElementChild(t)&&(q(t)||V(t)||H(t))},n.prototype.Ou=function(t){var n=this;if(this.isStarted&&le.isConnected(t)){var i=vr(t);i&&this.Eu(t)&&oe((function(){n.Au(t,i)}),"low")}},n.Ru=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],d([Wn()],n.prototype,"inputHandler",null),d([Gn()],n.prototype,"trackChanges",null),n}(Ve),uo=function(t){function n(){var n=t.call(this)||this;n.Tu="object"==typeof window.customElements&&"function"==typeof window.customElements.whenDefined&&"function"==typeof window.Promise,n.Nu=Jn("CustomElementRegistrationProducer:onElementsFound",(function(t){var i,r,e;try{for(var s=p(t),o=s.next();!o.done;o=s.next()){var u=o.value;yr.isMaskedElement(u)||yr.isMaskedElementChild(u)||P(e=u)&&k(e.tagName)&&csString.prototype.indexOf.call(e.tagName,"-")>0&&-1===csString.prototype.indexOf.call(e.tagName,":")&&-1===csString.prototype.indexOf.call(e.tagName,'"')&&-1===csString.prototype.indexOf.call(e.tagName,",")&&csArray.prototype.indexOf.call(W,csString.prototype.toLocaleLowerCase.call(e.tagName))<0&&n.register(csString.prototype.toLowerCase.call(u.tagName))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}}));var i=ye(n.Nu);return n.Ms=new ls((function(t){return i.push(t)})),n.Do=new Set,n}return l(n,t),n.prototype.onStart=function(){this.Tu&&this.Ms.observe()},n.prototype.onStop=function(){this.Do.clear(),this.Ms.disconnect()},n.prototype.register=function(t){return y(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return this.Do.has(t)?[2]:(this.Do.add(t),[4,window.customElements.whenDefined(t)]);case 1:return n.sent(),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}),[2]}}))}))},d([Gn()],n.prototype,"register",null),n}(Ve),co=function(){function t(t){this.gn=t}return t.isNavigationTimingObserverSupported=function(){var t,n;return(null==(null===(t=window.PerformanceObserver)||void 0===t?void 0:t.supportedEntryTypes)?void 0:csArray.prototype.indexOf.call(null===(n=window.PerformanceObserver)||void 0===n?void 0:n.supportedEntryTypes,"navigation"))>=0},t.getTimeOrigin=function(){return window.performance.timeOrigin},t.ku=function(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver((function(n){return t.Cu(n)}))},t.Cu=function(n){var i=n.getEntriesByType("navigation")[0];i&&(this.Iu=i,t.Mu(i))},t.En=function(t){this.xu(t),this.Iu&&t(this.Iu),this.Pu||this._u()},t.xu=function(t){this.Du.add(t)},t.Lu=function(t){this.Du.delete(t)},t._u=function(){if(this.Uu||(this.Uu=this.ku()),!this.Uu)return this.Iu||(this.Iu={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),void this.Mu(this.Iu);this.Uu.observe({type:"navigation",buffered:!0}),this.Pu=!0},t.Mu=function(t){this.Du.forEach((function(n){return n(t)}))},t.Mn=function(t){this.Lu(t),0===this.Du.size&&this.ju()},t.ju=function(){var t;this.Pu&&(null===(t=this.Uu)||void 0===t||t.disconnect(),this.Pu=!1,this.Iu=null,this.Uu=this.ku())},t.prototype.observe=function(){t.En(this.gn)},t.prototype.disconnect=function(){t.Mn(this.gn)},t.Pu=!1,t.Du=new Set,t.Iu=null,t}(),ho=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.qu=null,n.Hu=new co((function(t){if(!n.qu){var i=n.Fu(t);i&&(n.qu=i,n.produceEvent(i))}})),n}return l(n,t),n.prototype.onStart=function(){this.qu?this.produceEvent(this.qu):this.Hu.observe()},n.prototype.onStop=function(){this.Hu.disconnect()},n.prototype.Fu=function(t){var n=co.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:n,requestStart:Math.floor(n+t.requestStart),domInteractive:Math.floor(n+t.domInteractive)},timestamp:en()}},n}(Ve);!function(t){t[t.TAP=0]="TAP",t[t.LONG_PRESS=1]="LONG_PRESS",t[t.DRAG=2]="DRAG",t[t.FLICK=3]="FLICK",t[t.PINCH_IN=4]="PINCH_IN",t[t.PINCH_OUT=5]="PINCH_OUT"}(eo||(eo={})),function(t){t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"}(so||(so={}));var ao,fo=function(){function t(){}return t.prototype.compute=function(t,n){var i=this.Bu(n.x)-this.Bu(t.x),r=this.Bu(n.y)-this.Bu(t.y),e=n.time-t.time;return{duration:e,distance:this.Vu(i,r),direction:this.zu(i,r),velocity:this.Gu(i,r,e)}},t.prototype.computePinchMetrics=function(t,n){var i=this.Bu(n.x)-this.Bu(t.x),r=this.Bu(n.y)-this.Bu(t.y);return{duration:n.time-t.time,distance:this.Vu(i,r)}},t.prototype.getScale=function(t,n){return Math.abs(n/t-1)},t.prototype.Bu=function(t){return t/window.devicePixelRatio},t.prototype.Vu=function(t,n){return Math.round(Math.sqrt(t*t+n*n))},t.prototype.Gu=function(t,n,i){var r=i/1e3,e=t/r,s=n/r;return Math.round(Math.abs(e)+Math.abs(s))},t.prototype.zu=function(t,n){return Math.abs(t)>Math.abs(n)?t>0?so.RIGHT:so.LEFT:n>0?so.DOWN:so.UP},t}(),lo="undefined"!=typeof performance&&!!performance.now,vo=lo?function(){return performance.now()}:csDate.now,yo=lo?null===(ao=performance.timing)||void 0===ao?void 0:ao.navigationStart:0,wo=function(){return Math.round(vo()+yo)};function po(t,n){void 0===n&&(n=0);var i=Math.pow(10,n);return Math.round(t*i)/i}var mo,go=function(){function t(){this.Ju={},this.Yu=function(){},this.Wu=new fo,this.Xu()}return t.isGestureDetectionSupported=function(){return"undefined"!=typeof devicePixelRatio},t.prototype.onGesture=function(t){this.Yu=t},t.prototype.isValidTouchEvent=function(t){return"touches"in t&&"changedTouches"in t},t.prototype.processActionDown=function(t){if(this.$u(t)){this.Ku(t)&&this.Xu();var n={x:t.touches[0].clientX,y:t.touches[0].clientY,time:wo()};if(1===t.touches.length)this.Ju.startPinchTime=n.time,this.Ju.firstTouch=n;else if(2===t.touches.length&&(this.Ju.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:wo()},this.Ju.firstTouch&&this.Ju.secondTouch)){var i=this.Wu.computePinchMetrics(this.Ju.firstTouch,this.Ju.secondTouch);this.Qu=i.distance}csArray.prototype.push.call(this.Zu,n),this.tc=er(t)}},t.prototype.processActionMove=function(){this.nc=!0},t.prototype.processActionUp=function(t){if(this.rc(t)){if(csArray.prototype.push.call(this.Zu,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:wo()}),this.ec(t)&&this.Ju.startPinchTime){var n={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Ju.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:wo()};this.Ju.firstTouch&&(this.Ju.firstTouch=n,this.Ju.secondTouch=i),this.sc(t)}this.Qu||this.oc()&&this.cc(t)}},t.prototype.Xu=function(){this.Zu=[],this.tc=null,this.nc=!1,this.Qu=null,this.hc=!0},t.prototype.cc=function(t){var n=this.Wu.compute(this.Zu[0],this.Zu[1]);this.hc=t.isTrusted;var i=this.nc?this.ac(n):this.fc(n);if(this.lc(i.type,t.changedTouches)){var r=t.changedTouches[0];i.pageX=po(r.pageX,1),i.pageY=po(r.pageY,1)}this.Yu(i,t)},t.prototype.sc=function(t){if(this.Ju.firstTouch&&this.Ju.secondTouch){var n=this.Wu.computePinchMetrics(this.Ju.firstTouch,this.Ju.secondTouch);this.hc=t.isTrusted;var i=this.vc(n);i&&this.Yu(i,t)}},t.prototype.vc=function(t){if(this.Qu&&!(this.Wu.getScale(this.Qu,t.distance)<.1))return{type:this.Qu>t.distance?eo.PINCH_IN:eo.PINCH_OUT,target:this.tc,distance:t.distance,isTrusted:this.hc}},t.prototype.ac=function(t){return{type:t.velocity<100?eo.DRAG:eo.FLICK,target:this.tc,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.hc}},t.prototype.fc=function(t){return{type:t.duration<1e3?eo.TAP:eo.LONG_PRESS,target:this.tc,isTrusted:this.hc}},t.prototype.lc=function(t,n){return t===eo.TAP&&n&&1===n.length},t.prototype.Ku=function(t){return 1===t.touches.length},t.prototype.oc=function(){return 2===this.Zu.length},t.prototype.$u=function(t){return t.touches.length>0},t.prototype.rc=function(t){return t.changedTouches.length>0},t.prototype.ec=function(t){return this.nc&&!!this.Qu&&1===t.changedTouches.length&&1===t.touches.length},t}(),So=function(){function t(t){this.gn=t}return t.prototype.observe=function(){t.yc&&t.wc(this.gn)},t.prototype.disconnect=function(){t.yc&&t.mc(this.gn)},t.gc=function(n,i){csArray.prototype.forEach.call(Ni(t.Du),(function(t){return t(n,i)}))},t.wc=function(n){t.Du.has(n)||(t.Du.add(n),1===t.Du.size&&(t.Sc.onGesture(t.gc),csArray.prototype.forEach.call(t.Ge,(function(t){return Wi(t)}))))},t.mc=function(n){t.Du.delete(n),0===t.Du.size&&csArray.prototype.forEach.call(t.Ge,(function(t){return Xi(t)}))},t.bc=function(n){if(t.Sc.isValidTouchEvent(n))switch(n.type){case"touchstart":t.Sc.processActionDown(n);break;case"touchmove":t.Sc.processActionMove();break;case"touchend":t.Sc.processActionUp(n)}},t.Ge=[{boundElement:e.document,type:"touchstart",listener:function(n){return t.bc(n)}},{boundElement:e.document,type:"touchmove",listener:function(n){return t.bc(n)}},{boundElement:e.document,type:"touchend",listener:function(n){return t.bc(n)}}],t.yc=go.isGestureDetectionSupported(),t.Du=new Set,t.Sc=new go,t}(),bo=function(t){function n(){var n=t.call(this)||this;return n.Ec=new So(n.Ac.bind(n)),n}return l(n,t),n.prototype.onStart=function(){this.Ec.observe()},n.prototype.onStop=function(){this.Ec.disconnect()},n.prototype.Ac=function(t){var n=this.Rc(t);n&&this.produceEvent(n)},n.prototype.Rc=function(t){if(!this.Oc(t))return null;var n,i=(n=t.target,hr.getProperty(n,lr));return i?{type:"Gesture",targetId:i,data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null},n.prototype.Oc=function(t){return null!==t.target&&!(P(t.target)&&yr.isMaskedElementChild(t.target))},n}(Ve),Eo=function(){function t(t){var n=this;this.gn=t,this.Tc=!1,this.tu={boundElement:e,type:"error",listener:function(t){return n.Nc(t)}}}return t.prototype.observe=function(){Wi(this.tu,this.Tc)},t.prototype.disconnect=function(){Xi(this.tu,this.Tc)},t.prototype.Nc=function(t){this.gn(t)},t}(),Ao=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.kc=new Eo((function(t){return n.Cc(t)})),n}return l(n,t),n.prototype.Cc=function(t){var n=t.message,i=t.filename,r=t.lineno,e=t.colno;n=null!=n?n:"[NO ERROR MESSAGE]",i=!i||qr(i)?"":i,this.produceEvent({type:"JSError",message:n,filename:i,lineno:r,colno:e})},n.prototype.onStart=function(){this.kc.observe()},n.prototype.onStop=function(){this.kc.disconnect()},n}(Ve),Ro=function(t){function n(n){var i=t.call(this)||this;return i.Ic=n,i.Mc=1024,i.xc=150,i}return l(n,t),n.prototype.isListening=function(t){return"JSError"===t.type},n.prototype.processEvent=function(t){return t.message=Je.truncate(t.message,this.Mc,Je.ELLIPSIS),t.filename=Je.truncate(t.filename,this.xc,Je.ELLIPSIS),this.Ic(t)},n}(Ye),Oo=[],To=!1,No=si((function(){for(var t=csDate.now(),n=0;n<Oo.length;n++)if(Oo[n](),csDate.now()-t>=35)return Oo=csArray.prototype.slice.call(Oo,n+1),void csSetTimeout(No);Oo=[],To=!1}),"executeTasks");!function(t){t[t.Started=0]="Started",t[t.Stopped=1]="Stopped",t[t.Processing=2]="Processing",t[t.Completed=3]="Completed"}(mo||(mo={}));var ko=function(){function t(){var t=this;this.Pc=new Xn,this.Nr=mo.Stopped,this.gn=null,this._c=function(n){t.Nr!==mo.Stopped&&n&&(t.gn(n),t.Dc())}}return Object.defineProperty(t.prototype,"queueLength",{get:function(){return this.Pc.length},enumerable:!1,configurable:!0}),t.prototype.start=function(t){if(this.gn)throw new Error("callback already set");this.Nr=mo.Started,this.gn=t},t.prototype.push=function(t){this.Pc.push(t),this.Lc()},t.prototype.stop=function(){this.gn=null,this.Nr=mo.Stopped,this.Pc.clear()},t.pipe=function(n,i){var r,e,s=n,o=new csArray,u=function(n){var i=new t;i.start((function(t){n.pushEvent(t)})),csArray.prototype.push.call(o,i),Ei(s,(function(t){return t.subscribe((function(t){return i.push(t)}))})),s=[n]};try{for(var c=p(i),h=c.next();!h.done;h=c.next()){u(h.value)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}var a=new Co(o);return Ei(s,(function(t){return t.subscribe((function(t){return a.push(t)}))})),a},t.prototype.Uc=function(){return this.Nr===mo.Stopped},t.prototype.jc=function(){return this.Nr===mo.Processing},t.prototype.Dc=function(){var t=this;this.Uc()||(this.Pc.isEmpty?this.Nr=mo.Completed:(this.Nr=mo.Processing,function(t){if(csArray.prototype.push.call(Oo,t),!To){for(var n=0;n<3;n++)csSetTimeout(No);To=!0}}((function(){var n=t.Pc.pop();n instanceof Zr?n.complete(t._c):t._c(n)}))))},t.prototype.Lc=function(){this.Uc()||this.jc()||this.Dc()},t}(),Co=function(t){function n(n){var i=t.call(this)||this;return i.qc=n,i}return l(n,t),Object.defineProperty(n.prototype,"queueLength",{get:function(){return csArray.prototype.reduce.call(this.qc,(function(t,n){return t+n.queueLength}),0)},enumerable:!1,configurable:!0}),n.prototype.stop=function(){t.prototype.stop.call(this),Ei(this.qc,(function(t){return t.stop()}))},n}(ko),Io=function(){function t(t,n){void 0===n&&(n=[]),this.producers=t,this.processors=n,this.Nn=!1,this.Du=[]}return Object.defineProperty(t.prototype,"pendingEvents",{get:function(){var t,n;return null!==(n=null===(t=this.Pc)||void 0===t?void 0:t.queueLength)&&void 0!==n?n:0},enumerable:!1,configurable:!0}),t.prototype.start=function(){if(this.Nn)throw new Error("Recording is already started.");var t=this.Du;this.Pc=ko.pipe(this.producers,this.processors),this.Pc.start((function(n){return csArray.prototype.forEach.call(t,(function(t){return t(n)}))})),Ei(this.producers,(function(t){return t.start()})),Ei(this.processors,(function(t){return t.start()})),this.Nn=!0},t.prototype.stop=function(){var t,n,i,r;this.Pc.stop(),this.Du.length=0;try{for(var e=p(this.producers),s=e.next();!s.done;s=e.next()){s.value.stop()}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}try{for(var o=p(this.processors),u=o.next();!u.done;u=o.next()){u.value.stop()}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.Nn=!1,this.Du=[]},t.prototype.subscribe=function(t){var n=this;if(this.Nn)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Du,t),function(){return n.Du=csArray.prototype.filter.call(n.Du,(function(n){return n!==t}))}},t}(),Mo=function(t){function n(n){var i=t.call(this)||this;return i.Yr=n,i}return yt(n,t),n.prototype.subscribe=function(n){return t.prototype.subscribe.call(this,n)},n.prototype.onStart=function(){var t=this;Ei(this.Yr,(function(n){n.onEvent((function(i){var r;return t.Ar(i,null!==(r=n.eventType)&&void 0!==r?r:"browser")}))})),Ei(this.Yr,(function(t){var n;null===(n=t.start)||void 0===n||n.call(t)}))},n.prototype.onStop=function(){Ei(this.Yr,(function(t){var n;return null===(n=t.stop)||void 0===n?void 0:n.call(t)}))},n.prototype.Ar=function(t,n){this.produceEvent({timestamp:en(),type:"Legacy",originalEvent:t,eventType:n})},n}(Ve);function xo(t){var n=function(t){var n={type:Po(t.type)};for(var i in t){var r=t[i];void 0!==r&&"type"!==i&&(n[i]=r)}return n}(t.data);return{type:Qi.GESTURE_RECOGNITION,args:[t.targetId,n],date:t.timestamp}}function Po(t){switch(t){case eo.DRAG:case eo.FLICK:return tr.SWIPE;case eo.LONG_PRESS:return tr.LONG_PRESS;case eo.TAP:return tr.TAP;case eo.PINCH_IN:return tr.PINCH_IN;case eo.PINCH_OUT:return tr.PINCH_OUT}}var _o;function Do(t){return function(t,n){var i=[],r=!1;return{push:function(t){var e=this;csArray.prototype.push.call(i,t),i.length!==n.batchSize?n.autoFlushDelay&&n.autoFlushDelay>0&&!r&&(r=!0,csSetTimeout((function(){r=!1,i.length>0&&e.flush()}),n.autoFlushDelay)):this.flush()},flush:function(){if(i.length){var n=i;i=[],t(n)}}}}((function(n){var i={visibleInViewPort:n},r={type:Qi.TEXT_VISIBILITY,date:en(),args:[i]};t(r)}),{batchSize:20,autoFlushDelay:1e3})}!function(t){t.REQUEST_START="requestStart",t.DOM_INTERACTIVE="domInteractive",t.TIME_ORIGIN="timeOrigin"}(_o||(_o={}));wt(wt({},{connectEnd:"ce",connectStart:"cs",decodedBodySize:"dbs",domainLookupEnd:"dle",domainLookupStart:"dls",duration:"d",fetchStart:"fs",initiatorType:"it",name:"n",nextHopProtocol:"nhp",redirectEnd:"re",redirectStart:"rs",requestStart:"rqs",responseEnd:"rse",responseStart:"rss",responseStatus:"rst",secureConnectionStart:"scs",startTime:"st",transferSize:"ts"}),{domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",loadEventEnd:"lee",loadEventStart:"les",type:"t"});var Lo=0;var Uo,jo=function(){function t(t,n,i,r,e){var s=this;this.Hc=t,this.Fc=n,this.Bc=i,this.Kr=r,this.Qr=e,this.Vc=function(){},this.zc=function(){},this.Gc=Do((function(t){return s.Vc(t)}))}return Object.defineProperty(t.prototype,"pendingEvents",{get:function(){return this.Hc.pendingEvents},enumerable:!1,configurable:!0}),t.prototype.start=function(){var t,n,i=this;this.Jc={processEvent:function(t,n){if(t.originalEvent.type===Qi.PERFORMANCE_RESOURCE_TIMING)return Lo>=500?null:(Lo+=1,n(wt(wt({},t.originalEvent),{date:t.timestamp})));n(t.originalEvent)},reset:function(){Lo=0}},this.Hc.subscribe((function(t){var n,r,e,s,o,u,c=t,h=c.timestamp;switch(c.type){case"Legacy":var a="user"===c.eventType?null!==(n=i.zc)&&void 0!==n?n:function(){}:i.Vc;i.Jc.processEvent(c,a);break;case"CustomElementRegistration":i.Vc({type:Qi.CUSTOM_ELEMENT_REGISTRATION,date:h,args:[c.tagName]});break;case"DomEvent":!function(t,n,i){var r,e,s=t.timestamp;switch(t.domEvent){case"initialDOM":var o=t.initialDOM,u={type:Qi.INITIAL_DOM,date:s,args:[o]};i.emitInitialDomDone(u);break;case"nodesAdded":csArray.prototype.forEach.call(t.nodes,(function(i){n({type:Qi.MUTATION_INSERT,date:s,args:[t.target,t.nextSibling,i]})}));break;case"nodesMoved":try{for(var c=bt(t.nodesIds),h=c.next();!h.done;h=c.next()){var a=h.value;n({type:Qi.MUTATION_MOVE,date:s,args:[a,t.nextSibling,t.target]})}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}break;case"nodesRemoved":csArray.prototype.forEach.call(t.nodesIds,(function(t){n({type:Qi.MUTATION_REMOVE,date:s,args:[t]})}));break;case"attributeChanged":var f=t.target,l=t.namespace,v=t.attribute,d=t.newValue;n({type:Qi.MUTATION_ATTRIBUTE,date:s,args:[f,l,v,d]});break;case"characterDataChanged":f=t.target,d=t.newValue,n({type:Qi.MUTATION_CHARACTER_DATA,date:s,args:[f,d]});break;case"cssRuleInserted":f=t.target;var y=t.rule,w=N(p=t.index)?[f,y,p]:[f,y];n({type:Qi.STYLESHEET_RULE_INSERT,date:s,args:w});break;case"cssRuleDeleted":f=t.target;var p=t.index;n({type:Qi.STYLESHEET_RULE_DELETE,date:s,args:[f,p]});break;case"cssRuleUpdated":f=t.target,y=t.rule,p=t.index,n({type:Qi.STYLESHEET_RULE_UPDATE,date:s,args:[f,y,p]});break;case"shadowRootAttached":f=t.target;var m=t.shadowRoot;n({type:Qi.ATTACH_SHADOW,date:s,args:[f,m]});break;case"adoptedStyleSheetRegistered":var g=t.sheetId,S=t.cssRules;n({type:Qi.REGISTER_ADOPTED_STYLE_SHEET,date:s,args:[g,{cssRules:S}]});break;case"adoptedStyleSheetsSet":f=t.target;var b=t.sheetsIds;n({type:Qi.SET_ADOPTED_STYLE_SHEETS,date:s,args:[f,b]});break;case"adoptedStyleSheetRuleInserted":g=t.sheetId,y=t.rule,w=N(p=t.index)?[g,y,p]:[g,y],n({type:Qi.ADOPTED_STYLESHEET_RULE_INSERT,date:s,args:w});break;case"adoptedStyleSheetRuleDeleted":g=t.sheetId,p=t.index,n({type:Qi.ADOPTED_STYLESHEET_RULE_DELETE,date:s,args:[g,p]});break;case"adoptedStyleSheetRuleUpdated":w=[g=t.sheetId,y=t.rule,p=t.index],n({type:Qi.ADOPTED_STYLESHEET_RULE_UPDATE,date:s,args:w});break;default:Pn.error("translateDOMEvent: DOMEvent not supported")}}(c,i.Vc,i.Fc);break;case"InputEvent":var f=function(t){switch(t.inputType){case"text":return{type:Qi.INPUT_TEXT,args:[t.target,t.value],date:t.timestamp};case"select":return{type:Qi.INPUT_SELECT,args:[t.target,t.selectedIndex],date:t.timestamp};case"checkable":return{type:Qi.INPUT_CHECKABLE,args:[t.target,t.checked],date:t.timestamp}}}(c);null===(r=i.zc)||void 0===r||r.call(i,f);break;case"encryptedCharacterDataChanged":var l=c.target,v=c.rawData,d=c.encryptedData,y=c.encryptionMetadata;i.Vc({type:Qi.MUTATION_ENCRYPTED_CHARACTER_DATA,date:h,args:[l,v,d,y]});break;case"StaticResource":var w=c.url;i.Vc({type:Qi.STATIC_RESOURCE_URL,date:h,args:[w]});break;case"ResizeMaskedElement":l=c.target;var p=c.width,m=c.height;i.Vc({type:Qi.MUTATION_ATTRIBUTE,date:h,args:[l,"","style","width:".concat(p,"px !important;height:").concat(m,"px !important;")]});break;case"Gesture":var g=xo(t);null===(e=i.zc)||void 0===e||e.call(i,g);break;case"TextVisibility":i.Gc.push(c.text);break;case"StaticResourceManagerEvent":null===(s=i.Bc)||void 0===s||s.processEvent(c);break;case"screenResize":p=c.width,m=c.height;var S={type:Qi.SCREEN_RESIZE,date:h,args:[p,m]};i.Vc(S);break;case"viewportResize":p=c.width,m=c.height;var b={type:Qi.RESIZE,date:h,args:[p,m]};i.Vc(b);break;case"PerformanceTiming":i.Vc(function(t){return{type:Qi.PERFORMANCE_TIMINGS,args:[{performanceTiming:_o.REQUEST_START,timestamp:t.timings.requestStart},{performanceTiming:_o.DOM_INTERACTIVE,timestamp:t.timings.domInteractive},{performanceTiming:_o.TIME_ORIGIN,timestamp:t.timings.timeOrigin}],date:t.timestamp}}(c));break;case"CustomError":(E=null===(o=i.Qr)||void 0===o?void 0:o.translate(c))&&i.Vc(E);break;case"JSError":(E=null===(u=i.Kr)||void 0===u?void 0:u.translate(c))&&i.Vc(E);break;case"VideoEvent":var E;(E=function(t){switch(t.videoEventType){case"play":return{type:Qi.VIDEO_PLAY,args:[t.nodeId],date:t.timestamp};case"pause":return{type:Qi.VIDEO_PAUSE,args:[t.nodeId],date:t.timestamp};case"seeked":var n=t;return{type:Qi.VIDEO_SEEK,args:[n.nodeId,n.newTimePositionInSec],date:t.timestamp};default:return null}}(c))&&i.Vc(E);break;case"warning":Pn.warn(c.message);break;default:Pn.error("WebRecorderEventTranslator: Event not supported (".concat(c.type,")"))}})),this.Fc.emitInitialDomStart(),null===(t=this.Kr)||void 0===t||t.start(),null===(n=this.Qr)||void 0===n||n.start(),this.Hc.start()},t.prototype.stop=function(){var t,n,i;this.reset(),this.flush(),this.Hc.stop(),null===(t=this.Bc)||void 0===t||t.flushEvents(),null===(n=this.Kr)||void 0===n||n.stop(),null===(i=this.Qr)||void 0===i||i.stop()},t.prototype.flush=function(){this.Gc.flush()},t.prototype.onEvent=function(t,n){var i,r=this;this.Vc=t,this.zc=n,null===(i=this.Bc)||void 0===i||i.onEvent((function(t){return r.Vc(t)}))},t.prototype.reset=function(){this.Jc.reset()},t}(),qo=function(){function t(t){void 0===t&&(t=100),this.Yc=t,this.Wc={},this.Xc=null,this.zi="original-resource-name"}return t.prototype.onEvent=function(t){this.$c=t},t.prototype.processEvent=function(t){this.Kc(t.resourceId,t.resource.hash,t.originalResourceName),this.Qc(t)},t.prototype.flushEvents=function(){this.Xc&&csClearTimeout(this.Xc),this.Zc()},t.prototype.onSendStaticResource=function(t){this.Qc=t},t.prototype.Zc=function(){if(Object.keys(this.Wc).length){var t={type:Qi.RESOURCE_HASHES,date:en(),args:[this.Wc]};this.Xc=null,this.Wc={},this.$c(t)}},t.prototype.Kc=function(t,n,i){var r=this,e=n;i&&(e+="?".concat(this.zi,"=").concat(i)),this.Wc[t]=e,this.Xc||(this.Xc=window.csSetTimeout((function(){return r.Zc()}),this.Yc))},t}(),Ho=function(){function t(t,n,i){this.Fc=t,this.et=n,this.th=i,this.nh=xr.ETR_DISABLED,this.ih=xr.ETR_PENDING,this.rh=!0}return t.prototype.getEtrStatus=function(t){void 0===t&&(t=this.et.getSession());var n=null==t?void 0:t.etrStatus;return this.eh()&&n===xr.ETR_SAVED_SESSION?n:this.nh},t.prototype.onEventTriggerRecording=function(t,n){switch(n){case Mr.ETR_PAGE:this.oh(xr.ETR_SAVED_PAGE);break;case Mr.ETR_LEGACY:case Mr.ETR_SESSION:this.oh(xr.ETR_SAVED_SESSION)}},t.prototype.handleCollectStateChange=function(t){this.rh=!1,t?this.uh(this.ih):this.uh(xr.ETR_DISABLED)},t.prototype.handleArtificialPageview=function(){this.th?(this.rh=!0,this.uh(xr.ETR_DISABLED)):this.eh()&&this.uh(xr.ETR_PENDING)},t.prototype.handleSessionRenewal=function(){this.rh=!0,this.uh(xr.ETR_DISABLED)},t.prototype.uh=function(t){this.nh=t,this.ih=xr.ETR_PENDING,this.hh(t),this.Fc.emitRecordingContextChange()},t.prototype.oh=function(t){this.rh?Number(t)>Number(this.ih)&&(this.ih=t):this.eh()&&Number(t)>Number(this.nh)&&(this.nh=t,this.hh(t),this.Fc.emitRecordingContextChange())},t.prototype.hh=function(t){var n=this.et.getSession();null!==n&&n.etrStatus===xr.ETR_NOT_SAVED_SESSION&&t===xr.ETR_SAVED_SESSION&&(n.etrStatus=t,this.et.setSession(n))},t.prototype.eh=function(){return this.nh!==xr.ETR_DISABLED},t}();function Fo(t,n){var i,r,e,s,o=null,u=function(c){var h=sn();if(!c&&null!==o){var a=n-(h-o);if(a>0)return void(r=window.csSetTimeout(u,a))}var f=h-e;r=null,o=null,e=null,s=t.apply(void 0,Vn([f],Bn(i),!1))},c=function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];if(i=Vn([],Bn(t),!1),!e)return e=sn(),r=window.csSetTimeout(u,n),s;o=sn()};return c.flushPending=function(){r&&(window.csClearTimeout(r),u(!0))},c.cancel=function(){o=null,e=null,r&&(window.csClearTimeout(r),r=null)},c}function Bo(t){return void 0===t&&(t=0),function(n,i,r){var e=r.value,s=!1;r.value=function(){for(var n=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];s||(s=!0,csSetTimeout((function(){s=!1,e.apply(n,i)}),t))}}}!function(t){t[t.NOT_EXIST=2]="NOT_EXIST"}(Uo||(Uo={}));var Vo,zo,Go=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Bc=n,e.ah=i,e.fh=r,e.yh={},e.ph=new Set,e.jc=!1,e}return yt(n,t),n.prototype.initState=function(){var t=this;un()&&(this.mh=this.fh.getRequestParameters(),this.gh="".concat(this.ah,"/exist?").concat(xt.toQuery(this.mh)),this.Sh="".concat(this.ah,"/putTag?").concat(xt.toQuery(this.mh)),this.bh=Fo((function(){return gt(t,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:if(this.jc)return this.bh(),[2];this.jc=!0,t.label=1;case 1:return t.trys.push([1,,3,4]),[4,this.Eh()];case 2:return t.sent(),[3,4];case 3:return this.jc=!1,[7];case 4:return[2]}}))}))}),300),this.Bc.onSendStaticResource((function(n){t.Ah(n)})))},n.prototype.onStart=function(){},n.prototype.onStop=function(){},n.prototype.onIframeStaticResource=function(t){this.Ah(t)},n.prototype.Ah=function(t){var n=this;this.Rh(t.resource.hash,t.resource.data),t.nestedResources&&t.nestedResources.length>0&&csArray.prototype.forEach.call(t.nestedResources,(function(t){n.Rh(t.hash,t.data)}))},n.prototype.Rh=function(t,n){this.ph.has(t)||(this.ph.add(t),this.yh[t]=n,this.bh())},n.prototype.Eh=function(){return gt(this,void 0,void 0,(function(){var t,n,i,r=this;return St(this,(function(e){switch(e.label){case 0:return t=this.yh,this.yh={},[4,this.Oh(t)];case 1:return(n=e.sent()).length?(i=this.Th(n),[4,Promise.all(csArray.prototype.map.call(i,(function(t){return window.fetch(r.Sh,{method:"POST",body:t})})))]):[2];case 2:return e.sent(),[2]}}))}))},n.prototype.Nh=function(t){return gt(this,void 0,void 0,(function(){var n,i;return St(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),(n=Object.keys(t)).length?(i={projectId:this.mh.pid,filter:Uo.NOT_EXIST,hashes:n,touch:!0},[4,window.fetch(this.gh,{method:"POST",body:csJSON.stringify(i)})]):[2,[]];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()];case 3:return r.sent(),[2,[]];case 4:return[2]}}))}))},n.prototype.Oh=function(t){return gt(this,void 0,void 0,(function(){var n,i;return St(this,(function(r){switch(r.label){case 0:return n=[],[4,this.Nh(t)];case 1:return i=r.sent(),csArray.prototype.forEach.call(i,(function(i){var r=t[i];r?csArray.prototype.push.call(n,{hash:i,data:r}):Pn.warn("SRM: received unknown hash: "+i)})),[2,n]}}))}))},n.prototype.Th=function(t){var n,i,r=0,e=[new FormData];try{for(var s=bt(t),o=s.next();!o.done;o=s.next()){var u=o.value,c=u.data,h=u.hash,a=e.length-1;if((r+=c.size)<8388608)e[a].append("",c,h);else{var f=new FormData;f.append("",c,h),r=c.size,csArray.prototype.push.call(e,f)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return e},n}(Ar),Jo=function(){function t(t){this.kh=t,this.Ch=20,this.Ih=0,this.hr=!1}return t.prototype.translate=function(t){if(this.Ih>=this.Ch)return this.kh.stop(),null;this.Ih+=1;var n=t.filename,i=t.message,r=t.lineno,e=t.colno,s=t.timestamp;return{type:Qi.JAVASCRIPT_ERROR,date:s,args:[{errorType:"jsError",message:i,filename:n,lineno:r,colno:e}]}},t.prototype.start=function(){this.hr||(this.Ih=0,this.hr=!0)},t.prototype.stop=function(){this.hr=!1},t}(),Yo="v2/recording",Wo=["isRecording"],Xo=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],$o=["replay:resourceManager:getStatus","cssrm:getStatus"],Ko=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b){this.Mh=t,this.et=n,this.V=i,this.mh=r,this.xh=e,this.G=s,this.jr=o,this.Ph=u,this.qr=c,this.Hr=h,this.Fr=a,this._h=f,this.Fc=l,this.Dh=v,this.Lh=d,this.Uh=y,this.jh=w,this.Jo=p,this.$r=m,this.qh=g,this.Hh=S,this.Br=b}return t.prototype.init=function(){var t=this,n=[],i=[];csArray.prototype.push.call(i,new Ss),this.Fh=new Js(this.qh.shouldUseAnonymization(),this.V.whitelistedAttributes,this.G,this.V.anonymizeDigits),this.Bh();var r=new gs("csPersisted");this.Vh(r);var e=new br;this.Dr=new Sr;var s=new ds;csArray.prototype.push.call(n,s),this.V.useStaticResourceManager&&ns.isSupported()&&(this.Xr=new ns,this.Bc=new qo,this.zh=new Go(this.Bc,this.V.getStaticResourceManagerUri(),this.mh),this.Lh.addListener(this.zh),csArray.prototype.push.call(i,this.Xr));var o=new cs(e,this.mh,{getRequestParameters:function(){return{let:t.recordingService.getRecordingLastEventTimestamp()}}},{getRequestParameters:function(){return{rst:t.recordingService.getRecordingStartTimestamp()}}},{getRequestParameters:function(){return{rt:csArray.prototype.join.call(t.et.getCollectStates(),",")}}}),u=new ys("".concat(this.V.getRecordingUri(),"/").concat(Yo));csArray.prototype.push.call(i,this.Fh),csArray.prototype.push.call(i,new Ys(this.Jo)),csArray.prototype.push.call(i,new Xs),this.Gh=new mr,this.Gh.init(),csArray.prototype.push.call(n,this.Gh),this.zr=new us(r,u,this.Vr),csArray.prototype.push.call(n,new hs(window.location,this.G));var c=new Ge,h=new Ks,a=new to,f=new oo(this.Br),l=new uo,v=[h,this.Ph,c,new Mo(csArray.prototype.filter.call(n,(function(t){return t}))),l,new ho,new bo,f,a];this.V.textVisibilityEnabled&&Ls.isSupported()&&(this.Jh=new Fs,csArray.prototype.push.call(v,this.Jh)),this.V.jsErrorsEnabled&&(this.kh=new Ao,this.Yh=new Ro((function(n){return t.qr.anonymize(n)})),this.Kr=new Jo(this.kh),csArray.prototype.push.call(v,this.kh),csArray.prototype.push.call(i,this.Yh));var d=new Io(v,i),y=new jo(d,this.Fc,this.Bc,this.Kr,this.Qr),w=[c,h,a,f,l];this.recordingService=new os(this.V,this.Dr,o,e,this.jr,this.et,this.qr,this.Hr,this.Fr,this.Br,this.Vr,this.zr,u,y,n,w,this.Xr,this.$r,this.Kr,this.Qr),this.Dh.addListener(this.recordingService),this.Lh.addListener(this.recordingService),this.recordingService.init(),this.xh.register(Wo,(function(){return t.et.isReplayRecorded()&&!t.Uh.isUrlExcludedForSessionReplay()})),this.xh.register(Xo,(function(){t.recordingService.activateOnlineAssetsOnNextPageview(),t.Fc.emitRecordingContextChange()})),this.xh.register($o,(function(){return t.recordingService.getStaticResourceManagerStatus()})),this.Wh=new Ho(this.Fc,this.et,this.V.malkaUrlEnabled),this.Dh.addListener(this.Wh),this.Mh.enableRecordingContext(this.recordingService,this.et,this.Wh),this.Xh()},t.prototype.onAfterNaturalPageView=function(){var t;this.Uh.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),null===(t=this.zh)||void 0===t||t.initState()},t.prototype.onStartTracking=function(){this.zr.recover(),this.Bh(),this.et.isReplayRecorded()&&!this.Uh.isUrlExcludedForSessionReplay()&&(this.et.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.$h())},t.prototype.onArtificialPageViewEnd=function(){!this.et.isReplayRecorded()||this.Uh.isUrlExcludedForSessionReplay()||this.et.isTemporarilyRecorded()||this.zr.sendLastMessageBeacon(),this.recordingService.clearStates()},t.prototype.onBeforeArtificialPageView=function(){this.Wh.handleArtificialPageview()},t.prototype.onAfterArtificialPageView=function(){this.Bh(),this.et.isReplayRecorded()&&!this.Uh.isUrlExcludedForSessionReplay()?(this.et.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.Kh()):(this.recordingService.resetOnlineAssetsOnPageview(),this.Qh())},t.prototype.onBeforeSessionRenewal=function(){this.Wh.handleSessionRenewal(),this.recordingService.clearStates(),this.Qh()},t.prototype.onOptout=function(){this.Qh(),this.recordingService.onOptOut()},t.prototype.onReplayUnanonymizationConsentGranted=function(){this.Bh(),this.recordingService.triggerUnanonymizationConsentGranted(),this.Fc.emitRecordingContextChange()},t.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.Bh(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.Fc.emitRecordingContextChange()},t.prototype.onCollectStateChange=function(t,n){if(t===Cr.QUOTA_REACHED||t===Cr.ANALYTICS_ONLY&&n===Ir.ETR_OFF)this.recordingService.clearEvents(),this.Qh();else{this.Vr.setQueryParams({rt:csArray.prototype.join.call(this.et.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents();var i=t===Cr.ANALYTICS_ONLY&&n===Ir.ETR_ON;this.Wh.handleCollectStateChange(i)}},t.prototype.onInitialDomStart=function(){this.recordingService.blockSendingEventsFromSerialization(),this.zr.blockSendingLastMessage()},t.prototype.onInitialDomDone=function(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.zr.allowSendingLastMessage(),this.Gh.start(),this.recordingService.pushEvents()},t.prototype.onAfterReplayRecordingConsentGranted=function(){this.et.isReplayRecorded()&&!this.Uh.isUrlExcludedForSessionReplay()&&(this.et.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.$h(),this.recordingService.triggerRecordingForSessionGranted())},t.prototype.onAfterReplayRecordingConsentWithdrawn=function(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.Qh())},t.prototype.Xh=function(){var t,n,i,r;(null===(n=null===(t=this.V.experimental.sessionReplay)||void 0===t?void 0:t.shadowRoot)||void 0===n?void 0:n.filterByHostSelector)&&Ei(null===(r=null===(i=this.V.experimental.sessionReplay)||void 0===i?void 0:i.shadowRoot)||void 0===r?void 0:r.filterByHostSelector,(function(t){wr(t)&&Ne.setShadowRootFilter((function(n){try{return nt.call(n.host,t)}catch(t){return!1}}))}))},t.prototype.$h=function(){this.recordingService.start(),this.zr.start(),this.Fc.emitRecordingContextChange()},t.prototype.Qh=function(){var t;void 0===t&&(t=!1),t&&(fr=1),lr=csSymbol("nodeIdentifier"),this.recordingService.stop(),this.zr.stop(),this.Fc.emitRecordingContextChange()},t.prototype.Kh=function(){this.Qh(),this.$h()},t.prototype.Vh=function(t){this.Vr=this.jh.create("".concat(this.V.getRecordingUri(),"/").concat(Yo),!0,"byteArray",t,["rt","v","pid","pn","sn","uu"])},t.prototype.Bh=function(){var t,n=this.qh.shouldUseAnonymization();this.Fh.setAnonymization(n),null===(t=this.Jh)||void 0===t||t.setAnonymization(n)},mt([ai("Recording.onStartTracking")],t.prototype,"onStartTracking",null),mt([ai("onInitialDomDone")],t.prototype,"onInitialDomDone",null),t}();!function(t){t[t.NOT_NEEDED=1]="NOT_NEEDED",t[t.NOT_EXPRESSED=2]="NOT_EXPRESSED",t[t.WITHDRAWN=3]="WITHDRAWN",t[t.GRANTED=4]="GRANTED"}(Vo||(Vo={})),function(t){t.isReplayConsentNeeded=function(t){return t.replayConsentRequiredForSession},t.isRecordingBlockedByConsent=function(t){return t.collectState===Cr.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||t.collectState===Cr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},t.isRecordingWithDrawn=function(t){return t.collectState===Cr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}(zo||(zo={}));var Qo=function(){function t(t,n,i,r){this.it=t,this.et=n,this.V=i,this.Zh=r,this.ta=!1}return t.prototype.isNaturalPageViewSent=function(){return this.ta},t.prototype.setNaturalPageViewSent=function(t){this.ta=t},t.prototype.getTrackingContext=function(){var t=this.et.getSession();if(!t)return null;var n=this.getSessionKey();if(!n)return null;var i=this.V.projectId,r=this.V.uxaDomain,e=t.pageNumber,s=this.Zh.getPageViewType(),o=this.et.isReplayRecorded(),u=this.na(t);return wt({projectId:i,sessionKey:n,pageNumber:e,pageViewType:s,isRecording:o,uxaDomain:r,recordingConsentState:u},this.V.smbConfig)},t.prototype.getSessionKey=function(){var t=this.it.getVisitor();return t?"".concat(t.id,".").concat(t.visitsCount):null},t.prototype.na=function(t){return zo.isReplayConsentNeeded(this.V)?t.collectState===Cr.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Vo.NOT_EXPRESSED:t.collectState===Cr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Vo.WITHDRAWN:Vo.GRANTED:Vo.NOT_NEEDED},t}(),Zo=function(){function t(t){this.ia=t,this.ra=[]}return t.prototype.handleCommand=function(t){if(C(t)&&(this.ea(t),this.ia.isNaturalPageViewSent())){var n=this.ia.getTrackingContext();null!==n&&this.sa(t,n)}},t.prototype.ea=function(t){csArray.prototype.push.call(this.ra,t)},t.prototype.executeRegisteredCallbacks=function(){var t=this,n=this.ia.getTrackingContext();null!==n&&csArray.prototype.map.call(this.ra,(function(i){return t.sa(i,n)}))},t.prototype.sa=function(t,n){csSetTimeout((function(){t(n)}))},t}(),tu=function(){function t(t){this.ia=t,this.oa=[]}return t.prototype.handleCommand=function(t){return this.ia.isNaturalPageViewSent()?this.ua(t):void this.ca(t)},t.prototype.ua=function(t){var n=this.ia.getSessionKey();return this.ha(t)&&null!==n&&this.sa(t.callback,n),n},t.prototype.ca=function(t){this.ha(t)&&csArray.prototype.push.call(this.oa,t.callback)},t.prototype.flushPendingCallbacks=function(){var t=this,n=this.ia.getSessionKey();null!==n&&csArray.prototype.forEach.call(this.oa,(function(i){t.sa(i,n)})),this.oa=[]},t.prototype.ha=function(t){return t&&"function"==typeof t.callback},t.prototype.sa=function(t,n){csSetTimeout((function(){t(n)}))},t}(),nu=function(){function t(t,n){this.aa=t,this.ia=n}return t.prototype.onTrackingContextRequestCallback=function(t){var n=this.ia.getTrackingContext();null!==n&&this.aa.sendToChildren(Nn.TrackingContextResultMessage,wt(wt({},t),{trackingContext:n}))},t.prototype.onIframeIntegrationCallback=function(t){if(this.ia.isNaturalPageViewSent()){var n=this.ia.getTrackingContext();null!==n&&(t.trackingContext=n,this.aa.sendToChildren(Nn.IntegrationCallback,t))}},t.prototype.sendAfterPageViewCallbackToChildren=function(){var t=this.ia.getTrackingContext();if(null!==t){var n={trackingContext:t,initiator:On.AfterPageView};this.aa.sendToChildren(Nn.IntegrationCallback,n)}},t}();var iu,ru,eu=function(){function t(t){this.ia=t}return t.prototype.handleCommand=function(t,n){T(t)&&C(n)&&this.sa(t,n)},t.prototype.sa=function(t,n){var i=this;csSetTimeout((function(){var r=i.ia.getTrackingContext();if(r){var e=function(t,n){var i,r=t.isRecording,e=t.pageNumber,s=t.projectId,o=t.siteId,u=t.uxaDomain,c=t.csLiteDomain,h=/^(.+)\.(\d+)$/.exec(t.sessionKey);if(r&&h){var a=Et(h,3),f=a[1],l=a[2];i=o?"".concat(c,"/sites/").concat(o,"/player?uu=").concat(f,"&sn=").concat(l,"&pn=").concat(e):"".concat(u,"/quick-playback/index.html?pid=").concat(s,"&uu=").concat(f,"&sn=").concat(l,"&pvid=").concat(e,"&recordingType=cs"),n.withTimestamp&&(i+="&t=".concat(en()-n.recordingStartTimestamp))}return{replayLink:i,isRecording:r}}(r,t);n(e)}}))},t}(),su=function(){function t(){this.ra=new Set}return t.prototype.handleCommand=function(t,n){var i=this;return C(t)?this.ra.has(t)?null:(this.ra.add(t),n&&(this.Ws=n,this.fa(t,n)),function(){return i.ra.delete(t)}):null},t.prototype.executeCallbacks=function(t){var n=this;this.va(t)&&(this.Ws=t,this.ra.forEach((function(i){return n.fa(i,t)})))},t.prototype.fa=function(t,n){csSetTimeout((function(){try{t(n)}catch(t){}}))},t.prototype.va=function(t){var n=t.isRecording,i=t.recordingStartTimestamp,r=t.etrState,e=t.etrStatus,s=t.collectState;return this.Ws&&(this.Ws.isRecording!==n||this.Ws.recordingStartTimestamp!==i||this.Ws.etrState!==r||this.Ws.etrStatus!==e||this.Ws.collectState!==s)},t}(),ou=["afterPageView"],uu=["getSessionKey"],cu=["onRecordingContextChange","onRecordingStateChange"],hu=["replay:link:generate"],au=function(){function t(t,n,i,r,e,s,o,u){this.it=t,this.et=n,this.xh=i,this.da=r,this.aa=e,this.V=s,this.Zh=o,this.Mh=u}return t.prototype.init=function(){var t=this;this.ia=new Qo(this.it,this.et,this.V,this.Zh),this.ya=new Zo(this.ia),this.wa=new tu(this.ia),this.pa=new su,this.ma=new eu(this.ia),this.ga=new nu(this.aa,this.ia),this.da.addListener(this.ga),this.xh.register(uu,(function(n){return t.wa.handleCommand(n)})),this.xh.register(ou,(function(n){return t.ya.handleCommand(n)})),this.xh.register(cu,(function(n){t.pa.handleCommand(n,t.Mh.getRecordingContext())})),this.xh.register(hu,(function(n,i){t.Sa&&t.ma.handleCommand(wt(wt({},n),{recordingStartTimestamp:t.Mh.getRecordingContext().recordingStartTimestamp}),i)}))},t.prototype.onAfterNaturalPageView=function(){this.ia.setNaturalPageViewSent(!0),this.wa.flushPendingCallbacks(),this.ya.executeRegisteredCallbacks(),this.ga.sendAfterPageViewCallbackToChildren()},t.prototype.onAfterArtificialPageView=function(){this.ya.executeRegisteredCallbacks(),this.ga.sendAfterPageViewCallbackToChildren()},t.prototype.onCollectStateChange=function(){this.executeRecordingContextChangeCallbacks()},t.prototype.onRecordingContextChange=function(){this.executeRecordingContextChangeCallbacks()},t.prototype.executeRecordingContextChangeCallbacks=function(){this.pa.executeCallbacks(this.Mh.getRecordingContext())},t.prototype.setRecordingService=function(t){this.Sa=t},mt([Bo()],t.prototype,"executeRecordingContextChangeCallbacks",null),t}(),fu=function(){function t(t,n){this.key=csString.prototype.slice.call(t,0,512),this.value=R(n)?csString.prototype.slice.call(n,0,255):n}return t.isKeyValid=function(t){return R(t)},t.isValueValid=function(t){return R(t)||A(t)},t}(),lu=function(t){function n(n,i){var r=t.call(this)||this;return r.ba=n,r.G=i,r.Ea=[],r}return yt(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Ea,(function(n){return t.trackDynamicVariable(n.key,n.value)})),this.Ea=[]},n.prototype.onStop=function(){},n.prototype.trackDynamicVariable=function(t,n){if(this.isStarted){if(fu.isKeyValid(t)&&fu.isValueValid(n)){var i=this.G.anonymizePII(t),r=A(n)?n:this.G.anonymizePII(n),e=this.G.checkAndAnonymizePII(t),s=this.G.checkAndAnonymizePII(csString(n));i!==e&&zn.implementation("[PII] Dynamic variable name may contain CC: ".concat(e)),csString(r)!==s&&zn.implementation("[PII] Dynamic variable value may contain CC: ".concat(s)),this.ba.add(new fu(i,r))}}else csArray.prototype.push.call(this.Ea,{key:t,value:n})},n}(Ar),vu=function(){function t(t){this.Aa=t,this.ba=[]}return t.prototype.add=function(t){csArray.prototype.push.call(this.ba,t),this.setBatchReadyCall()},t.prototype.clear=function(){this.ba=[]},t.prototype.onBatchReady=function(t){this.Ra=t},t.prototype.getRequestParameters=function(){var t,n,i={};try{for(var r=bt(this.ba),e=r.next();!e.done;e=r.next()){var s=e.value;i[s.key]=s.value}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{dv:this.Aa.compressSync(csJSON.stringify(i),"base64"),ct:this.Aa.algorithm}},t.prototype.setBatchReadyCall=function(){this.Ra()},mt([Bo(),Gn("dynamicVariablesBatchReady")],t.prototype,"setBatchReadyCall",null),t}(),du=["trackDynamicVariable"],yu=function(){function t(t,n,i,r,e,s){this.xh=t,this.et=n,this.V=i,this.mh=r,this.Aa=e,this.G=s,this._=new jt(this.V.getTrackerUri(),"dvar"),this.ba=new vu(this.Aa),this.Oa=new lu(this.ba,this.G)}return t.prototype.init=function(){var t=this;this._.setRequestParametersProviders(this.mh,this.ba),this.et.setDynamicVariablesService(this.Oa),this.ba.onBatchReady((function(){return t._.send()})),this._.after((function(){return t.ba.clear()})),this.xh.register(du,(function(n){var i=void 0===n?{}:n,r=i.key,e=i.value;t.Oa.trackDynamicVariable(r,e)}))},t.prototype.onStartTracking=function(){this.Oa.start()},t}(),wu=function(){function t(t,n){this.id=t,this.revenue=n}return t.from=function(n){var i=new t(n.id,parseFloat(n.revenue));return isNaN(parseFloat(n.tax))||(i.tax=parseFloat(n.tax)),isNaN(parseFloat(n.shipping))||(i.shipping=parseFloat(n.shipping)),R(n.currency)&&n.currency.length<=10&&(i.currency=n.currency),i},t.prototype.hasValidRevenue=function(){return!isNaN(this.revenue)&&this.revenue>=0},t.isValid=function(t){return k(t)&&E(t.revenue)&&R(t.currency)&&t.currency.length<=10&&(!k(t.id)||R(t.id))},t}(),pu=function(){function t(t,n,i,r){this.id=t,this.name=n,this.price=i,this.quantity=r}return t.from=function(n){if(!t.Ta(n))return null;var i=new t(n.id,n.name,parseFloat(n.price),parseInt(n.quantity,10));return N(n.sku)&&(i.sku=n.sku),N(n.category)&&(i.category=n.category),N(n.merchant)&&n.merchant.length>0&&(i.merchant=n.merchant.slice(0,100)),i},t.Ta=function(t){return k(t)&&R(t.id)&&R(t.name)&&E(parseFloat(t.price))&&A(parseInt(t.quantity,10))&&(!N(t.sku)||R(t.sku))&&(!N(t.category)||R(t.category))&&(!N(t.merchant)||R(t.merchant))},t}(),mu=function(t){function n(n,i,r){var e=t.call(this)||this;return e.G=n,e.Na=i,e.jr=r,e.ka=[],e.clear(),e}return yt(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.ka,(function(n){t.Ca=n.transaction,t.Ia=n.transactionItems,t.sendTransaction()})),this.ka=[]},n.prototype.onStop=function(){},n.prototype.addTransaction=function(t){var n=this.G.anonymizeFields(t,["id"]);this.Ca=wu.from(n)},n.prototype.getTransaction=function(){return this.Ca},n.prototype.sendTransaction=function(){if(!this.isStarted)return csArray.prototype.push.call(this.ka,{transaction:this.Ca,transactionItems:At([],Et(this.Ia),!1)}),void this.clear();null!==this.Na&&null!==this.jr&&(this.jr.refreshSession(),this.jr.isSessionValid()&&(this.Ca.hasValidRevenue()?this.Na.send():Pn.warn("Transaction Service: unable to send transaction with invalid parameters")))},n.prototype.addItem=function(t){if(!C(t)){var n=this.G.anonymizeFields(t,["id","name","sku","category"]),i=pu.from(n);null!==i&&csArray.prototype.push.call(this.Ia,i)}},n.prototype.getItems=function(){return this.Ia},n.prototype.clear=function(){this.Ca=wu.from({revenue:NaN}),this.Ia=[]},n.prototype.getRequestParameters=function(){var t={id:this.Ca.id?"".concat(this.Ca.id):"",revenue:"".concat(this.Ca.revenue)};return N(this.Ca.tax)&&(t.tax="".concat(this.Ca.tax)),N(this.Ca.shipping)&&(t.shipping="".concat(this.Ca.shipping)),N(this.Ca.currency)&&(t.cu="".concat(this.Ca.currency)),t.items=window.csJSON.stringify(this.Ia),t},n}(Ar),gu=function(t){function n(n,i){var r=t.call(this)||this;return r.Ma=n,r.jr=i,r.xa=null,r.Pa=[],r}return yt(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Pa,(function(n){t.xa=n,t._a()})),this.Pa=[]},n.prototype.onStop=function(){},n.prototype.addToCart=function(t){var n={};R(t.sku)&&(n.sku=csString.prototype.slice.call(t.sku,0,100)),R(t.merchant)&&(n.merchant=csString.prototype.slice.call(t.merchant,0,100)),(n.sku||n.merchant)&&(this.xa=n,this._a())},n.prototype.getCartItem=function(){return this.xa},n.prototype._a=function(){if(!this.isStarted&&null!==this.xa)return csArray.prototype.push.call(this.Pa,this.xa),void this.clear();this.jr.refreshSession(),this.jr.isSessionValid()&&this.Ma.send()},n.prototype.clear=function(){this.xa=null},n.prototype.getRequestParameters=function(){if(!this.xa)return{};var t={};return R(this.xa.sku)&&this.xa.sku.length>0&&(t.sku=this.xa.sku),R(this.xa.merchant)&&this.xa.merchant.length>0&&(t.me=this.xa.merchant),t},n}(Ar),Su=["ecommerce:addToCart","ec:cart:add"],bu=["ecommerce:addTransaction","ec:transaction:create"],Eu=["ecommerce:addItem","ec:transaction:items:add"],Au=["ecommerce:send","ec:transaction:send"],Ru=function(){function t(t,n,i,r,e,s,o){this.V=t,this.fh=n,this.it=i,this.xh=r,this.G=e,this.jr=s,this.vt=o}return t.prototype.init=function(){var t=this,n=new jt(this.V.getTrackerUri(),"transaction"),i=new jt(this.V.getTrackerUri(),"addtocart");this.Da=new mu(this.G,n,this.jr),this.La=new gu(i,this.jr);var r=new cs(this.fh,this.it,this.vt,this.Da);n.setRequestParametersProviders(r),n.after((function(){t.Da.clear()}));var e=new cs(this.fh,this.it,this.vt,this.La);i.setRequestParametersProviders(e),i.after((function(){t.La.clear()})),this.xh.register(bu,(function(n){t.Da.addTransaction(n)})),this.xh.register(Eu,(function(n){return t.Da.addItem(n)})),this.xh.register(Au,(function(){return t.Da.sendTransaction()})),this.xh.register(Su,(function(n){t.La.addToCart(n)}))},t.prototype.onStartTracking=function(){this.Da.start(),this.La.start()},t}(),Ou=function(){function t(t){this.Ua=t.performance}return t.prototype.getRequestParameters=function(){if(this.ja())return{};var t=this.qa();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}},t.prototype.qa=function(){var t=this.Ua.timing;return{startRender:"".concat(t.domLoading-t.requestStart),domInteractive:"".concat(t.domInteractive-t.requestStart),domComplete:"".concat(t.domComplete-t.requestStart),fullyLoaded:"".concat(t.loadEventEnd-t.requestStart)}},t.prototype.ja=function(){return!(this.Ua&&this.Ua.timing&&this.Ua.timing.loadEventEnd>0)},t}();function Tu(t){return void 0!==t.tgt}!function(t){t[t.RESIZE=0]="RESIZE",t[t.SCROLL=1]="SCROLL",t[t.MOUSEMOVE=2]="MOUSEMOVE",t[t.MOUSEDOWN=3]="MOUSEDOWN",t[t.MOUSEUP=4]="MOUSEUP",t[t.CLICK=5]="CLICK",t[t.MOUSEOVER=6]="MOUSEOVER",t[t.MOUSEOUT=7]="MOUSEOUT",t[t.CHANGE=10]="CHANGE",t[t.FOCUSIN=11]="FOCUSIN",t[t.FOCUSOUT=12]="FOCUSOUT",t[t.TAP=14]="TAP",t[t.KEYDOWN=15]="KEYDOWN",t[t.KEYUP=16]="KEYUP",t[t.COMMAND=17]="COMMAND",t[t.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",t[t.PERFORMANCE=19]="PERFORMANCE",t[t.DRAG=20]="DRAG",t[t.FLICK=21]="FLICK",t[t.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",t[t.ZOOM=23]="ZOOM",t[t.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",t[t.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",t[t.DEAD_CLICK=30]="DEAD_CLICK",t[t.DEAD_ZOOM=31]="DEAD_ZOOM",t[t.PAGE_RELOAD=32]="PAGE_RELOAD",t[t.THRASHED_CURSOR=33]="THRASHED_CURSOR",t[t.BLANK_PAGE=34]="BLANK_PAGE",t[t.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",t[t.SUBMIT=36]="SUBMIT"}(iu||(iu={})),function(t){t.SUCCESS="success",t.FAILURE="failure",t.ATTEMPT="attempt"}(ru||(ru={}));var Nu,ku,Cu,Iu,Mu,xu,Pu=function(){function t(){}return t.build=function(t,n,i){return csArray.prototype.reduce.call(i,(function(n,i){return i.enhanceAnalysisEvent(t,n)}),n)},t}(),_u=function(){function t(t,n,i){this.Ha=t,this.Fa=n,this.Ro=i}return t.prototype.processGesture=function(t,n){switch(t.type){case eo.TAP:this.Ba(n);break;case eo.FLICK:this.Va(t,n);break;case eo.DRAG:this.za(t,n)}},t.prototype.Ba=function(t){var n={type:iu.TAP,ts:0,x:0,y:0,tgt:""},i=Pu.build(t,n,this.Ha);i.tgt!==ft.INVALID_ELEMENT&&this.Je(i)},t.prototype.za=function(t,n){var i,r,e={type:iu.DRAG,ts:0,fd:t.direction,tgt:""};(null===(i=this.Ro)||void 0===i?void 0:i.collectGestureDistance)&&(e.distance=t.distance),(null===(r=this.Ro)||void 0===r?void 0:r.collectGestureVelocity)&&(e.velocity=t.velocity);var s=Pu.build(n,e,this.Ha);s.tgt!==ft.INVALID_ELEMENT&&this.Je(s)},t.prototype.Va=function(t,n){var i,r,e={type:iu.FLICK,ts:0,fd:t.direction,tgt:""};(null===(i=this.Ro)||void 0===i?void 0:i.collectGestureDistance)&&(e.distance=t.distance),(null===(r=this.Ro)||void 0===r?void 0:r.collectGestureVelocity)&&(e.velocity=t.velocity);var s=Pu.build(n,e,this.Ha);s.tgt!==ft.INVALID_ELEMENT&&this.Je(s)},t.prototype.onEvent=function(t){this.Je=t},t.prototype.start=function(){var n=this;this.Fa.subscribe(t.Ga,(function(t,i){return n.processGesture(t,i)}))},t.prototype.stop=function(){this.Fa.unsubscribe(t.Ga)},t.Ga="AnalysisGestureTracker",mt([Wn()],t.prototype,"processGesture",null),t}(),Du=function(){function t(t,n,i,r){void 0===r&&(r=["submit"]);var e=this;this.Ha=t,this.Ja=n,this.Ya=i,this.Wa=r,this.Xa="select, select *, input, textarea",this.$a="select, select *, input, textarea",this.Ka="a, a *, button, button *, select, select *, input, textarea",this.Qa="input, select, textarea",this.Za="form",this.tf=150,this.nf=400,this.if=!1,this.rf=Fo((function(t,n){return e.scrollListener(t,n)}),this.tf),this.ef=Fo((function(t){return e.resizeListener(t)}),this.tf),this.sf=Ki((function(t){return e.mouseMoveListener(t)}),this.nf),this.uf=[{boundElement:window,type:"resize",listener:function(){return e.ef()}},{boundElement:document,type:"scroll",listener:function(t){return e.rf(t)}},{boundElement:window,type:"mousemove",listener:function(t){e.sf(function(t){return t.composedPath&&Object.defineProperty(t,"__csOriginalTarget",{value:t.composedPath()[0],writable:!1,enumerable:!1}),t}(t))}},{boundElement:document,type:"mousedown",listener:function(t){return e.mouseDownListener(t)}},{boundElement:document,type:"mouseup",listener:function(t){return e.mouseUpListener(t)}},{boundElement:document,type:"click",listener:function(t){return e.clickListener(t)}}],this.cf=[{type:"change",listener:this.Ya.on(this.$a,(function(t){return e.changeListener(t)}))},{type:"submit",listener:this.Ya.on(this.Za,(function(t){return e.submitListener(t)}))}],this.hf=At([{boundElement:document,type:"mouseover",listener:this.Ya.on(this.Ka,(function(t){return e.mouseOverListener(t)}))},{boundElement:document,type:"mouseout",listener:this.Ya.on(this.Ka,(function(t){return e.mouseOutListener(t)}))},{boundElement:document,type:"focusin",listener:this.Ya.on(this.Xa,(function(t){return e.focusInListener(t)}))},{boundElement:document,type:"focusout",listener:this.Ya.on(this.Xa,(function(t){return e.focusOutListener(t)}))},{boundElement:document,type:"keyup",listener:this.Ya.on(this.Qa,(function(t){return e.keyUpListener(t)}))},{boundElement:document,type:"keydown",listener:this.Ya.on(this.Qa,(function(t){return e.keyDownListener(t)}))},{boundElement:document,type:"copy",listener:this.Ya.on(this.Qa,(function(t){return e.copyListener(t)}))},{boundElement:document,type:"cut",listener:this.Ya.on(this.Qa,(function(t){return e.cutListener(t)}))},{boundElement:document,type:"paste",listener:this.Ya.on(this.Qa,(function(t){return e.pasteListener(t)}))}],Et(csArray.prototype.map.call(this.cf,(function(t){return wt(wt({},t),{boundElement:document})}))),!1),this.Xn={},this.gi=function(t,n){switch(n){case"initial":case"added":e.jn(t);break;case"removed":e.qn(t)}},this.Un=new Ji(this.gi),this.Bn()}return t.prototype.jn=function(t){if(G(t)){var n=this.af();csArray.prototype.forEach.call(n,(function(t){return Wi(t)}))}else{n=this.ff();csArray.prototype.forEach.call(n,(function(n){Wi(wt(wt({},n),{boundElement:t}))}))}},t.prototype.qn=function(t){if(G(t)){var n=this.af();csArray.prototype.forEach.call(n,(function(t){return Xi(t)}))}else{n=this.ff();csArray.prototype.forEach.call(n,(function(n){Xi(wt(wt({},n),{boundElement:t}))}))}},t.prototype.onEvent=function(t){this.Je=t},t.prototype.start=function(){this.Un.observe(),this.jn(document),this.resizeListener()},t.prototype.stop=function(){this.qn(document),this.Un.disconnect()},t.prototype.flushPendingDebouncedListeners=function(){this.rf.flushPending(),this.ef.flushPending()},t.prototype.lf=function(t){return csArray.prototype.some.call(this.Wa,(function(n){return n===t}))},t.prototype.ff=function(){var t=this;return this.Ya.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.cf,(function(n){return!t.lf(n.type)})):(Pn.warn("Element.matches is not implemented yet"),[])},t.prototype.af=function(){var t,n,i=this,r=[];return(t=csArray.prototype.push).call.apply(t,At([r],Et(this.uf),!1)),this.Ya.isMatchesSelectorSupported()?(n=csArray.prototype.push).call.apply(n,At([r],Et(this.hf),!1)):Pn.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(r,(function(t){return!i.lf(t.type)}))},t.prototype.resizeListener=function(t){var n=sr.getScrollContainer(),i=I(n);i&&(this.if=!0);var r={type:iu.RESIZE,ts:0,x:i?n.clientWidth:he.windowWidth(),y:i?n.clientHeight:he.windowHeight()};void 0!==t&&(r.d=t),this.Je(r)},t.prototype.scrollListener=function(t,n){var i=sr.isEventOnScrollContainer(n);!this.if&&i&&this.resizeListener();var r={type:iu.SCROLL,ts:0,x:i?csEventtarget.apply(n).scrollLeft:he.windowOffsetX(),y:i?csEventtarget.apply(n).scrollTop:he.windowOffsetY(),d:t},e=Pu.build(n,r,this.Ha);this.Je(e)},t.prototype.mouseMoveListener=function(t){var n={type:iu.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=Pu.build(t,n,this.Ha);this.Je(i)},t.prototype.mouseDownListener=function(t){var n={type:iu.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.mouseUpListener=function(t){var n={type:iu.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.clickListener=function(t){var n={type:iu.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.mouseOverListener=function(t){var n={type:iu.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.mouseOutListener=function(t){var n={type:iu.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.Ja.getEventTargetPath(t)},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.focusInListener=function(t){var n={type:iu.FOCUSIN,ts:0,tgt:this.Ja.getEventTargetPath(t)},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.focusOutListener=function(t){var n={type:iu.FOCUSOUT,ts:0,tgt:this.Ja.getEventTargetPath(t)},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.changeListener=function(t){var n={type:iu.CHANGE,ts:0,tgt:this.Ja.getEventTargetPath(t)},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.submitListener=function(t){var n={type:iu.SUBMIT,ts:0,tgt:""},i=Pu.build(t,n,this.Ha);this.vf(i)},t.prototype.copyListener=function(t){var n={type:iu.COMMAND,ts:0,tgt:this.Ja.getEventTargetPath(t),key:ir.COPY};this.vf(n)},t.prototype.cutListener=function(t){var n={type:iu.COMMAND,ts:0,tgt:this.Ja.getEventTargetPath(t),key:ir.CUT};this.vf(n)},t.prototype.pasteListener=function(t){var n={type:iu.COMMAND,ts:0,tgt:this.Ja.getEventTargetPath(t),key:ir.PASTE};this.vf(n)},t.prototype.keyUpListener=function(t){var n={type:iu.KEYUP,ts:0,tgt:this.Ja.getEventTargetPath(t),key:this.df(t)};this.vf(n)},t.prototype.keyDownListener=function(t){var n={type:iu.KEYDOWN,ts:0,tgt:this.Ja.getEventTargetPath(t),key:this.df(t)};this.vf(n)},t.prototype.df=function(t){var n=this.Xn[t.key];return void 0===n?nr.ALPHANUMERICAL:n},t.prototype.vf=function(t){Tu(t)&&t.tgt!==ft.INVALID_ELEMENT&&this.Je(t)},t.prototype.Bn=function(){this.Xn[" "]=nr.SPACE,this.Xn.Spacebar=nr.SPACE,this.Xn.Enter=nr.ENTER,this.Xn.Backspace=nr.BACKSPACE,this.Xn.Delete=nr.DELETE,this.Xn.ArrowUp=nr.ARROWUP,this.Xn.ArrowDown=nr.ARROWDOWN,this.Xn.ArrowLeft=nr.ARROWLEFT,this.Xn.ArrowRight=nr.ARROWRIGHT,this.Xn.Up=nr.ARROWUP,this.Xn.Down=nr.ARROWDOWN,this.Xn.Left=nr.ARROWLEFT,this.Xn.Right=nr.ARROWRIGHT,this.Xn.CapsLock=nr.CAPSLOCK,this.Xn.Shift=nr.SHIFT,this.Xn.Tab=nr.TAB},mt([Gn("Event handler type: resize")],t.prototype,"resizeListener",null),mt([Gn("Event handler type: scroll")],t.prototype,"scrollListener",null),mt([Gn("Event handler type: mouseMove"),Wn()],t.prototype,"mouseMoveListener",null),mt([Gn("Event handler type: mouseDown"),Wn()],t.prototype,"mouseDownListener",null),mt([Gn("Event handler type: mouseUp"),Wn()],t.prototype,"mouseUpListener",null),mt([Gn("Event handler type: click"),Wn()],t.prototype,"clickListener",null),mt([Gn("Event handler type: mouseOver"),Wn()],t.prototype,"mouseOverListener",null),mt([Gn("Event handler type: mouseOut"),Wn()],t.prototype,"mouseOutListener",null),mt([Gn("Event handler type: focusIn")],t.prototype,"focusInListener",null),mt([Gn("Event handler type: focusOut")],t.prototype,"focusOutListener",null),mt([Gn("Event handler type: change")],t.prototype,"changeListener",null),mt([Gn("Event handler type: submit"),Wn()],t.prototype,"submitListener",null),mt([Gn("Event handler type: copy")],t.prototype,"copyListener",null),mt([Gn("Event handler type: cut")],t.prototype,"cutListener",null),mt([Gn("Event handler type: paste")],t.prototype,"pasteListener",null),mt([Gn("Event handler type: keyup")],t.prototype,"keyUpListener",null),mt([Gn("Event handler type: keydown")],t.prototype,"keyDownListener",null),t}(),Lu=function(){function t(){var t=this;this.yf=100,this.wf=0,this.pf=he.documentHeight(),this.mf={boundElement:document,type:"scroll",listener:function(n){return t.maxScrollRateListener(n)}},this.wf=this.gf(sr.getScrollContainer()).maxScrollRate}return t.prototype.onEvent=function(t){this.Je=t},t.prototype.start=function(){Wi(this.mf)},t.prototype.stop=function(){Xi(this.mf)},t.prototype.reset=function(){var t=sr.getScrollContainer(),n=this.gf(t),i=n.maxScrollRate,r=n.maxDocumentHeight;this.pf=r,this.wf=i,this.Je()},t.prototype.gf=function(t){var n=0,i=0;if(null===t)i=he.documentHeight(),n=this.Sf(i);else{var r=this.bf(t);i=this.Ef(t,r),n=this.Af(t,r)}return{maxScrollRate:n,maxDocumentHeight:i}},t.prototype.maxScrollRateListener=function(t){var n=null;sr.isEventOnScrollContainer(t)&&(n=csEventtarget.apply(t));var i=this.gf(n),r=i.maxScrollRate,e=i.maxDocumentHeight;(r>this.wf||e>this.pf)&&(this.wf=r,e>this.pf&&(this.pf=e),this.Je())},t.prototype.Sf=function(t){var n=Math.round(this.Rf()/t*100);return Math.min(n,this.yf)},t.prototype.Rf=function(){var t=he.windowHeight();return he.windowOffsetY()+t},t.prototype.Af=function(t,n){var i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+n,r=this.Ef(t,n),e=Math.round(i/r*100);return Math.min(e,this.yf)},t.prototype.bf=function(t){var n=window.getComputedStyle(t).paddingTop||"0px";return parseInt(n,10)},t.prototype.Ef=function(t,n){return t.scrollHeight+t.getBoundingClientRect().top+n},t.prototype.getRequestParameters=function(){return{sr:"".concat(this.wf),mdh:"".concat(this.pf)}},mt([Gn("MaxScrollRate handler")],t.prototype,"maxScrollRateListener",null),t}(),Uu=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S){this.V=t,this.Of=n,this.Fa=i,this.Tf=r,this.Nf=e,this.kf=s,this.Cf=o,this.If=u,this.jr=c,this.un=h,this.Mf=a,this.xf=f,this.he=l,this.Vr=v,this.Pf=d,this._f=y,this.Df=w,this.Lf=p,this.Uf=m,this.jf=g,this.qf=S,this.te=new Er,this.Hf=!1}return t.prototype.init=function(){var t,n,i,r,e,s,o,u=this;this.Of.onEvent((function(t){return u.oe(t)})),this.Fa.onEvent((function(t){return u.oe(t)})),this.Tf.onEvent((function(){var t=u.Tf.getRequestParameters();u.Vr.setQueryParams(t),u.Cf.setQueryParams(t)})),this.xf.onEvent((function(t){return u.Ff(t)})),this.Bf(),null===(t=this.Pf)||void 0===t||t.onEvent((function(t){return u.oe(t)})),null===(n=this.Uf)||void 0===n||n.onEvent((function(t){return u.oe(t)})),null===(i=this._f)||void 0===i||i.onEvent((function(t){return u.oe(t)})),null===(r=this.Df)||void 0===r||r.onEvent((function(t){return u.oe(t)})),this.Vf(),null===(e=this.Lf)||void 0===e||e.onEvent((function(t){return u.Ff(t)})),null===(s=this.jf)||void 0===s||s.onEvent((function(t){return u.Ff(t)})),null===(o=this.qf)||void 0===o||o.onEvent((function(t){return u.Ff(t)}))},t.prototype.Vf=function(){var t=this;this.Cf.onBeaconSuccess((function(){t.kf.clearEvents()})),this.Cf.onBeaconFailure((function(n){t.zf(n)}))},t.prototype.initStates=function(){var t=this.If.getRequestParameters(),n=this.Nf.getRequestParameters(),i=this.Tf.getRequestParameters();this.Vr.setQueryParams(t),this.Vr.setQueryParams(n),this.Vr.setQueryParams(i),this.Cf.setQueryParams(t),this.Cf.setQueryParams(n),this.Cf.setQueryParams(i),this.Gf()},t.prototype.clearStates=function(t){var n,i;this.Of.flushPendingDebouncedListeners(),null===(n=this._f)||void 0===n||n.flushPendingKeyboardNavigationEvent(),null===(i=this.Df)||void 0===i||i.flushPendingTextHighlightEvent(),t?(this.Jf(),this.sendLastMessageBeacon()):this.sendEvents(),this.Tf.reset(),this.Vr.removeQueryParams()},t.prototype.start=function(t){var n,i,r,e,s,o,u;t||null===(n=this.Lf)||void 0===n||n.start(),this.he.start(),this.Of.start(),this.Tf.start(),this.Fa.start(),null===(i=this.Pf)||void 0===i||i.start(),null===(r=this.Df)||void 0===r||r.start(),t||this.xf.start(),null===(e=this._f)||void 0===e||e.start(),null===(s=this.Uf)||void 0===s||s.start(),null===(o=this.jf)||void 0===o||o.start(),null===(u=this.qf)||void 0===u||u.start()},t.prototype.collectInitialEvents=function(){var t;null===(t=this.Pf)||void 0===t||t.collectInitialEvents()},t.prototype.onIframeAnalysisBrowserEvent=function(t){this.Ff(t)},t.prototype.onIframeAnalysisUserEvent=function(t){this.oe(t)},t.prototype.onExternalEvent=function(t){this.we(t)},t.prototype.Ff=function(t){this.jr.isCurrentPageviewValid()&&this.we(t)},t.prototype.oe=function(t){this.jr.refreshSession(),this.jr.isSessionValid()&&this.we(t)},t.prototype.we=function(t){this.kf.addEvent(this.Yf(t)),this.kf.isFull()&&this.sendEvents(),this.V.emitDebugEvents&&this.te.emit("analysisEvent",wt(wt({},t),{typeName:iu[t.type]}))},t.prototype.Yf=function(t){return t.ts=this.Wf(),t},t.prototype.Jf=function(){this.Cf.setQueryParams({hlm:"true"}),this.Hf=!0},t.prototype.sendLastMessageBeacon=function(){this.Cf.setQueryParams(this.Nf.getRequestParameters()),this.Cf.send(this.kf.stringifyEvents()),this.Cf.removeQueryParams(["hlm"]),this.Hf=!1},t.prototype.sendEvents=function(){this.kf.isEmpty()||(this.Vr.setQueryParams(this.If.getRequestParameters()),this.Vr.setQueryParams(this.Nf.getRequestParameters()),this.Vr.send(this.kf.getEvents()),this.kf.clearEvents())},t.prototype.stop=function(){var t,n,i,r,e,s,o;this.he.stop(),this.Of.stop(),this.Tf.stop(),this.Fa.stop(),this.xf.stop(),null===(t=this.Pf)||void 0===t||t.stop(),null===(n=this._f)||void 0===n||n.stop(),null===(i=this.Df)||void 0===i||i.stop(),null===(r=this.Uf)||void 0===r||r.stop(),this.kf.empty(),null===(e=this.Lf)||void 0===e||e.stop(),null===(s=this.jf)||void 0===s||s.stop(),null===(o=this.qf)||void 0===o||o.stop()},t.prototype.Gf=function(){this.Xf=en()},t.prototype.Wf=function(){return en()-this.Xf},t.prototype.Bf=function(){var t=this;this.he.onEvent((function(n){var i,r;n!==Ze.Visible&&(null===(i=t._f)||void 0===i||i.flushPendingKeyboardNavigationEvent(),null===(r=t.Df)||void 0===r||r.flushPendingTextHighlightEvent(),n===Ze.PagehideVisible?t.Jf():n===Ze.PagehideHidden?(t.Jf(),t.sendLastMessageBeacon()):t.kf.isEmpty()&&!t.Hf||t.sendLastMessageBeacon())}))},t.prototype.zf=function(t){try{this.kf.isEmpty()&&!this.Hf||this.un.save({requestParameters:t,events:this.kf.getEvents()})}catch(t){}},t.prototype.pushSubmitCommandEvent=function(t,n){if(function(t){return t===ru.SUCCESS||t===ru.FAILURE||t===ru.ATTEMPT}(t))if(I(n)){var i={status:t,type:iu.SUBMIT_COMMAND,ts:0,tgt:this.Mf.getElementPath(n)};i.tgt!==ft.INVALID_ELEMENT&&this.Ff(i)}else Pn.warn("AnalysisEvents Service: invalid element: ".concat(n));else Pn.warn("AnalysisEvents Service: invalid submit status: ".concat(t))},t}(),ju=function(){function t(t,n){var i=this;this.un=t,this.Vr=n,this.$f=function(){"visible"===document.visibilityState&&i.Kf()}}return t.prototype.start=function(){this.Kf(),this.yr()},t.prototype.stop=function(){this.gr()},t.prototype.getRecoveryStorage=function(){return this.un},t.prototype.Kf=function(){var t=this.un.recover();if(null!==t){var n=t,i=n.requestParameters,r=n.events;this.Vr.send(r,i)}},t.prototype.yr=function(){document.addEventListener("visibilitychange",this.$f)},t.prototype.gr=function(){document.removeEventListener("visibilitychange",this.$f)},t}(),qu=function(){function t(t){this.Bs=t}return t.prototype.save=function(t){localStorage.setItem(this.Bs,csJSON.stringify(t))},t.prototype.clear=function(){localStorage.removeItem(this.Bs)},t.prototype.recover=function(){var t=localStorage.getItem(this.Bs);if(null===t)return null;var n=null;try{n=csJSON.parse(t)}catch(n){Pn.error("Invalid item in localStorage.\n         (key:".concat(this.Bs,"; value:").concat(t,")"))}finally{this.clear()}return n},t}(),Hu=function(){function t(t){var n=this;this.Qf=t,this.Zf=function(t){return n.processMetric(t)},this.hr=!1}return t.prototype.onEvent=function(t){this.Je=t},t.prototype.start=function(){this.hr||(this.hr=!0,this.Qf.onFCP(this.Zf),this.Qf.onCLS(this.Zf),this.Qf.onFID(this.Zf),this.Qf.onLCP(this.Zf),this.Qf.onTTFB(this.Zf),this.Qf.onINP(this.Zf))},t.prototype.stop=function(){this.hr=!1},t.prototype.processMetric=function(t){if(this.hr){var n={type:iu.PERFORMANCE,name:t.name,val:t.value,ts:0};this.Je(n)}},mt([Gn("Performance metric handler")],t.prototype,"processMetric",null),t}(),Fu=-1,Bu=function(t){addEventListener("pageshow",(function(n){n.persisted&&(Fu=n.timeStamp,t(n))}),!0)},Vu=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},zu=function(){var t=Vu();return t&&t.activationStart||0},Gu=function(t,n){var i=Vu(),r="navigate";return Fu>=0?r="back-forward-cache":i&&(document.prerendering||zu()>0?r="prerender":document.wasDiscarded?r="restore":i.type&&(r=i.type.replace(/_/g,"-"))),{name:t,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Ju=function(t,n,i){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){n(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},i||{})),r}}catch(t){}},Yu=function(t,n,i,r){var e,s;return function(o){n.value>=0&&(o||r)&&((s=n.value-(e||0))||void 0===e)&&(e=n.value,n.delta=s,n.rating=function(t,n){return t>n[1]?"poor":t>n[0]?"needs-improvement":"good"}(n.value,i),t(n))}},Wu=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},Xu=function(t){var n=function(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||t(n)};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},$u=function(t){var n=!1;return function(i){n||(t(i),n=!0)}},Ku=-1,Qu=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Zu=function(t){"hidden"===document.visibilityState&&Ku>-1&&(Ku="visibilitychange"===t.type?t.timeStamp:0,nc())},tc=function(){addEventListener("visibilitychange",Zu,!0),addEventListener("prerenderingchange",Zu,!0)},nc=function(){removeEventListener("visibilitychange",Zu,!0),removeEventListener("prerenderingchange",Zu,!0)},ic=function(){return Ku<0&&(Ku=Qu(),tc(),Bu((function(){setTimeout((function(){Ku=Qu(),tc()}),0)}))),{get firstHiddenTime(){return Ku}}},rc=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},ec=[1800,3e3],sc=function(t,n){n=n||{},rc((function(){var i,r=ic(),e=Gu("FCP"),s=Ju("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(s.disconnect(),t.startTime<r.firstHiddenTime&&(e.value=Math.max(t.startTime-zu(),0),e.entries.push(t),i(!0)))}))}));s&&(i=Yu(t,e,ec,n.reportAllChanges),Bu((function(r){e=Gu("FCP"),i=Yu(t,e,ec,n.reportAllChanges),Wu((function(){e.value=performance.now()-r.timeStamp,i(!0)}))})))}))},oc=[.1,.25],uc={passive:!0,capture:!0},cc=new Date,hc=function(t,n){Nu||(Nu=n,ku=t,Cu=new Date,lc(removeEventListener),ac())},ac=function(){if(ku>=0&&ku<Cu-cc){var t={entryType:"first-input",name:Nu.type,target:Nu.target,cancelable:Nu.cancelable,startTime:Nu.timeStamp,processingStart:Nu.timeStamp+ku};Iu.forEach((function(n){n(t)})),Iu=[]}},fc=function(t){if(t.cancelable){var n=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,n){var i=function(){hc(t,n),e()},r=function(){e()},e=function(){removeEventListener("pointerup",i,uc),removeEventListener("pointercancel",r,uc)};addEventListener("pointerup",i,uc),addEventListener("pointercancel",r,uc)}(n,t):hc(n,t)}},lc=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return t(n,fc,uc)}))},vc=[100,300],dc=0,yc=1/0,wc=0,pc=function(t){t.forEach((function(t){t.interactionId&&(yc=Math.min(yc,t.interactionId),wc=Math.max(wc,t.interactionId),dc=wc?(wc-yc)/7+1:0)}))},mc=function(){return Mu?dc:performance.interactionCount||0},gc=function(){"interactionCount"in performance||Mu||(Mu=Ju("event",pc,{type:"event",buffered:!0,durationThreshold:0}))},Sc=[200,500],bc=0,Ec=function(){return mc()-bc},Ac=[],Rc={},Oc=function(t){var n=Ac[Ac.length-1],i=Rc[t.interactionId];if(i||Ac.length<10||t.duration>n.latency){if(i)i.entries.push(t),i.latency=Math.max(i.latency,t.duration);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};Rc[r.id]=r,Ac.push(r)}Ac.sort((function(t,n){return n.latency-t.latency})),Ac.splice(10).forEach((function(t){delete Rc[t.id]}))}},Tc=[2500,4e3],Nc={},kc=[800,1800],Cc=function t(n){document.prerendering?rc((function(){return t(n)})):"complete"!==document.readyState?addEventListener("load",(function(){return t(n)}),!0):setTimeout(n,0)},Ic=function(t,n){n=n||{};var i=Gu("TTFB"),r=Yu(t,i,kc,n.reportAllChanges);Cc((function(){var e=Vu();if(e){var s=e.responseStart;if(s<=0||s>performance.now())return;i.value=Math.max(s-zu(),0),i.entries=[e],r(!0),Bu((function(){i=Gu("TTFB",0),(r=Yu(t,i,kc,n.reportAllChanges))(!0)}))}}))},Mc=function(){function t(){}return t.prototype.onFCP=function(t){sc(t,{reportAllChanges:!0})},t.prototype.onCLS=function(t){!function(t,n){n=n||{},sc($u((function(){var i,r=Gu("CLS",0),e=0,s=[],o=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=s[0],i=s[s.length-1];e&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(e+=t.value,s.push(t)):(e=t.value,s=[t])}})),e>r.value&&(r.value=e,r.entries=s,i())},u=Ju("layout-shift",o);u&&(i=Yu(t,r,oc,n.reportAllChanges),Xu((function(){o(u.takeRecords()),i(!0)})),Bu((function(){e=0,r=Gu("CLS",0),i=Yu(t,r,oc,n.reportAllChanges),Wu((function(){return i()}))})),setTimeout(i,0))})))}(t,{reportAllChanges:!0})},t.prototype.onFID=function(t){!function(t,n){n=n||{},rc((function(){var i,r=ic(),e=Gu("FID"),s=function(t){t.startTime<r.firstHiddenTime&&(e.value=t.processingStart-t.startTime,e.entries.push(t),i(!0))},o=function(t){t.forEach(s)},u=Ju("first-input",o);i=Yu(t,e,vc,n.reportAllChanges),u&&Xu($u((function(){o(u.takeRecords()),u.disconnect()}))),u&&Bu((function(){var r;e=Gu("FID"),i=Yu(t,e,vc,n.reportAllChanges),Iu=[],ku=-1,Nu=null,lc(addEventListener),r=s,Iu.push(r),ac()}))}))}(t,{reportAllChanges:!0})},t.prototype.onLCP=function(t){!function(t,n){n=n||{},rc((function(){var i,r=ic(),e=Gu("LCP"),s=function(t){var n=t[t.length-1];n&&n.startTime<r.firstHiddenTime&&(e.value=Math.max(n.startTime-zu(),0),e.entries=[n],i())},o=Ju("largest-contentful-paint",s);if(o){i=Yu(t,e,Tc,n.reportAllChanges);var u=$u((function(){Nc[e.id]||(s(o.takeRecords()),o.disconnect(),Nc[e.id]=!0,i(!0))}));["keydown","click"].forEach((function(t){addEventListener(t,(function(){return setTimeout(u,0)}),!0)})),Xu(u),Bu((function(r){e=Gu("LCP"),i=Yu(t,e,Tc,n.reportAllChanges),Wu((function(){e.value=performance.now()-r.timeStamp,Nc[e.id]=!0,i(!0)}))}))}}))}(t,{reportAllChanges:!0})},t.prototype.onTTFB=function(t){Ic(t,{reportAllChanges:!0})},t.prototype.onINP=function(t){!function(t,n){n=n||{},rc((function(){var i;gc();var r,e=Gu("INP"),s=function(t){t.forEach((function(t){t.interactionId&&Oc(t),"first-input"===t.entryType&&!Ac.some((function(n){return n.entries.some((function(n){return t.duration===n.duration&&t.startTime===n.startTime}))}))&&Oc(t)}));var n,i=(n=Math.min(Ac.length-1,Math.floor(Ec()/50)),Ac[n]);i&&i.latency!==e.value&&(e.value=i.latency,e.entries=i.entries,r())},o=Ju("event",s,{durationThreshold:null!==(i=n.durationThreshold)&&void 0!==i?i:40});r=Yu(t,e,Sc,n.reportAllChanges),o&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),Xu((function(){s(o.takeRecords()),e.value<0&&Ec()>0&&(e.value=0,e.entries=[]),r(!0)})),Bu((function(){Ac=[],bc=mc(),e=Gu("INP"),r=Yu(t,e,Sc,n.reportAllChanges)})))}))}(t,{reportAllChanges:!0})},t}(),xc=function(){function t(t){void 0===t&&(t=[]),this.Qn=t}return t.prototype.stringifyEvents=function(){return csJSON.stringify(this.Qn)},t.prototype.addEvent=function(t){csArray.prototype.push.call(this.Qn,t)},t.prototype.eventsCount=function(){return this.Qn.length},t.prototype.clearEvents=function(){this.Qn=[]},t.prototype.empty=function(){this.clearEvents()},t.prototype.isFull=function(){return this.eventsCount()>=50},t.prototype.isEmpty=function(){return 0===this.Qn.length},t.prototype.getEvents=function(){return this.Qn},t}(),Pc=function(){function t(){}return t.prototype.isEventTypeSupported=function(t){return-1!==csArray.prototype.indexOf.call(this.supportedEventTypes,t)},t.prototype.enhanceAnalysisEvent=function(t,n){return this.isEventTypeSupported(n.type)?this.baseEnhanceAnalysisEvent(t,n):n},t}(),_c=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.supportedEventTypes=[iu.CHANGE],n.tl=["text","email","number","search","tel","url","password"],n}return yt(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){var i=er(t);return q(i)&&csArray.prototype.indexOf.call(this.tl,i.type)>=0&&(n.isBlank=""===i.value),n},n}(Pc),Dc=function(t){function n(n){var i=t.call(this)||this;return i.Ja=n,i.supportedEventTypes=[iu.MOUSEDOWN,iu.MOUSEUP,iu.CLICK,iu.MOUSEOVER,iu.TAP,iu.DRAG,iu.FLICK,iu.SUBMIT],i}return yt(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){return n.tgt||(n.tgt=this.Ja.getEventTargetPath(t)),n},n}(Pc);!function(t){t.getRelativePosition=function(t){var n=er(t);if(!(n&&P(n)&&C(n.getBoundingClientRect)&&k(t.pageX)&&k(t.pageY)))return{xRel:-1,yRel:-1,valid:!1};var i=n.getBoundingClientRect(),r=t.pageX-i.left-he.windowOffsetX(),e=t.pageY-i.top-he.windowOffsetY();n!==document.documentElement&&(r+=n.scrollLeft,e+=n.scrollTop);var s=Math.max(n.scrollWidth,i.width),o=Math.max(n.scrollHeight,i.height);return{xRel:Math.round(r/s*65535),yRel:Math.round(e/o*65535),valid:!0}}}(xu||(xu={}));var Lc,Uc=function(t){function n(n,i){var r=t.call(this)||this;return r.M=n,r.Ja=i,r.supportedEventTypes=[iu.MOUSEMOVE,iu.CLICK],r.nl="",r}return yt(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){var i=xu.getRelativePosition(t),r=i.valid,e=i.xRel,s=i.yRel;if(r){var o=this.Ja.getEventTargetPath(t);o!==ft.INVALID_ELEMENT&&(n.xRel=e,n.yRel=s,n.type===iu.MOUSEMOVE&&(o!==this.nl||this.M.iframesTracking?(this.nl=o,n.tgtHM=o):n.tgtHM=""))}else n.type===iu.MOUSEMOVE&&(this.nl="");return n},n}(Pc);!function(t){t[t.ANONYMIZED=0]="ANONYMIZED",t[t.CAPTURED=1]="CAPTURED",t[t.MASKED=2]="MASKED",t[t.ENCRYPTED=3]="ENCRYPTED"}(Lc||(Lc={}));var jc=function(t){function n(n,i,r){var e=t.call(this)||this;return e.V=n,e.il=i,e.G=r,e.supportedEventTypes=[iu.TAP,iu.CLICK],e}return yt(n,t),n.prototype.rl=function(t){for(var n="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=i.nextNode();r;){if(n+=r.textContent,this.il.getElementSensitiveStatus(r.parentElement)!==Lc.CAPTURED)return!0;if(csString.prototype.trim.call(n).length>=100)break;r=i.nextNode()}return!1},n.prototype.baseEnhanceAnalysisEvent=function(t,n){if(I(csEventtarget.apply(t))){var i=pr(csEventtarget.apply(t),"button,a");if(i&&R(i.textContent)&&!this.rl(i)&&!this.G.hasPII(i.textContent,this.V.anonymizeDigits)){var r=Je.truncate(csString.prototype.trim.call(i.textContent),100);r.length>0&&(n.text=r)}}return n},n}(Pc);var qc,Hc="v2/events",Fc=["submit"],Bc=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f){this.V=t,this.fh=n,this.it=i,this.Mf=r,this.Ya=e,this.xh=s,this.jr=o,this.Fa=u,this.da=c,this.jh=h,this.el=a,this.il=f}return t.prototype.init=function(){var t=this,n=new xc,i=this.jh.create("".concat(this.V.getTrackerUri(),"/").concat(Hc),!0,"base64");this.sl=this.ol(i),this.ul=this.cl(n,this.sl.getRecoveryStorage(),i),this.ul.init(),this.el.addListener(this.ul),this.da.addListener(this.ul),this.xh.register(Fc,(function(n,i){t.ul.pushSubmitCommandEvent(n,i)}))},t.prototype.onStartTracking=function(t){this.sl.start(),this.ul.start(t)},t.prototype.onAfterNaturalPageView=function(){this.ul.initStates()},t.prototype.onAfterArtificialPageView=function(){this.ul.initStates(),this.ul.collectInitialEvents()},t.prototype.onArtificialPageViewEnd=function(){this.ul.clearStates(!0)},t.prototype.onBeforeSessionRenewal=function(){this.ul.clearStates(),this.ul.stop(),this.sl.stop()},t.prototype.onOptout=function(){this.ul.stop(),this.sl.stop()},t.prototype.cl=function(t,n,i){var r=new Ou(window),e=new Lu,s=function(t,n,i){var r=[];return t.mouseMoveHeatmapEnabled&&csArray.prototype.push.call(r,new Uc(t,n)),t.isClickedElementTextEnabled()&&csArray.prototype.push.call(r,new jc(t,i,new Kt)),csArray.prototype.push.call(r,new _c,new Dc(n)),r}(this.V,this.Mf,this.il),o=[];this.V.collectHierarchy||csArray.prototype.push.call(o,"submit");var u=new Du(s,this.Mf,this.Ya,o),c=function(t,n,i){var r=[];return t.isClickedElementTextEnabled()&&csArray.prototype.push.call(r,new jc(t,i,new Kt)),csArray.prototype.push.call(r,new Dc(n)),r}(this.V,this.Mf,this.il),h=new _u(c,this.Fa),a=new Hu(new Mc),f=new rs;var l=new ys("".concat(this.V.getTrackerUri(),"/").concat(Hc)),v=new cs(this.fh,this.it);return new Uu(this.V,u,h,e,r,t,l,v,this.jr,n,this.Mf,a,f,i,undefined,undefined,undefined,undefined,undefined,undefined,undefined)},t.prototype.ol=function(t){return new ju(new qu("csAnalysisEventsPersisted"),t)},t}();!function(t){t.Artificial="a",t.Renewal="r",t.Natural="n"}(qc||(qc={}));var Vc=function(t){function n(n,i,r,e,s){var o=t.call(this)||this;return o.Fc=n,o.el=i,o.hl=r,o.vt=e,o.Zh=s,o}return yt(n,t),n.prototype.init=function(){this.al()},n.prototype.onStart=function(t){if(t)this.ll();else{this.vl();try{(null===document||void 0===document?void 0:document.prerendering)&&Pn.warn("Speculative API: Natural page view sent when prerendering (pageview: ".concat(this.vt.getUrl(),")"))}catch(t){}}},n.prototype.onStop=function(){},n.prototype.triggerArtificialPageView=function(t,n){this.isStarted?this.dl(t,n):k(t)&&this.vt.overridePath(t,n),this.isStarted||(this.el.emitTargetingRulesArtificialPageview(this.vt.getUrl()),this.vt.cleanupOverrideLifespan())},n.prototype.vl=function(){this.Zh.setPageViewType(qc.Natural),this.Fc.emitBeforeNaturalPageView(),this.hl.send(),this.vt.cleanupOverrideLifespan(),this.Fc.emitAfterNaturalPageView()},n.prototype.ll=function(){this.Zh.setPageViewType(qc.Renewal),this.Fc.emitBeforeNaturalPageView(),this.hl.send(),this.Fc.emitAfterNaturalPageView()},n.prototype.dl=function(t,n){this.Zh.setPageViewType(qc.Artificial),this.Fc.emitArtificialPageViewEnd(),k(t)&&this.vt.overridePath(t,n),this.Fc.emitBeforeArtificialPageView(),this.hl.send(),this.vt.cleanupOverrideLifespan(),this.Fc.emitAfterArtificialPageView()},n.prototype.al=function(){var t=this;window.addEventListener("pageshow",(function(n){t.isStarted&&n.persisted&&t.dl()}))},n}(Ar),zc=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function Gc(){return{la:zc}}var Jc=function(){function t(t,n){this.Jo=t,this._h=n,this.yl=!1}return t.prototype.getRequestParameters=function(){return{dr:this.wl()}},t.prototype.addUrlMaskingPattern=function(t){this._h.addUrlMaskingPattern(t)},t.prototype.enableRemoveQueryString=function(){this.yl=!0},t.prototype.disableRemoveQueryString=function(){this.yl=!1},t.prototype.wl=function(){var t=this.yl?this.Jo.removeQueryString(this.pl()):this.pl();return this.Jo.anonymizeUrl(t,this._h.getUrlMaskingPatterns())},t.prototype.pl=function(){var t="";try{t=window.top.document.referrer}catch(n){if(window.parent)try{t=window.parent.document.referrer}catch(n){t=""}}return""===t&&(t=document.referrer),"string"!=typeof t&&(t=""),t},t}(),Yc=function(){function t(t){this.et=t,this.ml=this.gl()&&window.CSCurrentScript}return t.prototype.Sl=function(){var t=window.CSCurrentScript;if(!t)return null;var n=window.performance.getEntriesByName(t.src,"resource")[0];return!n||this.bl(n)?null:Math.round(n.responseEnd-n.fetchStart)},t.prototype.bl=function(t){var n=t.transferSize;return void 0!==n?0===n||300===n||n<t.encodedBodySize:t.connectStart===t.domainLookupEnd},t.prototype.getRequestParameters=function(){if(!this.ml||1!==this.El())return{};var t=this.Sl();return null===t?{}:{dt:"".concat(Math.min(t,99999))}},t.prototype.El=function(){var t;return(null===(t=this.et.getSession())||void 0===t?void 0:t.pageNumber)||null},t.prototype.gl=function(){return"object"==typeof window.performance&&"function"==typeof window.performance.getEntriesByName},t}();function Wc(t){var n,i,r=[],e=function(t){var n=t;Tt(t,"/")&&(n=csString.prototype.substring.call(n,1));an(t,"/")&&(n=csString.prototype.slice.call(n,0,-1));return n}(t),s=csString.prototype.split.call(e,"/");try{for(var o=bt(s),u=o.next();!u.done;u=o.next()){var c=u.value;Tt(c,":")?csArray.prototype.push.call(r,{key:c,value:"CS_ANONYMIZED_".concat(csString.prototype.toUpperCase.call(csString.prototype.slice.call(c,1)))}):csArray.prototype.push.call(r,{key:c,value:null})}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}var Xc,$c,Kc=function(){function t(){this.Al=new Set,this.Rl=[],this.Ol=new Set,this.Tl=[]}return t.prototype.addUrlMaskingPattern=function(t){if(!this.Al.has(t)){this.Al.add(t);var n=Wc(t);csArray.prototype.push.call(this.Rl,n)}},t.prototype.getUrlMaskingPatterns=function(){return this.Rl},t.prototype.resetPartialUrlMaskingPatterns=function(){this.Ol.clear(),this.Tl=[]},t.prototype.addPartialUrlMaskingPattern=function(t){if(!this.Ol.has(t)){this.Ol.add(t);var n=Wc(t);csArray.prototype.push.call(this.Tl,n)}},t.prototype.getPartialUrlMaskingPatterns=function(){return this.Tl},t}(),Qc=["trackPageview"],Zc=["setPath"],th=["setQuery"],nh=["referrer:maskUrl"],ih=["referrer:removeQueryString"],rh=["referrer:keepQueryString"],eh=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d){this.V=t,this.xh=n,this.Fc=i,this.mh=r,this.it=e,this.et=s,this.Nl=o,this.mn=u,this.Jo=c,this.vt=h,this.Uh=a,this.Zh=f,this.el=l,this.kl=v,this.Cl=d}return t.prototype.init=function(){var t,i=this,r=new jt(this.V.getTrackerUri(),"pageview");this.Il=new Vc(this.Fc,this.el,r,this.vt,this.Zh);var e=new Jc(this.Jo,new Kc);this.Il.init();var s=new cs(this.mh,this.it,he,e,this.vt,this.Nl,n,this.mn,this.Zh,new Yc(this.et),this.Uh);this.kl&&s.addProvider(this.kl),this.Cl&&s.addProvider(this.Cl);var o=this.V.isCsCrosswritingHeap();if(o||this.V.isCsSideloadingHeap()||this.V.isHeapSideloadsCs()){var u=null===(t=this.V.heapEnvironment)||void 0===t?void 0:t.env_id;s.addProvider({getRequestParameters:function(){var t={cw:o?"1":"2"};return u&&(t.happid=u),t}})}r.setRequestParametersProviders(s),this.xh.register(Qc,(function(t,n){R(t)?i.Ml(n)?i.Il.triggerArtificialPageView(t,n):i.Il.triggerArtificialPageView(t):i.Il.triggerArtificialPageView()})),this.xh.register(Zc,(function(t,n){R(t)&&(i.Ml(n)?i.vt.overridePath(t,n):i.vt.overridePath(t))})),this.xh.register(th,(function(t,n){R(t)&&(i.Ml(n)?i.vt.overrideQuery(t,n):i.vt.overrideQuery(t))})),this.xh.register(nh,(function(t){R(t)&&e.addUrlMaskingPattern(t)})),this.xh.register(ih,(function(){return e.enableRemoveQueryString()})),this.xh.register(rh,(function(){return e.disableRemoveQueryString()}))},t.prototype.start=function(t){this.Il.start(t)},t.prototype.onBeforeSessionRenewal=function(){this.Il.stop()},t.prototype.Ml=function(t){return T(t)&&null!==t},t}(),sh=function(){function t(t){this.Ja=t}return t.prototype.on=function(t,n){var i=this;return function(r){i.Ja.hasValidEventTarget(r)&&i.xl(r,t)&&n(r)}},t.prototype.xl=function(t,n){var i=er(t);return nt.call(i,n)},t.prototype.isMatchesSelectorSupported=function(){return!!nt},t}(),oh=function(){function t(){}return t.prototype.onLoad=function(t){this.an=t},t.prototype.onLoadCallbackExecute=function(){this.an()},t.prototype.start=function(){var t=this.onLoadCallbackExecute.bind(this);this.Pl(t)},t.prototype.Pl=function(t){function n(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),t()}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))},mt([Gn("onLoad")],t.prototype,"onLoadCallbackExecute",null),t}(),uh=function(){function t(t,n,i){this.V=t,this.it=n,this.et=i,this.Xf=en()}return t.prototype.resetStartTime=function(){this.Xf=en()},t.prototype.getSessionData=function(){var t=this.V.projectId,n=this.it.getVisitor();null==n&&Pn.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");var i=null!=n?n:{},r=i.id,e=i.visitsCount,s=this.et.getSession();return null===s&&Pn.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized."),{projectId:t,userId:r,sessionNumber:e,pageNumber:(null!=s?s:{}).pageNumber,relativeTimestamp:en()-this.Xf}},t}(),ch=["clearSession"],hh=["extendSession"],ah=["getSessionData"],fh=["session:start:newVisitor"],lh=["session:clear:visitor"],vh=function(){function t(t,n,i,r){this.V=t,this.it=n,this.et=i,this.xh=r}return t.prototype.init=function(){var t=this;this._l=new uh(this.V,this.it,this.et),this.xh.register(ch,(function(){return t.et.removeSession()})),this.xh.register(hh,(function(){return t.et.extendSessionPeriodically()}),{disableApplyPending:!0}),this.xh.register(ah,(function(){return t._l.getSessionData()}),{disableApplyPending:!0}),this.xh.register(fh,(function(){return t.it.renewVisitor()})),this.xh.register(lh,(function(){t.it.resetVisitor()}),{disableApplyImmediate:!0})},t.prototype.onBeforeNaturalPageView=function(){this.it.createOrUpdateVisitor(),this.et.createOrUpdateSession()},t.prototype.onBeforeArtificialPageView=function(){this.et.abortQuotaServiceRequest(),this.it.createOrUpdateVisitor(),this.et.createOrUpdateSession()},t.prototype.onAfterNaturalPageView=function(){this._l.resetStartTime()},t.prototype.onAfterArtificialPageView=function(){this._l.resetStartTime()},t.prototype.onOptout=function(){this.it.removeVisitor(),this.et.removeSession()},t.prototype.onCollectStateChange=function(t,n){this.et.updateCollectState(t,n)},t}(),dh=function(){function t(t,n){var i=this;this.et=t,this.it=n,this.Dl=!1,this.Ll=Ki((function(){return i.et.refreshSession()}),3e4)}return t.prototype.onSessionExpired=function(t){this.Ul=t},t.prototype.isSessionValid=function(){return!!this.Dl||!!this.et.hasValidSession()&&(!this.et.pollCacheRefreshEvent()||!this.it.isSessionRenewed())},t.prototype.isCurrentPageviewValid=function(){var t=this.et.hasValidSession();return this.et.pollCacheRefreshEvent(!1)?!this.it.isSessionRenewed():t},t.prototype.refreshSession=function(){this.isSessionValid()?this.Ll():this.jl()&&(this.ql=en(),this.renewSession())},t.prototype.renewSession=function(){this.Dl=!0,this.Ul(),this.Dl=!1},t.prototype.jl=function(){return!N(this.ql)||en()-this.ql>6e4},t}();function yh(t){return t.tagDeploymentMode===Xc.DualCollectionReview||t.tagDeploymentMode===Xc.DualCollection}!function(t){t.ContentSquare="CONTENTSQUARE",t.LoadedByClicktale="LOADED_BY_CLICKTALE",t.LoadClicktalePtc="LOAD_CLICKTALE_PTC",t.DualCollectionReview="DUAL_COLLECTION_REVIEW",t.DualCollection="DUAL_COLLECTION",t.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"}(Xc||(Xc={})),function(t){t.isRecording=function(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()},t.stopRecording=function(){window.ClickTaleStop&&window.ClickTaleStop()},t.triggerLogicalPageView=function(t){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(t)},t.sendPageEvent=function(t){window.ClickTaleEvent&&window.ClickTaleEvent(t)},t.sendEventTriggerRecording=function(t){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(t)}}($c||($c={}));var wh,ph="RSA-OAEP",mh="AES-CTR";!function(t){var n,i,r,s=!1,o=null,u="undefined"!=typeof TextEncoder?new TextEncoder:null;function c(){var t,n;return null!=(null===(n=null===(t=e.self.crypto)||void 0===t?void 0:t.subtle)||void 0===n?void 0:n.encrypt)&&null!=e.self.CryptoKey}function h(n){return qn(this,void 0,void 0,(function(){var r;return Hn(this,(function(e){switch(e.label){case 0:return!c()||s?[2,null]:[4,i];case 1:e.sent(),(r=We(n)).byteLength>190&&(r=r.slice(0,190)),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t.crypto.encrypt({name:ph},o,r)];case 3:return[2,Xe(e.sent())];case 4:return e.sent(),[2,null];case 5:return[2]}}))}))}function a(n){var i;return qn(this,void 0,void 0,(function(){var r;return Hn(this,(function(e){switch(e.label){case 0:if(!c())return[2,null];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.crypto.exportKey("jwk",n)];case 2:return r=e.sent(),[2,null!==(i=r.k)&&void 0!==i?i:null];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))}t.crypto=null===(n=e.crypto)||void 0===n?void 0:n.subtle,t.MAX_DIGEST_INPUT_SIZE=100,t.isKeyImported=function(){return!s},t.getCryptoKey=function(){return o},t.isSupported=c,t.importKey=function(n){return qn(this,void 0,void 0,(function(){return Hn(this,(function(r){switch(r.label){case 0:return[4,i=t.crypto.importKey("spki",$e(n),{name:ph,hash:"SHA-256"},!1,["encrypt"]).catch((function(){return s=!0,null}))];case 1:return o=r.sent(),i=void 0,o||zn.warn("Fail to import public key '".concat(n,"'")),[2]}}))}))},t.asymmetricEncrypt=h,t.symmetricEncrypt=function(n,i){return qn(this,void 0,void 0,(function(){var r,e;return Hn(this,(function(o){switch(o.label){case 0:if(!c()||s)return[2,null];r={counter:i.initializationVector,name:mh,length:64},e=u.encode(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.crypto.encrypt(r,i.cryptoKey,e)];case 2:return[2,Xe(o.sent())];case 3:return o.sent(),[2,null];case 4:return[2]}}))}))},t.encryptSecret=function(t){return qn(this,void 0,void 0,(function(){var n,i;return Hn(this,(function(r){switch(r.label){case 0:return[4,a(t)];case 1:if(!(n=r.sent()))throw new Error("Export secret failed");return[4,h(n)];case 2:if(!(i=r.sent()))throw new Error("Encrypt secret failed");return[2,i]}}))}))},t.generateSymmetricKey=function(){return qn(this,void 0,void 0,(function(){return Hn(this,(function(n){switch(n.label){case 0:if(!c()||s)return[2,null];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.crypto.generateKey({name:mh,length:128},!0,["encrypt","decrypt"])];case 2:return[2,{cryptoKey:n.sent(),initializationVector:e.crypto.getRandomValues(new Uint8Array(16))}];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},t.setDigestSalt=function(t){r=t},t.digest=function(n){return qn(this,void 0,void 0,(function(){var i;return Hn(this,(function(e){switch(e.label){case 0:n=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(n)),r&&(n="".concat(n,":").concat(r)),i=u.encode(n),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.crypto.digest("SHA-1",i)];case 2:return[2,Ke(e.sent())];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))},t.generateKeyPair=function(){return e.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}}(wh||(wh={}));var gh,Sh,bh="@user-identifier@",Eh=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.V=n,s.Hl=i,s.Aa=r,s.el=e,s.Fl=[],s.de=[],s}return yt(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Fl,(function(n){return t.trackPageEvent(n)})),this.Fl=[],csArray.prototype.forEach.call(this.de,(function(n){return t.trackEventTriggerRecording(n)})),this.de=[]},n.prototype.onStop=function(){},n.prototype.trackPageEvent=function(t){this.isStarted?n.Bl(t)&&(this.Vl(t)?wh.isSupported()&&this.zl(t):this.Gl(t)):csArray.prototype.push.call(this.Fl,t)},n.prototype.Vl=function(t){return Tt(t,bh)},n.prototype.zl=function(t){return gt(this,void 0,void 0,(function(){var n,i;return St(this,(function(r){switch(r.label){case 0:return this.V.customHashIdEnabled?(n=csString.prototype.slice.call(t,17)).length>wh.MAX_DIGEST_INPUT_SIZE?(Pn.warn("UserIdentifier event: invalid user identifier"),[2]):[4,wh.digest(n)]:[2];case 1:return(i=r.sent())?(this.Jl={eventName:i,isETR:!1,isCustomHashId:!0},this.Yl()):Pn.warn("Page event: unable to compute customHashId"),this.V.encryptionEnabled?(this.el.emitUserIdentifierEvent(n),[2]):[2]}}))}))},n.prototype.Gl=function(t){this.el.emitPageEvent(t),this.Jl={eventName:t,isETR:!1,isCustomHashId:!1},this.Yl(),this.V.tagDeploymentMode===Xc.LoadClicktalePtc&&$c.sendPageEvent(t)},n.prototype.trackEventTriggerRecording=function(t){this.isStarted?n.Bl(t)&&(this.V.malkaEtrEnabled?this.Wl(t):this.Xl(t)):csArray.prototype.push.call(this.de,t)},n.prototype.Wl=function(t){Tt(t,"@ETP@")?this.el.emitEventTriggerRecording(t,Mr.ETR_PAGE):this.el.emitEventTriggerRecording(t,Mr.ETR_SESSION),this.Jl={eventName:t,isETR:!0,isCustomHashId:!1},this.Yl()},n.prototype.Xl=function(t){var n;(yh(n=this.V)||n.tagDeploymentMode===Xc.LoadClicktalePtc)&&(this.el.emitEventTriggerRecording(t,Mr.ETR_LEGACY),this.Jl={eventName:t,isETR:!0,isCustomHashId:!1},this.Yl(),this.V.tagDeploymentMode===Xc.LoadClicktalePtc&&$c.sendEventTriggerRecording(t))},n.prototype.getRequestParameters=function(){return{value:this.Aa.compressSync(this.Jl.eventName,"base64"),ct:this.Aa.algorithm,isETR:"".concat(this.Jl.isETR),isCustomHashId:"".concat(this.Jl.isCustomHashId)}},n.prototype.Yl=function(){this.Hl.send()},n.Bl=function(t){return R(t)&&!!csString.prototype.trim.call(t)},n}(Ar),Ah=["trackPageEvent"],Rh=["trackEventTriggerRecording"],Oh=function(){function t(t,n,i,r,e){this.V=t,this.xh=n,this.Aa=i,this.mh=r,this.el=e}return t.prototype.init=function(){var t=this,n=new jt(this.V.getTrackerUri(),"pageEvent");this.$l=new Eh(this.V,n,this.Aa,this.el),n.setRequestParametersProviders(this.$l,this.mh),this.xh.register(Ah,(function(n){t.$l.trackPageEvent(n)})),this.xh.register(Rh,(function(n){t.$l.trackEventTriggerRecording(n)}))},t.prototype.onStartTracking=function(){this.$l.start()},t}(),Th=function(){function t(){this.subscriptions={}}return t.prototype.subscribe=function(t,n){this.subscriptions[t]=n,1===Object.keys(this.subscriptions).length&&this.onStartTracking()},t.prototype.unsubscribe=function(t){delete this.subscriptions[t],0===Object.keys(this.subscriptions).length&&this.onStopTracking()},t}(),Nh=function(t){function n(){var n=t.call(this)||this;return n._i=new Eo((function(t){return n.errorListener(t)})),n}return yt(n,t),n.prototype.onStartTracking=function(){this._i.observe()},n.prototype.onStopTracking=function(){this._i.disconnect()},n.prototype.errorListener=function(t){var n=this.Kl(t);for(var i in this.subscriptions){(0,this.subscriptions[i])(n)}},n.prototype.Ql=function(t){return t=null!=t?t:"[NO ERROR MESSAGE]",Je.truncate(t,n.Mc,Je.ELLIPSIS)},n.prototype.Zl=function(t){return!t||qr(t)?"":Je.truncate(t,n.xc,Je.ELLIPSIS)},n.prototype.Kl=function(t){return{errorType:"jsError",message:this.Ql(t.message),filename:this.Zl(t.filename),lineno:t.lineno,colno:t.colno}},n.Mc=1024,n.xc=150,mt([Gn("Event handler type: error")],n.prototype,"errorListener",null),n}(Th),kh=function(){function t(t){this.xh=t}return t.prototype.init=function(){this.tv(t.nv,yn),this.tv(t.iv,dn)},t.prototype.tv=function(t,n){this.xh.register([t],(function(t,i){R(t)&&(R(i)||M(i))&&Pn.error(i,"".concat(n).concat(t))}))},t.iv="logSnippetError",t.nv="logImplementationSnippetError",t}(),Ch=function(){function t(t,n,i,r,e){this.V=t,this.aa=n,this.Mh=i,this.il=r,this.da=e}return t.prototype.init=function(){var t=this;this.aa.onChildMessage((function(n,i,r){return t.da.emitIframeEvent(n,i,r)})),this.aa.setSentiveStatusCallback((function(){return t.il.getSensitiveStatus()})),this.aa.setRecordingContextCallback((function(){return t.Mh.getRecordingContext()}))},t.prototype.onStartTracking=function(){this.V.iframesTracking&&this.aa.start()},t.prototype.onOptout=function(){this.V.iframesTracking&&this.aa.stop()},t.prototype.onSensitiveStatusChange=function(){if(this.V.iframesTracking){var t=this.il.getSensitiveStatus();this.aa.onSensitiveStatusChange(t)}},t.prototype.onRecordingContextChange=function(){if(this.V.iframesTracking){var t=this.Mh.getRecordingContext();this.aa.onRecordingContextChange(t)}},t}(),Ih=function(t){function n(n){var i=t.call(this)||this;return i.V=n,i.rv=0,i.ev=new Map,i.sv={boundElement:window,type:"message",listener:function(t){return i.ov(t)}},i}return yt(n,t),n.prototype.onChildMessage=function(t){this.uv=t},n.prototype.setRecordingContextCallback=function(t){this.cv=t},n.prototype.setSentiveStatusCallback=function(t){this.hv=t},n.prototype.onSensitiveStatusChange=function(t){var n=this,i=kn.buildBaseMessage(Nn.SensitiveStatus,Tn.Parent,this.V.projectId);i.content=t;var r=kn.buildBaseMessage(Nn.SensitiveStatus,Tn.Parent,this.V.projectId);r.content=wt(wt({},t),{started:!1,useAnonymization:!0,capturedElementSelector:""}),this.ev.forEach((function(t){if(t.port){var e=n.av(t)?r:i;n.fv(t,e)}}))},n.prototype.onRecordingContextChange=function(t){var n=this,i=kn.buildBaseMessage(Nn.RecordingContext,Tn.Parent,this.V.projectId);i.content=t,this.ev.forEach((function(t){!n.av(t)&&t.port&&n.fv(t,i)}))},n.prototype.sendToChildren=function(t,n){var i=kn.buildBaseMessage(t,Tn.Parent,this.V.projectId);i.content=n,this.lv(i)},n.prototype.onStart=function(){Wi(this.sv,!1),this.vv()},n.prototype.onStop=function(){this.yv(),Xi(this.sv,!1),this.wv()},n.prototype.vv=function(){var t=this,n=this.pv();this.mv(n),csArray.prototype.forEach.call(n,(function(n){if(null===t.gv(n)){var i={iframe:n};t.ev.set(t.rv,i),t.rv+=1}})),this.Sv()},n.prototype.pv=function(){var t=this;return csArray.prototype.filter.call(le.findAllElements("iframe"),(function(n){return t.bv(n)}))},n.prototype.mv=function(t){var n=this;this.ev.forEach((function(i,r){i.iframe&&-1===csArray.prototype.indexOf.call(t,i.iframe)&&n.Ev(r,i)}))},n.prototype.Ev=function(t,n){n.port&&kn.closeChannelPort(n.port),this.ev.delete(t)},n.prototype.wv=function(){this.ev.forEach((function(t){t.port&&kn.closeChannelPort(t.port)})),this.ev.clear()},n.prototype.gv=function(t){var n=null;return this.ev.forEach((function(i,r){null===n&&i.iframe===t&&(n=r)})),n},n.prototype.bv=function(t){return t.id!==s&&(!t.src||En(bn(t.src),this.V.hostnames))},n.prototype.lv=function(t){var n=this;this.ev.forEach((function(i){n.fv(i,t)}))},n.prototype.fv=function(t,n){var i=n.type===Nn.SensitiveStatus||n.type===Nn.RecordingContext;!t.port||i&&!t.initialStatusSent||kn.sendChannelMessage(t.port,n)},n.prototype.Sv=function(){var t=this;this.ev.forEach((function(n,i){if(n.iframe.contentWindow){var r=t.Av(i);kn.sendPostMessage(n.iframe.contentWindow,"*",r)}}))},n.prototype.yv=function(){var t=this.Rv();this.ev.forEach((function(n){n.port?kn.sendChannelMessage(n.port,t):n.iframe.contentWindow&&kn.sendPostMessage(n.iframe.contentWindow,"*",t)}))},n.prototype.Av=function(t){return kn.buildBaseMessage(Nn.Discovery,Tn.Parent,this.V.projectId,t)},n.prototype.Rv=function(){return kn.buildBaseMessage(Nn.Stop,Tn.Parent,this.V.projectId)},n.prototype.Ov=function(t,n){var i=this,r=this.ev.get(t);void 0!==r?(r.port=n,r.port.onmessage=function(t){i.Tv(t,r)}):Pn.error("Parent received channel messaging initialization from unknow child id : ".concat(t," (").concat(this.rv,")"))},n.prototype.Nv=function(t){if(t.port){var n=kn.buildBaseMessage(Nn.SensitiveStatus,Tn.Parent,this.V.projectId),i=this.hv();this.av(t)&&(i.started=!1,i.capturedElementSelector="",i.useAnonymization=!0),n.content=i,kn.sendChannelMessage(t.port,n)}},n.prototype.kv=function(t){if(t.port){var n=kn.buildBaseMessage(Nn.RecordingContext,Tn.Parent,this.V.projectId),i=this.cv();this.av(t)&&(i.isRecording=!1,i.isMutationTrackerStarted=!1),n.content=i,kn.sendChannelMessage(t.port,n)}},n.prototype.Tv=function(t,n){if(void 0!==n){var i=t.data.type,r=t.data.content;i===Nn.EndOfBufferedMessages?(this.Nv(n),this.kv(n),n.initialStatusSent=!0):this.uv(n.iframe,i,r)}else Pn.error("Parent received channelMessage from unknown child : ".concat(csJSON.stringify(t.data)))},n.prototype.ov=function(t){if(kn.isMessageValid(t,Tn.Child,this.V.projectId,this.V.hostnames))switch(t.data.type){case Nn.Discovery:if(void 0===t.data.id)return void this.vv();if(t.ports&&1===t.ports.length&&this.ev.has(t.data.id))return void this.Ov(t.data.id,t.ports[0]);Pn.error("Parent received wrong channelMessage initialization : (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)));break;case Nn.ChildLogMessage:this.uv(null,Nn.ChildLogMessage,t.data.content);break;default:Pn.warn("Parent received unexpected postMessage type from child (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)))}},n.prototype.av=function(t){return yr.isMaskedElement(t.iframe)||yr.isMaskedElementChild(t.iframe)},n}(Ar),Mh=function(){function t(t){this.Cv=t}return t.prototype.buildApiErrors=function(t,n){var i=this.Cv.collectDataPoints(t,n);if(null===i)return null;var r=this.Iv(t,i);return n?{apiError:r,detailedApiError:this.Mv(t,i)}:{apiError:r}},t.prototype.Mv=function(t,n){var i=this.xv(t);return n.collectQueryParam&&t.queryParameters&&(i.queryParameters=t.queryParameters),n.collectRequestBody&&t.requestBody&&(i.requestBody=t.requestBody),n.collectResponseBody&&t.responseBody&&(i.responseBody=t.responseBody),Object.keys(n.standardRequestHeaders).length>0&&(i.standardRequestHeaders=n.standardRequestHeaders),Object.keys(n.standardResponseHeaders).length>0&&(i.standardResponseHeaders=n.standardResponseHeaders),Object.keys(n.customRequestHeaders).length>0&&(i.customRequestHeaders=csJSON.stringify(n.customRequestHeaders)),Object.keys(n.customResponseHeaders).length>0&&(i.customResponseHeaders=csJSON.stringify(n.customResponseHeaders)),Object.keys(n.plainCustomRequestHeaders).length>0&&(i.plainCustomRequestHeaders=n.plainCustomRequestHeaders),Object.keys(n.plainCustomResponseHeaders).length>0&&(i.plainCustomResponseHeaders=n.plainCustomResponseHeaders),n.plainResponseBodyAttributes&&Object.keys(n.plainResponseBodyAttributes).length>0&&(i.plainResponseBodyAttributes=n.plainResponseBodyAttributes),n.plainRequestBodyAttributes&&Object.keys(n.plainRequestBodyAttributes).length>0&&(i.plainRequestBodyAttributes=n.plainRequestBodyAttributes),Object.keys(n.responseBodyAttributes).length>0&&(i.responseBodyAttributes=csJSON.stringify(n.responseBodyAttributes)),Object.keys(n.requestBodyAttributes).length>0&&(i.requestBodyAttributes=csJSON.stringify(n.requestBodyAttributes)),i},t.prototype.xv=function(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}},t.prototype.Iv=function(t,n){var i=this.xv(t);return n.matchingBodyContents.length>0&&(i.matchingBodyContents=n.matchingBodyContents),Object.keys(n.plainResponseBodyAttributes).length>0&&(i.plainBodyResponseAttributes=n.plainResponseBodyAttributes),i},t}(),xh=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Pv=n,e._v=i,e.Dv=r,e.Lv=0,e.Uv=new Mh(r),e}return yt(n,t),n.prototype.subscribe=function(n,i,r){(null==r?void 0:r.detailedEvent)&&(Object.defineProperty(i,"detailedEvent",{value:r.detailedEvent}),this.Lv++),t.prototype.subscribe.call(this,n,i)},n.prototype.unsubscribe=function(n){var i;(null===(i=this.subscriptions[n])||void 0===i?void 0:i.hasOwnProperty("detailedEvent"))&&this.Lv--,t.prototype.unsubscribe.call(this,n)},n.prototype.init=function(){var t=this,n=this.Dv.computeApiErrorCollectionOptions();this.Pv.setCollectionOptions(n),this.Pv.onEvent((function(n){return t.jv(n)})),this._v.setCollectionOptions(n),this._v.onEvent((function(n){return t.jv(n)}))},n.prototype.onStartTracking=function(){this.Pv.start(),this._v.start()},n.prototype.onStopTracking=function(){this.Pv.stop(),this._v.stop()},n.prototype.jv=function(t){var n=this.Uv.buildApiErrors(t,0!==this.Lv);if(n)for(var i in this.subscriptions){var r=this.subscriptions[i];r.hasOwnProperty("detailedEvent")?n.detailedApiError&&r(n.detailedApiError):r(n.apiError)}},n}(Th),Ph=function(){function t(t,n){this._h=t,this.Jo=n}return t.prototype.addUrlMaskingPattern=function(t){this._h.addUrlMaskingPattern(t)},t.prototype.anonymize=function(t){var n=this.Jo.removeQueryString(t.url);return wt(wt({},t),{url:this.Jo.anonymizeUrl(n,this._h.getUrlMaskingPatterns(),this._h.getPartialUrlMaskingPatterns()),library:t.library?this.Jo.anonymizeUrl(t.library,this._h.getUrlMaskingPatterns(),this._h.getPartialUrlMaskingPatterns()):void 0})},t}(),_h=function(){function t(t,n){this.G=t,this.vt=n}return t.prototype.anonymize=function(t){return R(t.message)&&(t.message=this.qv(t.message),t.message=this.G.anonymizePII(t.message)),R(t.filename)&&(t.filename=this.vt.computeOverriddenUrl(t.filename)),t},t.prototype.qv=function(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,"value='".concat("CS_ANONYMIZED_VALUE","'"))},t}(),Dh=function(t){function n(n){var i=t.call(this)||this;return i.Hv=n,i.Ge=[{boundElement:document,type:"touchstart",listener:function(t){return i.we(t)}},{boundElement:document,type:"touchmove",listener:function(t){return i.we(t)}},{boundElement:document,type:"touchend",listener:function(t){return i.we(t)}}],i.Fv=new go,i.Fv.onGesture((function(t,n){return i.Ac(t,n)})),i}return l(n,t),n.prototype.Ac=function(t,n){for(var i in this.subscriptions){(0,this.subscriptions[i])(t,n)}},n.prototype.onStartTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Ge,(function(t){return Wi(t)}))},n.prototype.onStopTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Ge,(function(t){return Xi(t)}))},n.prototype.canDetectGesture=function(){return"undefined"!=typeof devicePixelRatio},n.prototype.we=function(t){var n=this;this.Hv.tryToExecute("process gesture event",(function(){if(n.Fv.isValidTouchEvent(t))switch(t.type){case"touchstart":n.Fv.processActionDown(t);break;case"touchmove":n.Fv.processActionMove();break;case"touchend":n.Fv.processActionUp(t)}}))()},n.isSwipe=function(t){return t.type===eo.FLICK||t.type===eo.DRAG},n}(Th),Lh=function(t){function n(n,i){var r=t.call(this)||this;return r.Vr=n,r.Bv=i,r.Vv=0,r}return yt(n,t),n.prototype.onStart=function(){var t=this;Pn.isPerfLoggingActive()&&(this.zv=window.csSetInterval((function(){return t.Gv()}),n.Jv))},n.prototype.onStop=function(){Pn.isPerfLoggingActive()&&(this.Gv(),csClearInterval(this.zv))},n.prototype.Gv=function(){if(!(Zn.isEmpty||this.Vv>=n.Yv)){this.Vv++;var t=wt({a:n.Wv,l:n.Xv},this.Bv.getRequestParameters()),i=[];Zn.forEach((function(n){csArray.prototype.forEach.call(n,(function(n){csArray.prototype.push.call(i,wt(wt({},n),t))}))})),this.Vr.send(i),Zn.clear()}},n.Wv="uxa",n.Xv="perf",n.Jv=5e3,n.Yv=5,n}(Ar),Uh=function(){function t(t,n,i){this.V=t,this.Bv=n,this.jh=i}return t.prototype.init=function(){this.$v=new Lh(this.jh.create(this.V.getLoggerUri(),!0),this.Bv)},t.prototype.onStartTracking=function(){this.$v.start()},t.prototype.onOptout=function(){this.$v.stop()},t}(),jh=function(){function t(t){this.il=t,this.Kv=!1}return t.prototype.enableRecordingContext=function(t,n,i){this.Kv=!0,this.Sa=t,this.et=n,this.Wh=i},t.prototype.getRecordingContext=function(){var t,n,i,r;if(!this.Kv)return{isRecording:!1,recordingStartTimestamp:0,etrState:Ir.ETR_OFF,etrStatus:xr.ETR_DISABLED,collectState:Cr.ANALYTICS_ONLY};var e=this.et.getSession();return{isRecording:this.Sa.isRecording(),isMutationTrackerStarted:this.Sa.isStarted,useAnonymization:this.il.getSensitiveStatus().useAnonymization,enableOnlineResources:null===(t=this.Sa.getStaticResourceManagerStatus())||void 0===t?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:null===(n=this.Sa.getStaticResourceManagerStatus())||void 0===n?void 0:n.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.Sa.getRecordingStartTimestamp(),10),etrState:null!==(i=null==e?void 0:e.etrState)&&void 0!==i?i:Ir.ETR_OFF,etrStatus:this.Wh.getEtrStatus(e),collectState:null!==(r=null==e?void 0:e.collectState)&&void 0!==r?r:Cr.ANALYTICS_ONLY}},t}(),qh=function(){function t(){}return t.isRecordingSupported=function(){return"MutationObserver"in window&&"visibilityState"in document},t.isAsyncSerializationSupported=function(){return"Promise"in window&&"findIndex"in csArray.prototype},t}(),Hh=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.Hr=n,s.Qv=i,s.fh=r,s.Fr=e,s.Zv=[],s.Zr=0,s}return yt(n,t),n.prototype.init=function(){this.Hr.init()},n.prototype.initStates=function(){this.td(),this.Zv=[],this.Zr=0,this.Gf()},n.prototype.Gf=function(){this.Xf=en()},n.prototype.Wf=function(){return en()-this.Xf},n.prototype.onStart=function(){var t=this;this.Hr.subscribe(n.Ce,(function(n){return t.we(n)}))},n.prototype.onStop=function(){this.Hr.unsubscribe(n.Ce)},n.prototype.onIframeApiError=function(t){this.we(t)},n.prototype.we=function(t){this.isStarted&&this.Zr<n.Ch&&(t.relativeTime=this.Wf(),csArray.prototype.push.call(this.Zv,this.Fr.anonymize(t)),this.nd())},n.prototype.td=function(){this.Qv.removeQueryParams(),this.Qv.setQueryParams(this.fh.getRequestParameters())},n.prototype.nd=function(){this.Qv.send({errors:this.Zv}),this.Zv=[],this.Zr+=1},n.Ce="ApiErrorsService",n.Ch=20,n}(Ar),Fh=["api-errors:maskUrl"],Bh=function(){function t(t,n,i,r,e,s,o){this.Hr=t,this.Fr=n,this.V=i,this.fh=r,this.da=e,this.xh=s,this.jh=o}return t.prototype.init=function(){var t=this.jh.create("".concat(this.V.getTrackerUri(),"/").concat("api-errors"),!0);this.rd=new Hh(this.Hr,t,this.fh,this.Fr),this.rd.init(),this.da.addListener(this.rd),this.sd()},t.prototype.sd=function(){var t=this;this.xh.register(Fh,(function(n){R(n)&&t.Fr.addUrlMaskingPattern(n)}))},t.prototype.onStartTracking=function(){this.rd.start()},t.prototype.onAfterNaturalPageView=function(){this.rd.initStates()},t.prototype.onAfterArtificialPageView=function(){this.rd.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.rd.stop()},t.prototype.onOptout=function(){this.rd.stop()},t}(),Vh=function(t){function n(n,i,r,e,s,o){var u=t.call(this)||this;return u.od=n,u.ud=i,u.fh=r,u.qr=e,u.Dh=s,u.vt=o,u.ad=[],u.Ih=0,u.ld=[],u}return yt(n,t),n.prototype.initStates=function(){this.Xf=en(),this.ud.removeQueryParams(),this.ud.setQueryParams(this.fh.getRequestParameters()),this.ad=[],this.Ih=0},n.prototype.onStart=function(){var t=this;this.od.subscribe(n.Ce,(function(n){return t.we(n)})),this.vd()},n.prototype.onStop=function(){this.od.unsubscribe(n.Ce)},n.prototype.onIframeJavascriptError=function(t){this.we(t)},n.prototype.trackCustomError=function(t){var n={errorType:"jsError",message:"".concat("Custom Error:"," ").concat(t),lineno:1,colno:1,filename:"https://cserror.com/texterror.js"};this.dd(n)},n.prototype.dd=function(t){if(this.isStarted){var n=this.we(t);n&&this.Dh.emitCustomJavaScriptErrorEvent(n)}else csArray.prototype.push.call(this.ld,t)},n.prototype.vd=function(){var t=this;this.isStarted&&(csArray.prototype.forEach.call(this.ld,(function(n){return t.dd(n)})),this.ld=[])},n.prototype.we=function(t){if(this.isStarted&&this.Ih<20){var n=wt(wt({},t),{pageUrl:this.vt.getAnonymizedUrl(),rt:this.Wf()});return this.qr.anonymize(n),csArray.prototype.push.call(this.ad,n),this.nd(),n}return null},n.prototype.Wf=function(){return en()-this.Xf},n.prototype.nd=function(){this.ud.send({errors:this.ad}),this.ad=[],this.Ih+=1},n.Ce="JavaScriptErrorsService",n}(Ar),zh=["trackError"],Gh=function(){function t(t,n,i,r,e,s,o,u,c){this.od=t,this.qr=n,this.V=i,this.fh=r,this.da=e,this.xh=s,this.Dh=o,this.vt=u,this.jh=c}return t.prototype.init=function(){var t=this.jh.create("".concat(this.V.getTrackerUri(),"/").concat("errors"),!0);this.yd=new Vh(this.od,t,this.fh,this.qr,this.Dh,this.vt),this.da.addListener(this.yd),this.sd()},t.prototype.sd=function(){var t=this;this.V.jsCustomErrorsEnabled&&!this.V.customErrors.enabled&&this.xh.register(zh,(function(n){t.yd.trackCustomError(n)}))},t.prototype.onStartTracking=function(){this.yd.start()},t.prototype.onAfterNaturalPageView=function(){this.yd.initStates()},t.prototype.onAfterArtificialPageView=function(){this.yd.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.yd.stop()},t.prototype.onOptout=function(){this.yd.stop()},t}(),Jh=function(){function t(){this.wd=qc.Natural}return t.prototype.setPageViewType=function(t){this.wd=t},t.prototype.getPageViewType=function(){return this.wd},t.prototype.getRequestParameters=function(){return{pvt:this.wd}},t}(),Yh=function(){function t(t){this.jr=t}return t.prototype.onAfterVisitorRenewal=function(){this.jr.renewSession()},t}();!function(t){t.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",t.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",t.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",t.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(gh||(gh={})),function(t){t.START="start",t.NOT_START="not-start",t.END="end",t.NOT_END="not-end",t.CONTAIN="contain",t.NOT_CONTAIN="not-contain",t.EXACT="exact",t.NOT_EXACT="not-exact"}(Sh||(Sh={}));var Wh,Xh,$h=function(){function t(t,n,i,r){this.Nl=t,this.V=n,this.vt=i,this.pd=r}return t.prototype.init=function(){this.md()},t.prototype.shouldMaskNonTextElements=function(){return this.V.isSMB&&this.V.anonymisationMethod===gh.replayRecordingMaskedUrlRegexRules&&this.shouldUseAnonymization()},t.prototype.shouldUseAnonymization=function(){if(this.Nl.isReplayUnanonymizedAllowedByConsent()){switch(this.V.anonymisationMethod){case null:case gh.replayRecordingMaskedUrlRegex:return!(!this.V.replayRecordingMaskedUrlRegex||!this.V.replayRecordingMaskedUrlRegex.test(this.vt.getAnonymizedUrl()));case gh.replayRecordingMaskedUrlRegexRules:return this.pd.evaluateUrl(this.vt.getAnonymizedUrl())}return!1}switch(this.V.anonymisationMethod){case null:case gh.replayRecordingUnmaskedUrlRegex:return!(this.V.replayRecordingUnmaskedUrlRegex&&this.V.replayRecordingUnmaskedUrlRegex.test(this.vt.getAnonymizedUrl()));case gh.replayRecordingUnmaskedUrlRegexRules:return!this.pd.evaluateUrl(this.vt.getAnonymizedUrl())}return!0},t.prototype.md=function(){this.V.anonymisationMethod===gh.replayRecordingMaskedUrlRegexRules&&this.V.replayRecordingMaskedUrlRegexRules?this.pd.setRegexRules(this.V.replayRecordingMaskedUrlRegexRules):this.V.anonymisationMethod===gh.replayRecordingUnmaskedUrlRegexRules&&this.V.replayRecordingUnmaskedUrlRegexRules&&this.pd.setRegexRules(this.V.replayRecordingUnmaskedUrlRegexRules)},t}(),Kh=function(){function t(){this.gd=[]}return t.prototype.setRegexRules=function(t){var n=this;this.gd=csArray.prototype.map.call(t,(function(t){return n.Sd(t)}))},t.prototype.evaluateUrl=function(t){var n=this;return csArray.prototype.some.call(this.gd,(function(i){var r,e,s=n.bd(t,i);return(null==i?void 0:i.notOperator)?!(null===(r=i.regex)||void 0===r?void 0:r.test(s)):null===(e=i.regex)||void 0===e?void 0:e.test(s)}))},t.prototype.bd=function(t,n){var i=Rn(t);return i?n.ignoreQueryParams&&n.ignoreURIFragments?"".concat(i.origin).concat(i.pathname):n.ignoreQueryParams?"".concat(i.origin).concat(i.pathname).concat(i.hash):n.ignoreURIFragments?"".concat(i.origin).concat(i.pathname).concat(i.search):t:t},t.prototype.Ed=function(t){return t.ignoreCaseSensitivity?"i":""},t.prototype.Sd=function(t){switch(t.operator){case Sh.NOT_START:t.notOperator=!0;case Sh.START:t.regex=new csRegExp("^".concat(t.value),this.Ed(t));break;case Sh.NOT_END:t.notOperator=!0;case Sh.END:t.regex=new csRegExp("".concat(t.value,"$"),this.Ed(t));break;case Sh.NOT_CONTAIN:t.notOperator=!0;case Sh.CONTAIN:t.regex=new csRegExp("".concat(t.value),this.Ed(t));break;case Sh.NOT_EXACT:t.notOperator=!0;case Sh.EXACT:t.regex=new csRegExp("^".concat(t.value,"$"),this.Ed(t));break;default:Pn.warn("buildRegexWithRule, unknown type: ".concat(t.operator))}return t},t}(),Qh=function(){function t(){this.Ad=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}return t.prototype.setCollectionOptions=function(t){this.Rd=t},t.prototype.isValidBodyType=function(t){var n=t["content-type"];if(!n)return!1;var i=csString.prototype.toLocaleLowerCase.call(n);return Ri(this.Ad,(function(t){return Tt(i,t)}))},t.prototype.canCollect=function(t,n){return this.Od(t,n)&&this.Td(n)},t.prototype.Od=function(t,n){return t>=400||t>=200&&t<300&&this.Rd.statusCodes.has(t)&&this.Nd(n)},t.prototype.Nd=function(t){return Ri(this.Rd.urls,(function(n){return-1!==csString.prototype.indexOf.call(t,n)}))},t.prototype.Td=function(t){return function(t,n){for(var i=t.length,r=0;r<i;r++)if(!n(t[r],r))return!1;return!0}(this.Rd.excludedDomains,(function(n){return-1===csString.prototype.indexOf.call(t,n)}))},t}(),Zh=function(t){function n(){var n=t.call(this)||this;return n.kd=csSymbol("ApiCall"),n.hr=!1,n.Cd=null,n.Id=null,n.Md=null,n.xd=function(t){var i=t.context,r=t.args,e=t.callerName;return n.interceptOpen(i,r,e)},n.Pd=function(t){var i=t.context,r=t.args;return n.interceptSetRequestHeader(i,r)},n._d=function(t){var i=t.context,r=t.args;return n.interceptSend(i,r)},n}return yt(n,t),n.prototype.onEvent=function(t){this.Je=t},n.prototype.start=function(){this.hr||(this.Dd(),this.Cd&&this.Cd.activate(),this.Id&&this.Id.activate(),this.Md&&this.Md.activate(),this.hr=!0)},n.prototype.stop=function(){this.hr&&(this.Cd&&this.Cd.deactivate(),this.Id&&this.Id.deactivate(),this.hr=!1)},n.prototype.Dd=function(){this.Cd||(this.Cd=zi({target:XMLHttpRequest.prototype,methodName:"open",hook:this.xd,options:{withCallerName:!0}})),this.Id||(this.Id=zi({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.Pd})),this.Md||(this.Md=zi({target:XMLHttpRequest.prototype,methodName:"send",hook:this._d}))},n.prototype.interceptOpen=function(t,n,i){var r=this;if(n[1]&&R(n[1])){var e=Et(csString.prototype.split.call(n[1],"?"),2),s=e[0],o=e[1];t[this.kd]={library:i,requestTime:en(),method:n[0],url:Sn(s),queryParameters:o,statusCode:0,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},t.addEventListener("readystatechange",(function(){return r.readyStateChangeListener(t)}))}},n.prototype.readyStateChangeListener=function(n){n[this.kd]&&n.readyState===XMLHttpRequest.DONE&&this.canCollect(n.status,n[this.kd].url)&&(n[this.kd].responseTime=en(),n[this.kd].statusCode=n.status,n[this.kd].responseHeaders=this.Ld(n.getAllResponseHeaders()),!t.prototype.isValidBodyType.call(this,n[this.kd].responseHeaders)||""!==n.responseType&&"text"!==n.responseType||(n[this.kd].responseBody=n.responseText),this.Je(n[this.kd]))},n.prototype.interceptSetRequestHeader=function(t,n){if(t[this.kd]){var i=n[0],r=csString.prototype.valueOf.call(new csString(n[1]));"string"==typeof i&&0!==r.length&&(i=csString.prototype.toLowerCase.call(csString.prototype.trim.call(i)),r=csString.prototype.trim.call(r),t[this.kd].requestHeaders[i]?t[this.kd].requestHeaders[i]+=", ".concat(r):t[this.kd].requestHeaders[i]=r)}},n.prototype.interceptSend=function(n,i){n[this.kd]&&t.prototype.isValidBodyType.call(this,n[this.kd].requestHeaders)&&"string"==typeof i[0]&&(n[this.kd].requestBody=i[0])},n.prototype.Ld=function(t){var n={};return csArray.prototype.forEach.call(csString.prototype.split.call(t,/[\r\n]+/),(function(t){var i=Et(csString.prototype.split.call(t,/:\s*/),2),r=i[0],e=i[1];e&&(n[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(e))})),n},mt([Gn("XhrRequestTracker.interceptOpen")],n.prototype,"interceptOpen",null),mt([Gn("XhrRequestTracker.readyStateChangeListener")],n.prototype,"readyStateChangeListener",null),mt([Gn("XhrRequestTracker.interceptSetRequestHeader")],n.prototype,"interceptSetRequestHeader",null),mt([Gn("XhrRequestTracker.interceptSend")],n.prototype,"interceptSend",null),n}(Qh),ta=function(t){function n(){var n=t.call(this)||this;return n.hr=!1,n.Ud=null,n.jd=function(t){var i=t.result,r=t.args,e=t.callerName;n.interceptFetch(i,r,e)},n}return yt(n,t),n.prototype.onEvent=function(t){this.Je=t},n.prototype.start=function(){this.hr||this.qd()&&(this.Hd(),this.Ud&&this.Ud.activate(),this.hr=!0)},n.prototype.stop=function(){this.hr&&(this.Ud&&this.Ud.deactivate(),this.hr=!1)},n.prototype.qd=function(){return!!window.fetch&&"function"==typeof window.fetch},n.prototype.Fd=function(t){if(t[0]&&"function"==typeof t[0].clone){var n=gi(t);return n[0]=t[0].clone(),n}return t},n.prototype.Hd=function(){this.Ud||(this.Ud=zi({target:window,methodName:"fetch",hook:this.jd,hookPrepareArgs:this.Fd,options:{withCallerName:!0}}))},n.prototype.interceptFetch=function(n,i,r){return gt(this,void 0,void 0,(function(){var e,s,o,u,c,h,a,f,l,v,d,y,w,p;return St(this,(function(m){switch(m.label){case 0:if(e=i[0],s=i[1],!R((o=new Request(e,s)).url))return[2];u=en(),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,n];case 2:return c=m.sent(),[3,4];case 3:if(h=m.sent(),this.Bd(h)||this.Vd(h)||this.zd(h))return[2];throw h;case 4:if(a=Et(csString.prototype.split.call(o.url,"?"),2),f=a[0],l=a[1],v=Sn(f),!c||!t.prototype.canCollect.call(this,c.status,v))return[3,11];if(d={library:r,method:o.method,url:v,queryParameters:l,requestTime:u,responseTime:en(),statusCode:c.status,requestBody:"",responseBody:"",requestHeaders:this.Gd(o.headers),responseHeaders:this.Gd(c.headers)},c.bodyUsed||!t.prototype.isValidBodyType.call(this,d.responseHeaders))return[3,8];m.label=5;case 5:return m.trys.push([5,7,,8]),y=d,[4,c.clone().text()];case 6:return y.responseBody=m.sent(),[3,8];case 7:return w=m.sent(),this.Vd(w)?[2]:[3,8];case 8:return t.prototype.isValidBodyType.call(this,d.requestHeaders)?(p=d,[4,o.text()]):[3,10];case 9:p.requestBody=m.sent(),m.label=10;case 10:this.Je(d),m.label=11;case 11:return[2]}}))}))},n.prototype.Bd=function(t){return t instanceof TypeError},n.prototype.Vd=function(t){return t instanceof DOMException&&"AbortError"===t.name},n.prototype.zd=function(t){return t instanceof DOMException&&csArray.prototype.some.call(n.Jd,(function(n){return n===t.name}))},n.prototype.Gd=function(t){var n={};return t.forEach((function(t,i){t&&(n[csString.prototype.toLowerCase.call(i)]=csString.prototype.trim.call(t))})),n},n.Jd=["NoModificationAllowedError","InvalidStateError","OperationError"],mt([Gn("FetchRequestTracker.interceptFetch")],n.prototype,"interceptFetch",null),n}(Qh),na=function(){function t(){this.Yd=64e3,this.Wd=5e3,this.Xd=2e3,this.$d=8e3,this.Tu=!!self.TextEncoder,this.Tu&&(this.Kd=new TextEncoder)}return t.prototype.Qd=function(t){return this.Kd.encode(t).byteLength},t.prototype.Zd=function(n,i,r){var e=0;n[i]&&(e+=this.Qd(n[i]))>this.$d&&(e=0,n[i]=Je.ELLIPSIS),n[r]&&(e+=this.Qd(csJSON.stringify(n[r])))>this.$d&&(n[r]=t.truncatedObjectMarker)},t.prototype.ty=function(t){t.queryParameters&&this.Qd(t.queryParameters)>this.Xd&&(t.queryParameters=Je.ELLIPSIS)},t.prototype.ny=function(t){t.requestBody&&this.Qd(t.requestBody)>this.Yd&&(t.requestBody=Je.ELLIPSIS),t.responseBody&&this.Qd(t.responseBody)>this.Wd&&(t.responseBody=Je.ELLIPSIS)},t.prototype.truncate=function(t){this.Tu?(this.ty(t),this.ny(t),this.Zd(t,"customResponseHeaders","plainCustomResponseHeaders"),this.Zd(t,"customRequestHeaders","plainCustomRequestHeaders")):(t.queryParameters="",t.requestBody="",t.responseBody="",t.customResponseHeaders="",t.customRequestHeaders="",t.plainCustomResponseHeaders={},t.plainCustomRequestHeaders={})},t.truncatedObjectMarker=((Wh={})[Je.ELLIPSIS]=Je.ELLIPSIS,Wh),t}();!function(t){t.isValidJSONPath=function(t){if(!t)return!0;if(!function(t){for(var n=[],i=0;i<t.length;++i)if("["===t[i])csArray.prototype.push.call(n,t[i]);else if("]"===t[i]){if(!(csString.prototype.indexOf.call(t,"[")>-1))return!1;csArray.prototype.pop.call(n)}return 0===n.length}(t))return!1;var n=csString.prototype.split.call(t,/[\[\]]/);return csArray.prototype.every.call(n,(function(t){var n=t[0],i=t[t.length-1];if(("'"===n||'"'===n)&&n!==i)return!1;var r=csString.prototype.split.call(t,".");return 0===r[0].length&&csArray.prototype.shift.call(r),csArray.prototype.every.call(r,(function(t){var n=/^\-?\d+$/.exec(t);return n?parseInt(n[0],10)>=0:"$"===t||/\w+/.test(t)}))}))},t.getJSONPathValue=function(t,n){var i,r;if(t){var e=csString.prototype.split.call(t,/[\$\[\]]/),s=[];csArray.prototype.forEach.call(e,(function(t){var n;"'"!==t[0]&&'"'!==t[0]?(n=csArray.prototype.push).call.apply(n,Vn([s],Bn(csArray.prototype.filter.call(csString.prototype.split.call(t,"."),(function(t){return t.length>0}))),!1)):csArray.prototype.push.call(s,csString.prototype.substring.call(t,1,t.length-1))})),"$"===s[0]&&csArray.prototype.shift.call(s);var o=n;try{for(var u=Fn(s),c=u.next();!c.done;c=u.next()){var h=c.value;if(void 0===o[h])return;o=o[h]}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return o}}}(Xh||(Xh={}));var ia,ra=function(){function t(){this.iy=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}return t.prototype.isValidStandardHeader=function(t){return this.iy.has(t)},t}(),ea=function(){function t(){this.ey=64e3,this.sy=100,this.oy={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this.uy=new ra}return t.prototype.hy=function(t){return t.length<=this.ey},t.prototype.ly=function(t){var n=t["content-type"];return void 0!==n&&(hn(n,"application/json")||hn(n,"application/graphql"))},t.prototype.vy=function(t,n){return t&&this.hy(t)&&this.ly(n)},t.prototype.yy=function(t,n,i,r){var e="request"===r?this.wy:this.py;if(void 0!==e||this.vy(n,i)){if(void 0===e)try{e=csJSON.parse(n),"request"===r?this.wy=e:this.py=e}catch(t){return}var s=Xh.getJSONPathValue(t,e);if(void 0!==s&&(null===s||!T(s))){var o=R(s)?s:csJSON.stringify(s);return Je.truncate(o,this.sy,Je.ELLIPSIS)}}},t.prototype.isBodyAttributeValueFound=function(t,n){var i,r;return"request-response"!==n.type&&"response"!==n.type||(i=this.yy(n.path,t.responseBody,t.responseHeaders,"response")),"request-response"!==n.type&&"request"!==n.type||(r=this.yy(n.path,t.requestBody,t.requestHeaders,"request")),N(i)||N(r)},t.prototype.collectBodyAttribute=function(t,n,i){var r;"request-response"!==n.type&&"response"!==n.type||(r=this.yy(n.path,t.responseBody,t.responseHeaders,"response"))&&(n.encrypted?this.oy.responseBodyAttributes[n.path]=r:(r=i(r),this.oy.plainResponseBodyAttributes[n.path]=r)),"request-response"!==n.type&&"request"!==n.type||(r=this.yy(n.path,t.requestBody,t.requestHeaders,"request"))&&(n.encrypted?r&&(this.oy.requestBodyAttributes[n.path]=r):(r=i(r),this.oy.plainRequestBodyAttributes[n.path]=r))},t.prototype.isBodyContentMatching=function(t,n){return!!t.responseBody&&!!new csRegExp(n,"i").test(t.responseBody)},t.prototype.collectBodyContent=function(t){-1===csArray.prototype.indexOf.call(this.oy.matchingBodyContents,t)&&csArray.prototype.push.call(this.oy.matchingBodyContents,t)},t.prototype.collectCustomHeaders=function(t,n,i){var r=csString.prototype.toLocaleLowerCase.call(n.headerName);!t.responseHeaders[r]||"request-response"!==n.type&&"response"!==n.type||(n.encrypted?this.oy.customResponseHeaders[r]=t.responseHeaders[r]:this.oy.plainCustomResponseHeaders[r]=i(t.responseHeaders[r])),!t.requestHeaders[r]||"request-response"!==n.type&&"request"!==n.type||(n.encrypted?this.oy.customRequestHeaders[r]=t.requestHeaders[r]:this.oy.plainCustomRequestHeaders[r]=i(t.requestHeaders[r]))},t.prototype.collectStandardHeaders=function(t){var n,i,r,e;if(!(Object.keys(this.oy.standardRequestHeaders).length>0||Object.keys(this.oy.standardResponseHeaders).length>0)){try{for(var s=bt(Object.entries(t.requestHeaders)),o=s.next();!o.done;o=s.next()){var u=Et(o.value,2),c=u[0],h=u[1];this.uy.isValidStandardHeader(c)&&(this.oy.standardRequestHeaders[c]=h)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}try{for(var a=bt(Object.entries(t.responseHeaders)),f=a.next();!f.done;f=a.next()){var l=Et(f.value,2),v=l[0];h=l[1];this.uy.isValidStandardHeader(v)&&(this.oy.standardResponseHeaders[v]=h)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}},t.prototype.setCollectQueryParam=function(t){t&&(this.oy.collectQueryParam=!0)},t.prototype.setCollectResponseBody=function(t){t&&(this.oy.collectResponseBody=!0)},t.prototype.setCollectRequestBody=function(t){t&&(this.oy.collectRequestBody=!0)},t.prototype.getCollectedDataPoints=function(){return this.oy},t}();!function(t){t.CONTENTSQUARE="contentsquare.net",t.CLICKTALE="clicktale.net",t.FAKE_TRACKER="fake-tracker.content-square.fr"}(ia||(ia={}));var sa,oa=function(){function t(){}return t.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=new Set,r=[];if(this.rules)try{for(var e=bt(this.rules),s=e.next();!s.done;s=e.next()){var o=s.value;void 0!==o.statusCode&&i.add(o.statusCode),void 0!==o.url&&-1===csArray.prototype.indexOf.call(r,o.url)&&csArray.prototype.push.call(r,o.url)}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}var u=[ia.CONTENTSQUARE,ia.CLICKTALE];return csArray.prototype.push.call(u,ia.FAKE_TRACKER),{statusCodes:i,urls:r,excludedDomains:u}},t}(),ua=function(t){function n(n,i){var r=t.call(this)||this;return r.my=n,r.G=i,r.rules=n.collectionRules,r}return yt(n,t),n.prototype.collectDataPoints=function(t,n){var i,r;this.oy=new ea;var e=!1;if(this.my.collectionRules)try{for(var s=bt(this.my.collectionRules),o=s.next();!o.done;o=s.next()){var u=o.value;this.gy(u,t)&&this.Sy(u,t)&&this.by(u,t)&&(e=!0,this.Ey(t,u,n))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return e||(e=this.Ay(t)),e&&n&&this.my.collectStandardHeaders&&this.oy.collectStandardHeaders(t),e?this.oy.getCollectedDataPoints():null},n.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=this.my.collectionRules||[],r=new Set,e=[];try{for(var s=bt(i),o=s.next();!o.done;o=s.next()){var u=o.value;void 0!==u.statusCode&&r.add(u.statusCode),void 0!==u.url&&-1===csArray.prototype.indexOf.call(e,u.url)&&csArray.prototype.push.call(e,u.url)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var c=[ia.CONTENTSQUARE,ia.CLICKTALE];return csArray.prototype.push.call(c,ia.FAKE_TRACKER),{statusCodes:r,urls:e,excludedDomains:c}},n.prototype.gy=function(t,n){return(!t.statusCode&&n.statusCode>=400||void 0!==t.statusCode&&t.statusCode===n.statusCode)&&(!t.url||-1!==csString.prototype.indexOf.call(n.url,t.url))},n.prototype.Sy=function(t,n){return!t.bodyContent||this.oy.isBodyContentMatching(n,t.bodyContent)},n.prototype.by=function(t,n){var i=csArray.prototype.find.call(t.bodyAttributePaths,(function(t){return t.primary}));return void 0===i||this.oy.isBodyAttributeValueFound(n,i)},n.prototype.Ay=function(t){return t.statusCode>=400},n.prototype.Ey=function(t,n,i){var r,e,s,o,u=this;n.bodyContent&&this.oy.collectBodyContent(n.bodyContent);var c=Ai(n.bodyAttributePaths,(function(t){return 1===t.primary}));if(c&&this.oy.collectBodyAttribute(t,c,(function(t){return u.G.anonymizePII(t)})),i){this.oy.setCollectQueryParam(n.collectQueryParam),this.oy.setCollectResponseBody(n.collectResponseBody),this.oy.setCollectRequestBody(n.collectRequestBody);try{for(var h=bt(n.customHeaders),a=h.next();!a.done;a=h.next()){var f=a.value;this.oy.collectCustomHeaders(t,f,(function(t){return u.G.anonymizePII(t)}))}}catch(t){r={error:t}}finally{try{a&&!a.done&&(e=h.return)&&e.call(h)}finally{if(r)throw r.error}}var l=Oi(n.bodyAttributePaths,(function(t){return!t.primary}));try{for(var v=bt(l),d=v.next();!d.done;d=v.next()){var y=d.value;this.oy.collectBodyAttribute(t,y,(function(t){return u.G.anonymizePII(t)}))}}catch(t){s={error:t}}finally{try{d&&!d.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}}},n}(oa),ca=function(t){function n(n,i){var r=t.call(this)||this;return r.my=n,r.G=i,r.rules=n.configurableApiErrorRules,r}return yt(n,t),n.prototype.collectDataPoints=function(t,n){this.oy=new ea;var i=this.Ry(t,this.my.configurableApiErrorRules);return i.isMatching?(i.matchingBodyContents.length>0&&this.oy.collectBodyContent(i.matchingBodyContents[0]),n&&this.Oy(t),this.oy.getCollectedDataPoints()):null},n.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=this.my.configurableApiErrorRules||[],r=new Set,e=[];try{for(var s=bt(i),o=s.next();!o.done;o=s.next()){var u=o.value;void 0!==u.statusCode&&r.add(u.statusCode),void 0!==u.url&&-1===csArray.prototype.indexOf.call(e,u.url)&&csArray.prototype.push.call(e,u.url)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var c=[ia.CONTENTSQUARE,ia.CLICKTALE];return csArray.prototype.push.call(c,ia.FAKE_TRACKER),{statusCodes:r,urls:e,excludedDomains:c}},n.prototype.Ry=function(t,n){var i,r;if(t.statusCode>=400)return{isMatching:!0,matchingBodyContents:[]};if(n)try{for(var e=bt(n),s=e.next();!s.done;s=e.next()){var o=s.value;if(this.Ty(t,o))return{isMatching:!0,matchingBodyContents:o.bodyContent?[o.bodyContent]:[]}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return{isMatching:!1,matchingBodyContents:[]}},n.prototype.Ty=function(t,n){return!(t.statusCode!==n.statusCode||-1===csString.prototype.indexOf.call(t.url,n.url)||n.bodyContent&&!this.oy.isBodyContentMatching(t,n.bodyContent))},n.prototype.Oy=function(t){this.my.collectStandardHeaders&&this.oy.collectStandardHeaders(t),this.my.validCustomHeaders&&this.Ny(t,this.my.validCustomHeaders,Number(!0)),this.my.plainCustomHeaders&&this.Ny(t,this.my.plainCustomHeaders,Number(!1)),this.Nd(t.url,this.my.validUrls)&&(this.my.collectQueryParam&&this.oy.setCollectQueryParam(Number(this.my.collectQueryParam)),this.my.collectResponseBody&&this.oy.setCollectResponseBody(Number(this.my.collectResponseBody)),this.my.collectRequestBody&&this.oy.setCollectRequestBody(Number(this.my.collectRequestBody)))},n.prototype.Ny=function(t,n,i){var r,e,s=this;try{for(var o=bt(n),u=o.next();!u.done;u=o.next()){var c=u.value;this.oy.collectCustomHeaders(t,{headerName:c,encrypted:i,type:"request-response"},(function(t){return s.G.anonymizePII(t)}))}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}},n.prototype.Nd=function(t,n){return!!n&&csArray.prototype.some.call(n,(function(n){return-1!==csString.prototype.indexOf.call(t,n)}))},n}(oa),ha=function(t){function n(n){var i=t.call(this)||this;return i.yu=null,i.ky=null,i.An=null,i.ru=null,i.Cy=["value","checked","src","data","alt"],i.Iy={state:yr.MaskedElementState.Child},i.My=function(t){var n,r;try{for(var e=p(t),s=e.next();!s.done;s=e.next()){var o=s.value;if(yr.isMaskedElement(o.target)||yr.isMaskedElementChild(o.target))for(var u=0;u<o.addedNodes.length;u+=1){var c=o.addedNodes[u];yr.isMaskedElement(c)||yr.isMaskedElementChild(c)||P(c)&&i.xy(c)}for(u=0;u<o.removedNodes.length;u+=1){var h=o.removedNodes[u];le.isConnected(h)||i.Py(h)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},i._y=n,i}return l(n,t),n.prototype.setMaskedElementSettings=function(t){this.Dy=t},n.prototype.startIdentifier=function(){this.isStarted||(this.isStarted=!0,this.onStart())},n.prototype.stopIdentifier=function(){return this.isStarted=!1,this.onStop()},n.prototype.start=function(){},n.prototype.stop=function(){},n.prototype.onStart=function(){var t,n,i,r,e=this;this.Dy||(zn.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.Dy={elementSelector:"",attrSelector:"",attrSelectors:[]});var s=this.Dy,o=s.elementSelector,u=s.attrSelector,c=s.attrSelectors;null!==(t=this.ru)&&void 0!==t||(this.ru=this.Ly()),0!==o.length&&(null!==(n=this.yu)&&void 0!==n||(this.yu=this.Uy()),this.yu.observe(o)),0!==u.length&&(null!==(i=this.ky)&&void 0!==i||(this.ky=this.jy(c)),this.ky.observe(u)),null!==(r=this.An)&&void 0!==r||(this.An=new Ne(this.My,(function(t,n){return"added"===n&&e.qy(t)}))),this.An.observe(),csSetTimeout(this._y)},n.prototype.onStop=function(){var t,n,i;this.yu&&(this.Py(document),this.yu.disconnect()),null===(t=this.ky)||void 0===t||t.disconnect(),null===(n=this.An)||void 0===n||n.disconnect(),null===(i=this.ru)||void 0===i||i.disconnect()},n.prototype.Ly=function(){var t=this;return window.ResizeObserver?new ResizeObserver((function(n){csArray.prototype.forEach.call(n,(function(n){t.resizeObserverCallback(n)}))})):null},n.prototype.Uy=function(){var t=this;return new Zs((function(n){csArray.prototype.forEach.call(n,(function(n){t.Hy(n)?t.xy(n):(t.Fy(n),t.By(n))}))}))},n.prototype.jy=function(t){var n=this;return new Zs((function(i){csArray.prototype.forEach.call(i,(function(i){return n.Vy(i,t)}))}))},n.prototype.resizeObserverCallback=function(t){var n=t.target.getBoundingClientRect(),i=yr.getMaskedElementDetails(t.target);if(i.state===yr.MaskedElementState.Parent&&(n.width!==i.width||n.height!==i.height)){var r={state:yr.MaskedElementState.Parent,width:n.width,height:n.height};yr.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:vr(t.target),width:n.width,height:n.height})}},n.prototype.By=function(t){this.ru&&P(t)&&!F(t)&&this.ru.observe(t)},n.prototype.Hy=function(t){var n=csNodeparentNode.apply(t);return n?yr.isMaskedElement(n)||yr.isMaskedElementChild(n):!!J(t)&&(yr.isMaskedElement(t.host)||yr.isMaskedElementChild(t.host))},n.prototype.qy=function(t){(yr.isMaskedElement(t.host)||yr.isMaskedElementChild(t.host))&&yr.setMaskedElementProperty(t,this.Iy)},n.prototype.Py=function(t){_i(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){yr.unsetMaskedElementProperty(t)}))},n.prototype.Fy=function(t){var n=this,i=t.getBoundingClientRect(),r={state:yr.MaskedElementState.Parent,width:i.width,height:i.height};yr.setMaskedElementProperty(t,r),this.zy(t),_i(t).visitAll((function(i){return i!=t&&yr.setMaskedElementProperty(i,n.Iy)}))},n.prototype.xy=function(t){var n=this;yr.setMaskedElementProperty(t,this.Iy),_i(t).visitAll((function(i){return i!=t&&yr.setMaskedElementProperty(i,n.Iy)}))},n.prototype.zy=function(t){for(var n,i=null!==(n=hr.getProperty(t,yr.maskedAttributeProp))&&void 0!==n?n:{attributes:[]},r=0;r<this.Cy.length;r+=1){var e=this.Cy[r];-1===csArray.prototype.indexOf.call(i.attributes,e)&&csArray.prototype.push.call(i.attributes,e)}0!==i.attributes.length&&yr.setMaskedAttributeProperty(t,i)},n.prototype.Vy=function(t,n){for(var i,r=null!==(i=hr.getProperty(t,yr.maskedAttributeProp))&&void 0!==i?i:{attributes:[]},e=function(i){var e=t.attributes[i].name;-1===csArray.prototype.indexOf.call(r.attributes,e)&&csArray.prototype.some.call(n,(function(n){return csString.prototype.indexOf.call(n.attrName,e)>-1&&nt.call(t,n.selector)}))&&csArray.prototype.push.call(r.attributes,e)},s=0;s<t.attributes.length;s+=1)e(s);0!==r.attributes.length&&yr.setMaskedAttributeProperty(t,r)},d([Gn()],n.prototype,"resizeObserverCallback",null),n}(Ve),aa=function(){function t(){var t=this;this.Gy=0,this.hr=!1,this.Jy="data-cs-capture",this.Yy=function(n){var i,r;try{for(var e=p(n),s=e.next();!s.done;s=e.next()){var o=s.value;if(ps.isWhitelistedElement(o.target))for(var u=0;u<o.addedNodes.length;u+=1){var c=o.addedNodes[u];ps.isWhitelistedElement(c)||P(c)&&t.Wy(c)}for(u=0;u<o.removedNodes.length;u+=1){var h=o.removedNodes[u];le.isConnected(h)||t.Xy(h)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}}return t.prototype.start=function(){this.Gy++,this.hr||(this.hr=!0,this.$y())},t.prototype.$y=function(){var t=this;this.yu||(this.yu=new Zs((function(n){return Ei(n,(function(n){return t.Wy(n)}))})));var n=this.Ky?"[".concat(this.Jy,"], ").concat(this.Ky):"[".concat(this.Jy,"]");this.yu.observe(n),this.An||(this.An=new Ne(this.Yy,(function(n,i){return"added"===i&&t.Qy(n)}))),this.An.observe()},t.prototype.stop=function(){this.hr&&(this.Gy--,0===this.Gy&&(this.hr=!1,this.Zy()))},t.prototype.Zy=function(){this.yu&&(this.Xy(document),this.yu.disconnect()),this.An&&this.An.disconnect()},t.prototype.setWhitelistedElementsSelector=function(t){wr(t)&&(this.Ky=t)},t.prototype.getWhitelistedElementsSelector=function(){return this.Ky},t.prototype.Wy=function(t){_i(t).visitAll((function(t){ps.whitelistElement(t)}))},t.prototype.Qy=function(t){ps.isWhitelistedElement(t.host)&&ps.whitelistElement(t)},t.prototype.Xy=function(t){_i(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){ps.removeWhitelistElement(t)}))},t}(),fa=function(){function t(t,n,i,r,e){this.qh=t,this.tw=n,this.nw=i,this.iw=r,this.Br=e}return t.prototype.getSensitiveStatus=function(){var t,n;return{started:this.nw.isStarted,useAnonymization:this.qh.shouldUseAnonymization(),capturedElementSelector:this.iw.getWhitelistedElementsSelector(),maskedElementSettings:this.tw.getMaskedElementSettings(null===(t=this.qh)||void 0===t?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:null===(n=this.Br)||void 0===n?void 0:n.getEncryptionSelectors()}},t.prototype.getElementSensitiveStatus=function(t){var n=this.nw.isStarted,i=this.qh.shouldUseAnonymization();return n?yr.isMaskedElement(t)||yr.isMaskedElementChild(t)?Lc.MASKED:Us.shouldEncrypt(t)?Lc.ENCRYPTED:i?ps.isWhitelistedElement(t)?Lc.CAPTURED:Lc.ANONYMIZED:Lc.CAPTURED:Lc.ANONYMIZED},t}(),la=["setEncryptionSelectors"],va=["setPIISelectors"],da=["setCapturedElementsSelector"],ya=function(){function t(t,n,i,r,e,s,o){this.Fc=t,this.xh=n,this.tw=i,this.nw=r,this.iw=e,this.Br=s,this.rw=o}return t.prototype.init=function(){var t,n;this.rw&&this.Br&&(null===(t=this.rw)||void 0===t||t.addSelector(null===(n=this.Br)||void 0===n?void 0:n.getEncryptionSelectors())),this.sd()},t.prototype.onStartTracking=function(t){this.nw.start(),this.Fc.emitSensitiveStatusChange()},t.prototype.onBeforeArtificialPageView=function(){this.nw.stop(),this.Fc.emitSensitiveStatusChange()},t.prototype.onAfterArtificialPageView=function(){this.nw.start(),this.Fc.emitSensitiveStatusChange()},t.prototype.onBeforeSessionRenewal=function(){this.nw.stop(),this.Fc.emitSensitiveStatusChange()},t.prototype.onOptout=function(){this.nw.stop(),this.Fc.emitSensitiveStatusChange()},t.prototype.onReplayUnanonymizationConsentGranted=function(){this.Fc.emitSensitiveStatusChange()},t.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.Fc.emitSensitiveStatusChange()},t.prototype.sd=function(){var t=this;this.xh.register(va,(function(n){t.tw.setMaskedElementSettingsFromCommand(n),t.Fc.emitSensitiveStatusChange()})),this.xh.register(da,(function(n){t.iw.setWhitelistedElementsSelector(n),t.Fc.emitSensitiveStatusChange()})),this.xh.register(la,(function(n){var i,r;null===(i=t.Br)||void 0===i||i.setEncryptionSelectors(n),null===(r=t.rw)||void 0===r||r.addSelector(n)}))},t}(),wa=function(t){function n(n,i,r,e,s){var o=t.call(this)||this;return o.Ph=n,o.tw=i,o.iw=r,o.rw=e,o.qh=s,o}return yt(n,t),n.prototype.onStart=function(){var t,n;this.iw.start(),this.Ph.setMaskedElementSettings(this.tw.getMaskedElementSettings(null===(t=this.qh)||void 0===t?void 0:t.shouldMaskNonTextElements())),this.Ph.startIdentifier(),null===(n=this.rw)||void 0===n||n.start()},n.prototype.onStop=function(){var t;this.iw.stop(),this.Ph.stopIdentifier(),null===(t=this.rw)||void 0===t||t.stop()},n}(Ar),pa=["networkRequest:maskUrls"],ma=["networkRequest:maskUrls:reset"],ga=function(){function t(t,n){this.ew=t,this._h=n}return t.prototype.init=function(){var t=this;this.ew.register(pa,(function(n){var i,r;if(R(n))t._h.addPartialUrlMaskingPattern(n);else if(csArray.isArray(n))try{for(var e=bt(n),s=e.next();!s.done;s=e.next()){var o=s.value;R(o)&&t._h.addPartialUrlMaskingPattern(o)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}})),this.ew.register(ma,(function(){return t._h.resetPartialUrlMaskingPatterns()}))},t}();!function(t){var n=86400;function i(t,i){var s=function(t,i){"date"!==t.rule_type||"less_than"!==t.match_operation&&"greater_than"!==t.match_operation||(i=(new csDate(i).valueOf()/1e3).toFixed(0));switch(t.match_operation){case"exact":switch(t.rule_type){case"string":return!!R(t.pattern)&&csString.prototype.toLowerCase.call(i)===csString.prototype.toLowerCase.call(t.pattern);case"boolean":return i===t.pattern||i===csString(t.pattern);case"number":return!!k(i)&&Number(i)===Number(t.pattern);default:return i===t.pattern}case"starts_with":return!!R(t.pattern)&&0===csString.prototype.indexOf.call(i,t.pattern);case"ends_with":return!!R(t.pattern)&&an(i,t.pattern);case"contains":return!!R(t.pattern)&&-1!==csString.prototype.indexOf.call(i,t.pattern);case"regex":if(!R(t.pattern))return!1;try{return new csRegExp(t.pattern).test(i)}catch(t){return Pn.warn("targeting.matchOperation.regex invalid ".concat(null==t?void 0:t.message)),!1}case"simple":return!!R(t.pattern)&&e(i)===e(t.pattern);case"greater_than":return Number(i)>Number(t.pattern);case"less_than":return Number(i)<Number(t.pattern);case"exact_date":var s=Number(t.pattern);if(!E(s))return!1;var o=new csDate(1e3*s);return new csDate(i).toDateString()===o.toDateString();case"exact_days_ago":return r(t,i);case"more_than_days_ago":return function(t,i){var r=Number(t.pattern);if(!E(r))return!1;var e=(new csDate).getTime()/1e3,s=Number(r)+1,o=e-n*s;return new csDate(i).getTime()/1e3<=o}(t,i);case"less_than_days_ago":return function(t,i){var e=Number(t.pattern);if(!E(e))return!1;if(0===e)return r(t,i);var s=(new csDate).getTime()/1e3-n*e;return new csDate(i).getTime()/1e3>=s}(t,i);case"unknown":return function(t){if(!k(t))return!0;if(R(t))return""===csString.prototype.trim.call(t);if(O(t))return!0===t;if(E(t))return 0!==t;return!1}(i);default:return Pn.warn("targeting.matchOperation.regex not managed operation ".concat(t.match_operation)),!1}}(t,i);return t.negate?!s:s}function r(t,n){var i=new csDate,r=i.setDate(i.getDate()-Number(t.pattern)),e=new csDate(r);return new csDate(n).toDateString()===e.toDateString()}function e(t){var n=Rn(hn(t,"http://")||hn(t,"https://")?t:"https://".concat(t));return null!==n?csString.prototype.replace.call(n.host,/^www./,""):t}t.isUrlMatching=function(t,n){var r,e;try{for(var s=bt(t),o=s.next();!o.done;o=s.next()){if(i(o.value,n))return!0}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return!1},t.isMatching=function(t,n){var r,e,s,o;if(R(n))try{for(var u=bt(t),c=u.next();!c.done;c=u.next()){if(i(c.value,n))return!0}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}else if(O(n))try{for(var h=bt(t),a=h.next();!a.done;a=h.next()){if(i(a.value,csString(n)))return!0}}catch(t){s={error:t}}finally{try{a&&!a.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}return!1}}(sa||(sa={}));var Sa,ba=function(){function t(){this.ow=[],this.uw=[]}return t.prototype.setTargetingRules=function(t){var n,i;try{for(var r=bt(t),e=r.next();!e.done;e=r.next()){var s=e.value;"url"===s.component?csArray.prototype.push.call(this.ow,s):"trigger"===s.component&&csArray.prototype.push.call(this.uw,s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.matchUrl=function(t){return sa.isUrlMatching(this.ow,t)},t.prototype.matchTrigger=function(t){return sa.isMatching(this.uw,t)},t}(),Ea=function(t){function n(n,i,r){var e=t.call(this)||this;return e.hw=n,e.aw=i,e.vt=r,e}return yt(n,t),n.prototype.init=function(){this.fw=new ba,this.hw&&this.fw.setTargetingRules(this.hw)},n.prototype.onStart=function(){},n.prototype.checkInitialUrlTargetingRules=function(){var t=this.vt.getAnonymizedUrl();this.lw(t,"url")&&this.aw()},n.prototype.onStop=function(){},n.prototype.onTargetingRulesArtificialPageview=function(t){this.isStarted&&this.lw(t,"url")&&this.aw()},n.prototype.onExternalEvent=function(t){this.isStarted&&this.lw(t.name,"trigger")&&this.aw()},n.prototype.lw=function(t,n){var i,r;return!("url"!==n||!R(t)||!(null===(i=this.fw)||void 0===i?void 0:i.matchUrl(t)))||!("trigger"!==n||!(null===(r=this.fw)||void 0===r?void 0:r.matchTrigger(t)))},n}(Ar),Aa=function(){function t(t,n,i,r,e,s){this.hw=t,this.yw=n,this.Fc=i,this.pw=r,this.el=e,this.vt=s}return t.prototype.init=function(){this.mw=new Ea(this.hw,this.yw,this.vt),this.el.addListener(this.mw),this.mw.init()},t.prototype.start=function(){this.mw.start()},t.prototype.stop=function(){this.mw.stop()},t.prototype.checkInitialUrlTargetingRules=function(){this.mw.checkInitialUrlTargetingRules()},t.prototype.emitTargetingCollectState=function(){var t=this.pw.getInitialCollectState();t===Cr.ANALYTICS_ONLY?this.Fc.emitCollectStateChange(Cr.ANALYTICS_ONLY_RULES_TARGETING,Ir.ETR_OFF):t===Cr.RECORDING_GLOBAL_SAMPLING&&this.Fc.emitCollectStateChange(Cr.RECORDING_RULES_TARGETING,Ir.ETR_OFF)},t}(),Ra=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,E,A,R,O,T,N,k){var C=this;this.fh=t,this.Aa=n,this.it=i,this.et=r,this.Fc=e,this.xh=s,this.gw=o,this.V=u,this.Sw=c,this.bw=h,this.Ew=a,this.Nl=f,this.G=l,this.Mf=v,this.Jo=d,this.vt=y,this.Aw=w,this.el=p,this.da=m,this.mn=g,this.Rw=S,this.Uh=b,this.Ow=E,this.Ts=A,this.jh=R,this.Tw=O,this.Nw=T,this.pw=N,this.tw=k,this.kw=function(t){void 0===t&&(t=!1);var n=C.et.getSession();null===n?(C.Cw=new Aa(C.V.recordTargetingRules,C.Iw,C.Fc,C.pw,C.el,C.vt),C.Cw.init(),C.Cw.start()):n.collectState!==Cr.RECORDING_RULES_TARGETING&&n.collectState!==Cr.ANALYTICS_ONLY_RULES_TARGETING||C.Iw(t)},this.Iw=function(t){void 0===t&&(t=!1),C.Mw.onLoad((function(){var n,i;null===(n=C.Cw)||void 0===n||n.emitTargetingCollectState(),null===(i=C.Cw)||void 0===i||i.stop(),C.Fc.emitStartTracking(t)})),C.xw(t)},this.xw=function(t){void 0===t&&(t=!1),C.bw.isActive()||(C.tw.init(),C.Pw.start(t),C.Mw.start())},this._w=function(){C.Fc.emitBeforeSessionRenewal(),C.Dw(!0),C.Fc.emitAfterSessionRenewal()},this.Lw=function(){C.pw.refreshQuota(),C.pw.onQuotaReady((function(t){t!==Cr.QUOTA_REACHED&&(C.Fc.emitBeforeSessionRenewal(),C.Dw(!0),C.Fc.emitAfterSessionRenewal())}))}}return t.prototype.start=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p=this;(this.Sw.init(),this.bw.init(),this.bw.isActive())||(this.Ts.schedule((function(){a=new dh(p.et,p.it),v=new Yh(a),h=new sh(p.Mf),f=new ha((function(){})),d=new aa;var m=new wa(f,p.tw,d,w,p.Uw());l=new fa(p.Uw(),p.tw,m,d,y);var g=new ya(p.Fc,p.xh,p.tw,m,d,y,w);g.init(),p.Fc.addListener(g),t=new Bc(p.V,p.fh,p.it,p.Mf,h,p.xh,a,new Dh(Pn),p.da,p.jh,p.el,l),n=new yu(p.xh,p.et,p.V,p.fh,p.Aa,p.G),c=new jh(l);var S=new Ih(p.V);(u=new Ch(p.V,S,c,l,p.da)).init();var b=new Jh;i=new au(p.it,p.et,p.xh,p.da,S,p.V,b,c),r=new Ru(p.V,p.fh,p.it,p.xh,p.G,a,p.vt),p.Pw=new eh(p.V,p.xh,p.Fc,p.fh,p.it,p.et,p.Nl,p.mn,p.Jo,p.vt,p.Uh,b,p.el,p.kl,undefined),p.jw=new vh(p.V,p.it,p.et,p.xh),e=new Oh(p.V,p.xh,p.Aa,p.fh,p.el),s=new kh(p.xh),o=new Uh(p.V,new vn(p.V,p.G),p.jh),p.Mw=new oh})),this.V.apiErrors.enabled&&this.Ts.schedule((function(){p._h=new Kc,p.qw=new ga(p.xh,p._h),p.qw.init()})),this.V.apiErrors.enabled&&this.Ts.schedule((function(){var t,n;n=(null===(t=p.V.apiErrors.collectionRules)||void 0===t?void 0:t.length)?new ua(p.V.apiErrors,p.G):new ca(p.V.apiErrors,p.G),p.Hr=new xh(new Zh,new ta,n),p.Fr=new Ph(p._h,p.Jo),p.$r=new na;var i=new Bh(p.Hr,p.Fr,p.V,p.fh,p.da,p.xh,p.jh);i.init(),p.Fc.addListener(i)})),this.V.jsErrorsEnabled&&this.Ts.schedule((function(){p.od=new Nh,p.qr=new _h(p.G,p.vt);var t=new Gh(p.od,p.qr,p.V,p.fh,p.da,p.xh,p.el,p.vt,p.jh);t.init(),p.Fc.addListener(t)})),this.Ts.schedule((function(){p.Ew.init()})),this.Ts.schedule((function(){i.init()})),this.Ts.schedule((function(){n.init()})),this.Ts.schedule((function(){r.init()})),this.Ts.schedule((function(){p.Rw.init()})),this.Ts.schedule((function(){p.Pw.init()})),this.Ts.schedule((function(){p.jw.init()})),this.Ts.schedule((function(){e.init()})),this.Ts.schedule((function(){p.Aw.init()})),this.Ts.schedule((function(){s.init()})),this.Ts.schedule((function(){o.init()})),this.Ts.schedule((function(){p.Ow.init()})),this.Ts.schedule((function(){p.Fc.addListener(p.jw),p.Fc.addListener(p.gw),p.Fc.addListener(t),p.Fc.addListener(p.Ew),p.Fc.addListener(i),p.Fc.addListener(r),p.Fc.addListener(p.Rw),p.Fc.addListener(p.Pw),p.Fc.addListener(e),p.Fc.addListener(n),p.Fc.addListener(u),p.Fc.addListener(o),p.Fc.addListener(v)})),qh.isRecordingSupported()&&this.Ts.schedule((function(){var t=new Ko(c,p.et,p.V,p.fh,p.xh,p.G,a,f,p.qr,p.Hr,p.Fr,p._h,p.Fc,p.el,p.da,p.Uh,p.jh,p.Jo,p.$r,p.Uw(),p.Hw,y);t.init(),p.Fc.addListener(t),i.setRecordingService(t.recordingService)})),this.Ts.schedule((function(){t.init()})),this.Ts.schedule((function(){p.V.isQuotaEnabled()?a.onSessionExpired((function(){p.Lw()})):a.onSessionExpired((function(){p._w()})),p.Dw()})))},t.prototype.Dw=function(t){var n=this;if(void 0===t&&(t=!1),this.V.hasTargetingRules())return this.kw(t),this.xh.start(),void(this.Cw&&this.Cw.checkInitialUrlTargetingRules());this.xh.start(),this.Mw.onLoad((function(){n.Fc.emitStartTracking(t)})),yh(this.V)&&!t||this.xw(t)},t.prototype.Uw=function(){if(this.qh)return this.qh;var t=new Kh;return this.qh=new $h(this.Nl,this.V,this.vt,t),this.qh.init(),this.qh},t}(),Oa=function(){function t(t,n,i,r,e,s,o,u){this.V=t,this.it=n,this.wn=i,this.Fw=r,this.Bw=e,this.Vw=s,this.zw=o,this.Gw=u}return t.prototype.compute=function(t){var n,i,r=this;this.V.crossDomainTracking&&!this.V.cookielessTrackingEnabled?this.V.crossDomainSingleIframeTracking?null===(n=this.zw)||void 0===n||n.start((function(){return r.Jw(t)})):null===(i=this.Vw)||void 0===i||i.applyUpToDate((function(){return r.Jw(t)})):this.Jw(t)},t.prototype.Jw=function(t){this.Bw.handle(),this.Fw.clear(),this.Yw()?(this.Fw.restoreClearedVisitor(),t(!0)):(this.wn.exclude(this.V),t(!1))},t.prototype.Yw=function(){var t=kt.boolean(this.V.sampleRate);return this.Gw.isForceIncluded()||!this.wn.isExcluded()&&this.it.doesVisitorExist()||!this.wn.isExcluded()&&t},t}();!function(t){t.generate=function(){var t=navigator.userAgent+navigator.language+navigator.platform,n=csString.prototype.slice.call(function(t){for(var n=0,i=0;i<t.length;i+=1)n=csString.prototype.charCodeAt.call(t,i)+(n<<6)+(n<<16)-n;return Math.abs(n)}(t).toString(16),-4),i=(new csDate).getTime(),r="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===t?n:7&n|8).toString(16)}));return csString.prototype.replace.call(r,"hhhh",n)}}(Sa||(Sa={}));var Ta,Na=function(){function t(t,n,i,r){this.V=t,this.Ww=n,this.et=i,this.Fc=r,this.Xw=1e4}return t.prototype.createOrUpdateVisitor=function(){var t=this.getVisitor();null===t&&(t=this.$w(),this.et.removeSession()),this.Kw(t),this.setVisitor(t)},t.prototype.$w=function(){return{id:Sa.generate(),visitsCount:0,appliedTrackingDraw:this.V.lastTrackingDraw,creationTimestamp:on(),lastVisitTimestamp:0,hitTimestamp:0,expires:en()+this.V.visitorCookieTimeout,allowSubdomains:this.V.allowSubdomains,identityPrint:null}},t.prototype.Kw=function(t){var n=on();this.et.doesSessionExist()||(t.visitsCount+=1,t.lastVisitTimestamp=n),t.hitTimestamp=n,t.appliedTrackingDraw=this.V.lastTrackingDraw,this.Qw=t.visitsCount},t.prototype.getRequestParameters=function(){var t=this.getVisitor();return t?{uu:t.id,sn:"".concat(t.visitsCount),hd:"".concat(t.hitTimestamp)}:{}},t.prototype.getVisitor=function(){return this.Ww.get()},t.prototype.setVisitor=function(t){this.Ww.set(t)},t.prototype.doesVisitorExist=function(){return null!==this.Ww.get()},t.prototype.resetVisitor=function(){this.Zw(),this.Fc.emitAfterVisitorCleared()},t.prototype.removeVisitor=function(){this.Ww.remove()},t.prototype.hasAllowSubdomainsChanged=function(){var t=this.getVisitor();return!!t&&t.allowSubdomains!==this.V.allowSubdomains},t.prototype.handleSubdomainChange=function(){this.Ww.handleSubdomainChange()},t.prototype.isSessionRenewed=function(){var t=this.getVisitor();return null!==t&&void 0!==this.Qw&&t.visitsCount!==this.Qw},t.prototype.tp=function(){return!N(this.np)||en()-this.np>this.Xw},t.prototype.renewVisitor=function(){this.tp()?(this.np=en(),this.Zw(),this.Fc.emitAfterVisitorRenewal()):Pn.warn("session:start:newVisitor is trying to renew visitor under time limit")},t.prototype.Zw=function(){this.Fc.emitBeforeVisitorRenewal(),this.removeVisitor()},t}(),ka="_cs_s",Ca=18e5,Ia=/^(\d+\.[01356789TBWX](\.[01])?(\.[39])?)(\.\d+)?$/,Ma=".";!function(t){t[t.NOT_FOUND=0]="NOT_FOUND",t[t.EXPIRED=1]="EXPIRED",t[t.FOUND=2]="FOUND"}(Ta||(Ta={}));var xa,Pa=function(){function t(t,n,i){this.V=t,this.Tw=n,this.ip=i,this.Qs=null,this.rp=!1}return t.prototype.get=function(n){var i=this.getRawSession(n);return this.isValid(i)?t.fromString(i):null},t.prototype.getRawSession=function(n){if(n){var i=this.ep();return t.sp(i)}var r=this.op(),e=r.sessionString,s=r.status,o=t.sp(e);if(s!==Ta.EXPIRED)return o;if(this.V.cookielessTrackingEnabled)return null;var u=this.ep();if(!u)return null;var c=csString.prototype.split.call(u,Ma);if(!t.up(c))return u;var h=c[c.length-1],a=parseInt(h,10);return isNaN(a)||this.cp(a),o},t.prototype.onCookieToSet=function(t){this.hp=t},t.prototype.onCookieToRemove=function(t){this.ap=t},t.prototype.set=function(t,n){var i;void 0===n&&(n=Ca);var r=en()+n,e=this.toString(t);e+="".concat(Ma).concat(r),this.fp(e,r),this.V.cookielessTrackingEnabled?this.ip.setItem(ka,e):(this.Tw.set(ka,e,n),null===(i=this.hp)||void 0===i||i.call(this,ka,e,n))},t.prototype.remove=function(){var t;this.V.cookielessTrackingEnabled?this.ip.removeItem(ka):(this.Tw.delete(ka),null===(t=this.ap)||void 0===t||t.call(this,ka)),this.lp()},t.prototype.handleSubdomainChange=function(){if(!this.V.cookielessTrackingEnabled){var t=this.get(!0);t&&(this.V.allowSubdomains?this.Tw.delete(ka,fi.CURRENT_DOMAIN):this.Tw.delete(ka,this.Tw.getRootDomain()),this.set(t))}},t.prototype.isValid=function(n){return null!==n&&t.isValidSessionString(n)},t.prototype.toString=function(t){return csArray.prototype.join.call([t.pageNumber,t.collectState,t.etrState,t.etrStatus],Ma)},t.prototype.fp=function(t,n){this.Qs={sessionString:t,expires:n}},t.prototype.op=function(){return this.Qs?this.Qs&&en()<=this.Qs.expires?{sessionString:this.Qs.sessionString,status:Ta.FOUND}:{sessionString:this.Qs.sessionString,status:Ta.EXPIRED}:{sessionString:this.ep(),status:Ta.NOT_FOUND}},t.prototype.lp=function(){this.Qs=null},t.prototype.cp=function(t){this.Qs&&(this.Qs.expires=t,this.rp=!0)},t.prototype.isCacheRefreshed=function(){return this.rp},t.prototype.resetCacheRefreshed=function(){this.rp=!1},t.prototype.ep=function(){if(this.V.cookielessTrackingEnabled){var t=this.ip.getItem(ka);return!t||this.vp(t)?null:t}var n=this.Tw.get(ka);return!n||this.vp(n)?null:n},t.prototype.vp=function(n){var i=csString.prototype.split.call(n,Ma);if(!t.up(i))return!1;var r=parseInt(i[i.length-1],10);return!isNaN(r)&&en()>r},t.up=function(t){return 13===t[t.length-1].length},t.sp=function(t){var n;if(!t)return null;var i=null===(n=csString.prototype.match.call(t,Ia))||void 0===n?void 0:n[1];return null!=i?i:null},t.fromRawString=function(n){var i=t.sp(n);return null!==i?t.fromString(i):null},t.fromString=function(t){var n,i,r=Et(csString.prototype.split.call(t,Ma),4),e=r[0],s=r[1],o=r[2],u=r[3];return{collectState:s,etrState:null!==(n=o)&&void 0!==n?n:Ir.ETR_OFF,etrStatus:null!==(i=u)&&void 0!==i?i:xr.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}},t.isValidSessionString=function(t){return Ia.test(t)},t}();!function(t){t[t.NO=0]="NO",t[t.WITHDRAWN=1]="WITHDRAWN",t[t.GRANTED=2]="GRANTED"}(xa||(xa={}));var _a,Da=function(){function t(t,n){this.dp=t,this.pw=n,this.yp=null,this.wp=0,this.pp=xa.NO}return t.prototype.setDynamicVariablesService=function(t){this.mp=t},t.prototype.createOrUpdateSession=function(){this.gp(),this.Sp=en(),this.wp=0;var t=this.bp();null===t?(t=this.Ep(),this.Ap(t),this.Rp(t)):(t=this.pw.sanitizeSessionCollectState(t),this.Ap(t),t.collectState=this.pw.getEligibleCollectState(t)),this.setSession(t)},t.prototype.grantReplayRecording=function(t){t.collectState=this.pw.getInitialCollectState(),t.collectState=this.pw.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)},t.prototype.grantReplayRecordingBeforeSessionStart=function(){this.pp=xa.GRANTED},t.prototype.withdrawnReplayRecording=function(t){t.collectState=this.pw.getRecordingConsentWithdrawn(),this.setSession(t)},t.prototype.withdrawnReplayRecordingBeforeSessionStart=function(){this.pp=xa.WITHDRAWN},t.prototype.Rp=function(t){this.pp===xa.WITHDRAWN?(t.collectState=this.pw.getRecordingConsentWithdrawn(),this.setSession(t)):this.pp===xa.GRANTED?t.collectState=this.pw.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.pw.computeInitialCollectState(t),this.pp=xa.NO},t.prototype.Ep=function(){return{pageNumber:0,collectState:this.pw.getInitialCollectState(),etrState:Ir.ETR_OFF,etrStatus:xr.ETR_NOT_SAVED_SESSION}},t.prototype.Ap=function(t){t.pageNumber+=1},t.prototype.isReplayRecorded=function(){var t=this.getSession();return!!t&&this.pw.isReplayRecorded(t)},t.prototype.isTemporarilyRecorded=function(){var t=this.getSession();return(null==t?void 0:t.collectState)===Cr.RECORDING_TEMPORARILY},t.prototype.abortQuotaServiceRequest=function(){this.pw.abortQuotaServiceRequest()},t.prototype.getRequestParameters=function(){var t={},n=this.getSession();return null!==n&&(t.pn="".concat(n.pageNumber)),t},t.prototype.getSession=function(){return this.dp.get()},t.prototype.bp=function(){return this.dp.get(!0)},t.prototype.doesSessionExist=function(){return null!==this.dp.get()},t.prototype.setSession=function(t){this.dp.set(t)},t.prototype.refreshSession=function(){var t=this.bp();t&&this.setSession(t)},t.prototype.removeSession=function(){this.dp.remove()},t.prototype.getCollectStates=function(){var t=this.getSession(),n=[];return t&&(t.collectState!==Cr.ANALYTICS_ONLY&&csArray.prototype.push.call(n,t.collectState===Cr.RECORDING_RULES_TARGETING?Cr.RECORDING_GLOBAL_SAMPLING:t.collectState),t.etrState===Ir.ETR_ON&&csArray.prototype.push.call(n,Cr.RECORDING_ETR_SAMPLING)),n},t.prototype.updateCollectState=function(t,n){var i=this.getSession();null!==i&&(i.collectState=t,i.etrState=n,this.setSession(i))},t.prototype.hasValidSession=function(){var t=this.dp.getRawSession();return this.dp.isValid(t)},t.prototype.handleSubdomainChange=function(){this.dp.handleSubdomainChange()},t.prototype.pollCacheRefreshEvent=function(t){void 0===t&&(t=!0);var n=this.dp.isCacheRefreshed();return n&&t&&this.dp.resetCacheRefreshed(),n},t.prototype.extendSessionPeriodically=function(){this.yp||this.Op()},t.prototype.extendSession=function(){var t=this.getSession();return null===t?(Pn.warn("extendSession is trying to extend an expired session"),this.gp(),!1):(this.dp.set(t,Ca),!0)},t.prototype.Op=function(){this.Tp()?this.gp():this.extendSession()&&(this.Np(),this.kp())},t.prototype.kp=function(){var t=this;this.yp=window.csSetTimeout((function(){t.Op()}),174e4)},t.prototype.Tp=function(){return 1434e4-(en()+Ca-this.Sp)<0},t.prototype.gp=function(){this.yp&&(window.csClearTimeout(this.yp),this.yp=null)},t.prototype.Np=function(){this.wp+=1,this.mp.trackDynamicVariable("session_expiry_update",this.wp)},t}(),La=function(){function t(t,n,i){this.V=t,this.it=n,this.wn=i}return t.prototype.clear=function(){this.Cp()&&(this.Ip=this.it.getVisitor(),this.it.removeVisitor()),this.Mp()&&this.wn.removeExclusion()},t.prototype.Cp=function(){return this.it.doesVisitorExist()&&this.it.getVisitor().appliedTrackingDraw!==this.V.lastTrackingDraw},t.prototype.Mp=function(){return this.wn.getAppliedTrackingDraw()!==this.V.lastTrackingDraw},t.prototype.restoreClearedVisitor=function(){this.Ip&&this.it.setVisitor(this.Ip)},t}(),Ua=function(){function t(t,n,i){this.it=t,this.et=n,this.xp=i}return t.prototype.handle=function(){this.it.hasAllowSubdomainsChanged()&&(this.it.handleSubdomainChange(),this.et.handleSubdomainChange(),this.xp.handleSubdomainChange())},t}(),ja="_cs_c";!function(t){t[t.NOT_REQUIRED=0]="NOT_REQUIRED",t[t.NOT_EXPRESSED=1]="NOT_EXPRESSED",t[t.GRANTED=2]="GRANTED",t[t.WITHDRAWN=3]="WITHDRAWN"}(_a||(_a={}));var qa,Ha=function(){function t(t,n,i){this.V=t,this.Tw=n,this.Nw=i}return t.prototype.get=function(){var t;return null===(t=this.V.cookielessTrackingEnabled?this.Nw.getItem(ja):this.Tw.get(ja))?t:Number(t)},t.prototype.set=function(t){this.V.cookielessTrackingEnabled?this.Nw.setItem(ja,csString(t)):this.Tw.set(ja,csString(t),Nt)},t.prototype.remove=function(){this.V.cookielessTrackingEnabled?this.Nw.removeItem(ja):this.Tw.delete(ja)},t.prototype.handleSubdomainChange=function(){this.V.cookielessTrackingEnabled||(this.V.allowSubdomains?this.Tw.delete(ja,fi.CURRENT_DOMAIN):this.Tw.delete(ja,this.Tw.getRootDomain()))},t}(),Fa=function(){function t(t,n,i){this.V=t,this.et=n,this.Fc=i}return t.prototype.grantReplayConsent=function(){if(zo.isReplayConsentNeeded(this.V)){var t=this.et.getSession();t?zo.isRecordingBlockedByConsent(t)&&(this.et.grantReplayRecording(t),this.Fc.emitAfterReplayRecordingConsentGranted()):this.et.grantReplayRecordingBeforeSessionStart()}},t.prototype.withdrawReplayConsent=function(){if(zo.isReplayConsentNeeded(this.V)){var t=this.et.getSession();t?zo.isRecordingWithDrawn(t)||(this.et.withdrawnReplayRecording(t),this.Fc.emitAfterReplayRecordingConsentWithdrawn()):this.et.withdrawnReplayRecordingBeforeSessionStart()}},t}(),Ba=["replay:consent:unanonymized:granted","trackConsentGranted"],Va=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],za=["replay:consent:startForSession:granted"],Ga=["replay:consent:startForSession:withdrawn"],Ja=function(){function t(t,n,i,r,e){this.V=t,this.xh=n,this.Nl=i,this.et=r,this.Fc=e}return t.prototype.init=function(){this.Pp=new Fa(this.V,this.et,this.Fc),this.Nl.setInitialConsent(),this.sd()},t.prototype.sd=function(){var t=this;this.xh.register(Ba,(function(){t.Nl.grantReplayAnonymizationConsent()})),this.xh.register(Va,(function(){t.Nl.withdrawReplayAnonymizationConsent()})),this.xh.register(za,(function(){t.Pp.grantReplayConsent()})),this.xh.register(Ga,(function(){t.Pp.withdrawReplayConsent()}))},t.prototype.onOptout=function(){this.Nl.removeAllConsents()},t.prototype.onBeforeVisitorRenewal=function(){this.Nl.removeAllConsents()},t.prototype.onAfterVisitorRenewal=function(){this.Nl.setInitialConsent()},t.prototype.onAfterVisitorCleared=function(){this.Nl.setInitialConsent()},t}(),Ya=function(){function t(t,n,i){this.V=t,this.Ww=n,this.Fc=i}return t.prototype.setInitialConsent=function(){var t=this.Ww.get();(null===t||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()},t.prototype.hasConsentRequiredChanged=function(t){var n=this.V.consentRequired;return n&&t===_a.NOT_REQUIRED||!n&&t!==_a.NOT_REQUIRED},t.prototype.handleSubdomainChange=function(){this.Ww.handleSubdomainChange()},t.prototype.setDefaultReplayAnonymization=function(){var t=this.V.consentRequired?_a.NOT_EXPRESSED:_a.NOT_REQUIRED;this.Ww.set(t)},t.prototype.grantReplayAnonymizationConsent=function(){this.V.consentRequired&&(this.Ww.set(_a.GRANTED),this.Fc.emitReplayUnanonymizationConsentGranted())},t.prototype.withdrawReplayAnonymizationConsent=function(){this.V.consentRequired&&(this.Ww.set(_a.WITHDRAWN),this.Fc.emitReplayUnanonymizationConsentWithdrawn())},t.prototype.removeAllConsents=function(){this.Ww.remove()},t.prototype.isReplayUnanonymizedAllowedByConsent=function(){return!this.V.consentRequired||this.Ww.get()===_a.GRANTED},t.prototype.getRequestParameters=function(){return{uc:"".concat(this.Ww.get())}},t}(),Wa=function(){function t(t,n,i,r,e,s,o){this.Fc=t,this.xh=n,this.gw=i,this.Sw=r,this.bw=e,this._p=s,this.Ew=o}return t.prototype.start=function(){this.Fc.addListener(this._p),this.Fc.addListener(this.Ew),this.Fc.addListener(this.gw),this.Ew.init(),this.Sw.init(),this.bw.init(),this.bw.isActive()||this.xh.start()},t}(),Xa="_cs_ex",$a=2592e6,Ka=/^[0-9]+$/,Qa=function(){function t(t,n,i){this.V=t,this.Tw=n,this.ip=i}return t.prototype.onCookieToSet=function(t){this.hp=t},t.prototype.onCookieToRemove=function(t){this.ap=t},t.prototype.get=function(){return this.V.cookielessTrackingEnabled?Number(this.ip.getItem(Xa)):Number(this.Tw.get(Xa))},t.prototype.set=function(t){var n;this.V.cookielessTrackingEnabled?this.ip.setItem(Xa,t):(this.Tw.set(Xa,t,$a),null===(n=this.hp)||void 0===n||n.call(this,Xa,t,$a))},t.prototype.remove=function(){var t;this.V.cookielessTrackingEnabled?this.ip.removeItem(Xa):(this.Tw.delete(Xa),null===(t=this.ap)||void 0===t||t.call(this,Xa))},t.isValidExclusionString=function(t){return Ka.test(t)},t}(),Za=function(){function t(t,n){this.ze=t,this.Ww=n}return t.prototype.exclude=function(t){this.Ww.set(csString(t.lastTrackingDraw))},t.prototype.removeExclusion=function(){this.Ww.remove()},t.prototype.isExcluded=function(){return this.Dp()||this.Lp()},t.prototype.Dp=function(){return 0!==this.getAppliedTrackingDraw()},t.prototype.getAppliedTrackingDraw=function(){return this.Ww.get()},t.prototype.Lp=function(){return csString.prototype.indexOf.call(this.ze.href,Xa)>0},t}(),tf=function(){function t(t){this.Oa=t}return t.prototype.onOptout=function(){this.Oa.removeExclusion()},t}();!function(t){t.SessionReplay="SR",t.None=""}(qa||(qa={}));var nf=function(){function t(t){this.vt=t,this.jp=new csRegExp("".concat(".^"))}return t.prototype.setExcludeUrlForSessionReplay=function(t){try{this.jp=new csRegExp(t)}catch(n){Pn.warn("excludeURLforReplay - invalid regex '".concat(t,"'")),this.jp=new csRegExp("".concat(".*"))}},t.prototype.qp=function(){return this.jp.test(this.vt.getAnonymizedUrl())?qa.SessionReplay:qa.None},t.prototype.isUrlExcludedForSessionReplay=function(){return this.qp()===qa.SessionReplay},t.prototype.getRequestParameters=function(){return{ex:this.qp()}},t}(),rf=["excludeURLforReplay"],ef=function(){function t(t,n){this.Oa=t,this.xh=n}return t.prototype.init=function(){var t=this;this.xh.register(rf,(function(n){R(n)&&t.Oa.setExcludeUrlForSessionReplay(n)}))},t}(),sf="_cs_inc",of=function(){function t(t,n){this.ze=t,this.Tw=n}return t.prototype.isForceIncluded=function(){return this.Hp()||this.Fp()},t.prototype.isForceReplayRecorded=function(){return this.Bp(Cr.RECORDING_GLOBAL_SAMPLING)},t.prototype.Hp=function(){return null!==this.Tw.get(sf)},t.prototype.Bp=function(t){return this.Tw.get(sf)===t},t.prototype.Fp=function(){return csString.prototype.indexOf.call(this.ze.href,sf)>0},t}(),uf="_cs_optout",cf=function(){function t(t,n,i){this.V=t,this.Tw=n,this.Nw=i}return t.prototype.get=function(){return this.V.cookielessTrackingEnabled?this.Nw.getItem(uf):this.Tw.get(uf)},t.prototype.set=function(t){this.V.cookielessTrackingEnabled?this.Nw.setItem(uf,t):this.Tw.set(uf,t,Nt)},t}(),hf=function(){function t(t,n,i){this.Fc=t,this.ze=n,this.Ww=i}return t.prototype.init=function(){!this.isActive()&&this.Vp()&&this.activate()},t.prototype.isActive=function(){return"1"===this.Ww.get()},t.prototype.activate=function(){this.Fc.emitOptout(),this.Ww.set("1")},t.prototype.Vp=function(){return csString.prototype.indexOf.call(this.ze.href,uf)>0},t}(),af=["optout"],ff=function(){function t(t,n){this.xh=t,this.bw=n}return t.prototype.init=function(){var t=this;this.xh.register(af,(function(){t.bw.activate()}))},t}(),lf=function(){function t(t,n){this.xh=t,this.da=n}return t.prototype.init=function(){this.da.addListener(this.xh)},t.prototype.onOptout=function(){this.xh.stop()},t.prototype.onBeforeSessionRenewal=function(){this.xh.stop()},t}();var vf;!function(t){t.UXA="_uxa",t.WVT="cs_wvt"}(vf||(vf={}));var df,yf=function(t){function n(n){var i=t.call(this)||this;return i.zp=n,i.Gp={},i}return yt(n,t),n.prototype.register=function(t,n,i){var r,e;try{for(var s=bt(t),o=s.next();!o.done;o=s.next()){var u=o.value;this.Gp[u]={callback:n,configuration:i},this.Gp}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}},n.prototype.onStart=function(){this.Jp(),this.Yp()},n.prototype.onStop=function(){var t,n;try{for(var i=bt(this.zp),r=i.next();!r.done;r=i.next()){var e=r.value;window[e]=[]}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.applyFromIntegration=function(t,n,i){this.Wp(t,n,"Commands.apply.from.integration: ".concat(i))},n.prototype.applyFromImplementation=function(t,n,i){this.Wp(t,n,"Commands.apply.from.implementation: ".concat(i))},n.prototype.onIframeCommands=function(t){var n,i;try{for(var r=bt(t.commands),e=r.next();!e.done;e=r.next()){var s=e.value;this.Xp(s.name,s.params,t.iframePath)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Wp=function(t,n,i){var r=this;this.isStarted?Pn.tryToExecute(i,(function(){var i;if(r.Gp[t])return(i=r.Gp[t]).callback.apply(i,At([],Et(n),!1))}))():window._uxa.push(At([t],Et(n),!1))},n.prototype.Xp=function(t,n,i){var r=this;Pn.tryToExecute("Commands.apply.from.iframe: ".concat(i),(function(){var i;if(r.Gp[t])return(i=r.Gp[t]).callback.apply(i,At([],Et(n),!1))}))()},n.prototype.Jp=function(){var t,n,i=this;try{for(var r=bt(this.zp),e=r.next();!e.done;e=r.next()){var s=e.value;window[s].forEach((function(t){var n=Et(t),r=n[0],e=n.slice(1);return i.$p(r,e,!1)}))}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.Yp=function(){var t,n,i=this;try{for(var r=bt(this.zp),e=r.next();!e.done;e=r.next()){var s=e.value;window[s]={push:function(t){var n=Et(t),r=n[0],e=n.slice(1);return i.$p(r,e,!0)}}}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.$p=function(t,n,i){var r,e,s;if(this.Gp[t]){if((null===(e=this.Gp[t].configuration)||void 0===e?void 0:e.disableApplyPending)&&!i||(null===(s=this.Gp[t].configuration)||void 0===s?void 0:s.disableApplyImmediate)&&i)return;try{return(r=this.Gp[t]).callback.apply(r,At([],Et(n),!1))}catch(i){Pn.error("Command ".concat(t," failed - params: ").concat(csJSON.stringify(n)),i)}}},n}(Ar),wf=function(){function t(t,n,i,r){this.V=t,this.it=n,this.et=i,this.Kp=r}return t.prototype.getRequestParameters=function(){var t,n,i,r,e,s=wt(wt({},Zt()),this.V.getRequestParameters()),o=this.et.getSession();o&&(s.pn="".concat(o.pageNumber));var u=this.it.getVisitor();if(u&&(s.sn="".concat(u.visitsCount),s.uu="".concat(u.id)),(null===(t=this.Kp)||void 0===t?void 0:t.hasSubProjectId())&&(s.subProjectID="".concat(this.Kp.getSubProjectId())),window.heap)try{s.happid=window.heap.appid,s.hsid=null===(i=(n=window.heap).getSessionId)||void 0===i?void 0:i.call(n),s.huu=(null===(e=(r=window.heap).getUserId)||void 0===e?void 0:e.call(r))||window.heap.userId}catch(t){delete s.happid,delete s.hsid,delete s.huu}return s},t}(),pf=function(){function t(t,n){this.xh=t,this.M=n}return t.prototype.init=function(){var t=this;this.xh.register(["debugEvents"],(function(n){"boolean"==typeof n&&t.M.updateDynamicFields("emitDebugEvents",n)}))},t}();function mf(t,n,i){if(!N(n)&&!N(i))return t.href;var r=N(n)?gf(n):t.pathname,e=N(i)?function(t){return Tt(t,"?")||""===t?t:"?".concat(t)}(i):t.search;return"".concat(t.protocol,"//").concat(t.host).concat(r).concat(e)}function gf(t){return Tt(t,"/")?t:"/".concat(t)}!function(t){t[t.page=1]="page",t[t.onNextPageviewOnly=2]="onNextPageviewOnly"}(df||(df={}));var Sf,bf=function(){function t(t,n){this.ze=t,this.Jo=n,this.Qp=10}return t.prototype.overridePath=function(t,n){if(""!==t){var i=this.Zp(n);i&&(this.tm=i),this.nm=n?this.im(t,n):t}else this.nm=void 0},t.prototype.overrideQuery=function(t,n){var i=this.Zp(n);i&&(this.rm=i),this.sm=n?this.im(t,n):t},t.prototype.computeOverriddenUrl=function(t){return this.om(t)?this.getAnonymizedUrl():t},t.prototype.um=function(t){return("string"==typeof t||"number"==typeof t)&&t in df},t.prototype.om=function(t){var n=this.hm(this.ze.href);return this.hm(t)===n},t.prototype.hm=function(t){return n=t,i="/",-1!==csString.prototype.indexOf.call(n,i,n.length-i.length)?csString.prototype.slice.call(t,0,-1):t;var n,i},t.prototype.Zp=function(t){return N(null==t?void 0:t.lifespan)&&this.um(null==t?void 0:t.lifespan)?null==t?void 0:t.lifespan:null},t.prototype.am=function(){return this.tm&&this.tm in df},t.prototype.fm=function(){return this.rm&&this.rm in df},t.prototype.cleanupOverrideLifespan=function(){this.am()&&(this.nm=void 0,this.tm=void 0),this.fm()&&(this.sm=void 0,this.rm=void 0)},t.prototype.getAnonymizedUrl=function(){var t=mf(this.ze,this.nm,this.sm);return this.Jo.anonymizeUrl(t)},t.prototype.getUrl=function(){return mf(this.ze,this.nm,this.sm)},t.prototype.getAnonymizedPath=function(){var t=N(this.nm)?gf(this.nm):location.pathname;return this.Jo.anonymizeUrl(t)},t.prototype.getUrlProtocol=function(){return this.ze.protocol},t.prototype.getRequestParameters=function(){return{url:this.getAnonymizedUrl()}},t.prototype.im=function(t,n){return this.lm(n)?this.vm(t):this.dm(n)?this.ym(t):t},t.prototype.dm=function(t){return Boolean(t.decodeURI)},t.prototype.ym=function(t){return this.wm(t,1,!1)},t.prototype.lm=function(t){return Boolean(t.decodeURIDeep)},t.prototype.vm=function(t){return this.wm(t,this.Qp,!0)},t.prototype.wm=function(t,n,i){for(var r=t,e=0;e<n;e++)try{var s=window.decodeURI(r);if(s===r)return r;r=s}catch(t){return r}return i&&Pn.warn("decodeURIDeep limit reached: ".concat(r)),r},t}(),Ef=function(){function t(){this.listeners=[]}return t.prototype.addListener=function(t){csArray.prototype.push.call(this.listeners,t)},t}(),Af=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.emitPageEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onPageEvent&&s.onPageEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitEventTriggerRecording=function(t,n){var i,r;try{for(var e=bt(this.listeners),s=e.next();!s.done;s=e.next()){var o=s.value;o.onEventTriggerRecording&&o.onEventTriggerRecording(t,n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.emitCustomJavaScriptErrorEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onCustomJavaScriptErrorEvent&&s.onCustomJavaScriptErrorEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitCustomErrorEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onCustomErrorEvent&&s.onCustomErrorEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitUserIdentifierEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onUserIdentifierEvent&&s.onUserIdentifierEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitExternalEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onExternalEvent&&s.onExternalEvent({type:iu.EXTERNAL_EVENT,name:t,ts:0})}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitTargetingRulesArtificialPageview=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTargetingRulesArtificialPageview&&s.onTargetingRulesArtificialPageview(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(Ef),Rf="|iframe|",Of=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.pm=n,s.gm=i,s.Sm=r,s.bm=e,s}return yt(n,t),n.prototype.emitIframeEvent=function(t,n,i){if(this.Em(n)&&null===t)Pn.error("iframeEventEmitter received event ".concat(n," with null iframe, content:").concat(csJSON.stringify(i)));else switch(n){case Nn.ChildLogMessage:this.Am(i);break;case Nn.AnalysisEvent:var r=i,e=this.pm.transformEvent(t,r);e.isUserEvent?this.Rm(e.event):this.Om(e.event);break;case Nn.RecordingEvent:var s=i,o=this.bm.transformEvents(t,s);if(0===o.events.length)return;o.containsUserEvent?this.Tm(o.events):this.Nm(o.events);break;case Nn.JavascriptError:this.km(i);break;case Nn.ApiError:this.Cm(i);break;case Nn.DetailedApiError:this.Im(i);break;case Nn.CustomError:this.Mm(i);break;case Nn.EmerchandisingMessage:var u=this.Sm.transformEvent(t,i);this.xm(u);break;case Nn.Commands:var c=this.gm.transformEvent(t,i);this.Pm(c);break;case Nn.IntegrationCallback:this._m(i);break;case Nn.StaticResource:this.Dm(i);break;case Nn.TrackingContextRequestMessage:this.Lm(i);break;default:Pn.error("Parent received unknown data type from iframe : ".concat(csJSON.stringify(i)))}},n.prototype.Em=function(t){var n=[Nn.AnalysisEvent,Nn.RecordingEvent,Nn.EmerchandisingMessage,Nn.Commands];return-1!==csArray.prototype.indexOf.call(n,t)},n.prototype.Am=function(t){var n=t.message,i=t.errorCode;switch(t.level){case Mt.debug:Pn.debug(n,i);break;case Mt.warn:Pn.warn(n,!0,i);break;case Mt.implementation:Pn.implementation(n,i);break;case Mt.error:Pn.error(n,i);break;case Mt.critical:Pn.critical(n,i)}},n.prototype.Rm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeAnalysisUserEvent&&s.onIframeAnalysisUserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Om=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeAnalysisBrowserEvent&&s.onIframeAnalysisBrowserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Tm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeRecordingUserEvent&&s.onIframeRecordingUserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Nm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeRecordingBrowserEvent&&s.onIframeRecordingBrowserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.km=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeJavascriptError&&s.onIframeJavascriptError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Cm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeApiError&&s.onIframeApiError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Im=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeDetailedApiError&&s.onIframeDetailedApiError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.xm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeEmerchandisingMessage&&s.onIframeEmerchandisingMessage(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Pm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeCommands&&s.onIframeCommands(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype._m=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeIntegrationCallback&&s.onIframeIntegrationCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Dm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeStaticResource&&s.onIframeStaticResource(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Lm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTrackingContextRequestCallback&&s.onTrackingContextRequestCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Mm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeCustomError&&s.onIframeCustomError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(Ef);!function(t){t.COMPRESSION_DISABLED="compressionDisabled"}(Sf||(Sf={}));var Tf=function(){function t(){}return t.init=function(t){this.Um&&void 0===t||this.initFlags(t)},t.initFlags=function(t){var n;void 0===t&&(t=document.cookie);var i=null===(n=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))||void 0===n?void 0:n[1];if(this.Um=new Map,i)for(var r=csString.prototype.split.call(i,"."),e=0;e<r.length;e++){var s=Et(csString.prototype.split.call(r[e],"="),2),o=s[0],u=s[1];this.Um.set(o,u||"true")}},t.getBoolean=function(t){var n=this.getString(t);return null!=n&&"false"!==n&&0!==parseInt(n)},t.getString=function(t){var n;return this.init(),null===(n=this.Um)||void 0===n?void 0:n.get(t)},t.isCompressionEnabled=function(){return!this.getBoolean(Sf.COMPRESSION_DISABLED)},t.Log=function(n){return function(i,r,e){var s,o=r.toString(),u="".concat(null===(s=i.constructor)||void 0===s?void 0:s.name,".").concat(o),c=e.value;(function(t,n){var i;if(null==t)return!1;return t===n||!!(null===(i=csString.prototype.match.call(t,new csRegExp("(^|,)("+n+")(,|$)")))||void 0===i?void 0:i.length)})(t.getString("debugLog"),n)&&(e.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return console.log.apply(console,At([u],Et(t),!1)),c.bind(this).apply(void 0,At([],Et(t),!1))})}},t}();function Nf(){function t(t){for(var n=t.length;--n>=0;)t[n]=0}var n=256,i=286,r=30,e=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);t(h);var a=new Array(60);t(a);var f=new Array(512);t(f);var l=new Array(256);t(l);var v=new Array(29);t(v);var d,y,w,p=new Array(r);function m(t,n,i,r,e){this.static_tree=t,this.extra_bits=n,this.extra_base=i,this.elems=r,this.max_length=e,this.has_stree=t&&t.length}function g(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}t(p);var S=function(t){return t<256?f[t]:f[256+(t>>>7)]},b=function(t,n){t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255},E=function(t,n,i){t.bi_valid>16-i?(t.bi_buf|=n<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=n>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=i)},A=function(t,n,i){E(t,i[2*n],i[2*n+1])},R=function(t,n){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--n>0);return i>>>1},O=function(t,n,i){var r,s,o=new Array(16),u=0;for(r=1;r<=e;r++)o[r]=u=u+i[r-1]<<1;for(s=0;s<=n;s++){var c=t[2*s+1];0!==c&&(t[2*s]=R(o[c]++,c))}},T=function(t){var n;for(n=0;n<i;n++)t.dyn_ltree[2*n]=0;for(n=0;n<r;n++)t.dyn_dtree[2*n]=0;for(n=0;n<19;n++)t.bl_tree[2*n]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},N=function(t){t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},k=function(t,n,i,r){var e=2*n,s=2*i;return t[e]<t[s]||t[e]===t[s]&&r[n]<=r[i]},C=function(t,n,i){for(var r=t.heap[i],e=i<<1;e<=t.heap_len&&(e<t.heap_len&&k(n,t.heap[e+1],t.heap[e],t.depth)&&e++,!k(n,r,t.heap[e],t.depth));)t.heap[i]=t.heap[e],i=e,e<<=1;t.heap[i]=r},I=function(t,i,r){var e,u,c,h,a=0;if(0!==t.last_lit)do{e=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],u=t.pending_buf[t.l_buf+a],a++,0===e?A(t,u,i):(c=l[u],A(t,c+n+1,i),0!==(h=s[c])&&(u-=v[c],E(t,u,h)),e--,c=S(e),A(t,c,r),0!==(h=o[c])&&(e-=p[c],E(t,e,h)))}while(a<t.last_lit);A(t,256,i)},M=function(t,n){var i,r,s,o=n.dyn_tree,u=n.stat_desc.static_tree,c=n.stat_desc.has_stree,h=n.stat_desc.elems,a=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<h;i++)0!==o[2*i]?(t.heap[++t.heap_len]=a=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)o[2*(s=t.heap[++t.heap_len]=a<2?++a:0)]=1,t.depth[s]=0,t.opt_len--,c&&(t.static_len-=u[2*s+1]);for(n.max_code=a,i=t.heap_len>>1;i>=1;i--)C(t,o,i);s=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,o[2*s]=o[2*i]+o[2*r],t.depth[s]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,o[2*i+1]=o[2*r+1]=s,t.heap[1]=s++,C(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,n){var i,r,s,o,u,c,h=n.dyn_tree,a=n.max_code,f=n.stat_desc.static_tree,l=n.stat_desc.has_stree,v=n.stat_desc.extra_bits,d=n.stat_desc.extra_base,y=n.stat_desc.max_length,w=0;for(o=0;o<=e;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)(o=h[2*h[2*(r=t.heap[i])+1]+1]+1)>y&&(o=y,w++),h[2*r+1]=o,r>a||(t.bl_count[o]++,u=0,r>=d&&(u=v[r-d]),c=h[2*r],t.opt_len+=c*(o+u),l&&(t.static_len+=c*(f[2*r+1]+u)));if(0!==w){do{for(o=y-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[y]--,w-=2}while(w>0);for(o=y;0!==o;o--)for(r=t.bl_count[o];0!==r;)(s=t.heap[--i])>a||(h[2*s+1]!==o&&(t.opt_len+=(o-h[2*s+1])*h[2*s],h[2*s+1]=o),r--)}}(t,n),O(o,a,t.bl_count)},x=function(t,n,i){var r,e,s=-1,o=n[1],u=0,c=7,h=4;for(0===o&&(c=138,h=3),n[2*(i+1)+1]=65535,r=0;r<=i;r++)e=o,o=n[2*(r+1)+1],++u<c&&e===o||(u<h?t.bl_tree[2*e]+=u:0!==e?(e!==s&&t.bl_tree[2*e]++,t.bl_tree[32]++):u<=10?t.bl_tree[34]++:t.bl_tree[36]++,u=0,s=e,0===o?(c=138,h=3):e===o?(c=6,h=3):(c=7,h=4))},P=function(t,n,i){var r,e,s=-1,o=n[1],u=0,c=7,h=4;for(0===o&&(c=138,h=3),r=0;r<=i;r++)if(e=o,o=n[2*(r+1)+1],!(++u<c&&e===o)){if(u<h)do{A(t,e,t.bl_tree)}while(0!=--u);else 0!==e?(e!==s&&(A(t,e,t.bl_tree),u--),A(t,16,t.bl_tree),E(t,u-3,2)):u<=10?(A(t,17,t.bl_tree),E(t,u-3,3)):(A(t,18,t.bl_tree),E(t,u-11,7));u=0,s=e,0===o?(c=138,h=3):e===o?(c=6,h=3):(c=7,h=4)}},_=!1,D=function(t,n,i,r){E(t,0+(r?1:0),3),function(t,n,i,r){N(t),r&&(b(t,i),b(t,~i)),t.pending_buf.set(t.window.subarray(n,n+i),t.pending),t.pending+=i}(t,n,i,!0)},L=function(t){_||(!function(){var t,n,c,g,S,b=new Array(16);for(c=0,g=0;g<28;g++)for(v[g]=c,t=0;t<1<<s[g];t++)l[c++]=g;for(l[c-1]=g,S=0,g=0;g<16;g++)for(p[g]=S,t=0;t<1<<o[g];t++)f[S++]=g;for(S>>=7;g<r;g++)for(p[g]=S<<7,t=0;t<1<<o[g]-7;t++)f[256+S++]=g;for(n=0;n<=e;n++)b[n]=0;for(t=0;t<=143;)h[2*t+1]=8,t++,b[8]++;for(;t<=255;)h[2*t+1]=9,t++,b[9]++;for(;t<=279;)h[2*t+1]=7,t++,b[7]++;for(;t<=287;)h[2*t+1]=8,t++,b[8]++;for(O(h,287,b),t=0;t<r;t++)a[2*t+1]=5,a[2*t]=R(t,5);d=new m(h,s,257,i,e),y=new m(a,o,0,r,e),w=new m(new Array(0),u,0,19,7)}(),_=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,y),t.bl_desc=new g(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,T(t)},U=function(t,i,r,e){var s,o,u=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var i,r=4093624447;for(i=0;i<=31;i++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*i])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(i=32;i<n;i++)if(0!==t.dyn_ltree[2*i])return 1;return 0}(t)),M(t,t.l_desc),M(t,t.d_desc),u=function(t){var n;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),n=18;n>=3&&0===t.bl_tree[2*c[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n}(t),s=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=s&&(s=o)):s=o=r+5,r+4<=s&&-1!==i?D(t,i,r,e):4===t.strategy||o===s?(E(t,2+(e?1:0),3),I(t,h,a)):(E(t,4+(e?1:0),3),function(t,n,i,r){var e;for(E(t,n-257,5),E(t,i-1,5),E(t,r-4,4),e=0;e<r;e++)E(t,t.bl_tree[2*c[e]+1],3);P(t,t.dyn_ltree,n-1),P(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),I(t,t.dyn_ltree,t.dyn_dtree)),T(t),e&&N(t)},j=function(t,i,r){return t.pending_buf[t.d_buf+2*t.last_lit]=i>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&i,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===i?t.dyn_ltree[2*r]++:(t.matches++,i--,t.dyn_ltree[2*(l[r]+n+1)]++,t.dyn_dtree[2*S(i)]++),t.last_lit===t.lit_bufsize-1},q=function(t){E(t,2,3),A(t,256,h),function(t){16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},H={_tr_init:L,_tr_stored_block:D,_tr_flush_block:U,_tr_tally:j,_tr_align:q},F=function(t,n,i,r){for(var e=65535&t,s=t>>>16&65535,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{s=s+(e=e+n[r++]|0)|0}while(--o);e%=65521,s%=65521}return e|s<<16},B=new Uint32Array(function(){for(var t,n=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;n[i]=t}return n}()),V=function(t,n,i,r){var e=B,s=r+i;t^=-1;for(var o=r;o<s;o++)t=t>>>8^e[255&(t^n[o])];return~t},z={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G=0,J=2,Y=3,W=4,X=0,$=1,K=-1,Q=0,Z=8,tt=H._tr_init,nt=H._tr_stored_block,it=H._tr_flush_block,rt=H._tr_tally,et=H._tr_align,st=G,ot=1,ut=Y,ct=W,ht=5,at=X,ft=$,lt=-2,vt=-3,dt=-5,yt=K,wt=1,pt=2,mt=3,gt=4,St=Q,bt=2,Et=Z,At=258,Rt=262,Ot=103,Tt=113,Nt=666,kt=function(t,n){return t.msg=z[n],n},Ct=function(t){return(t<<1)-(t>4?9:0)},It=function(t){for(var n=t.length;--n>=0;)t[n]=0},Mt=function(t,n,i){return(n<<t.hash_shift^i)&t.hash_mask},xt=function(t){var n=t.state,i=n.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+i),t.next_out),t.next_out+=i,n.pending_out+=i,t.total_out+=i,t.avail_out-=i,n.pending-=i,0===n.pending&&(n.pending_out=0))},Pt=function(t,n){it(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,xt(t.strm)},_t=function(t,n){t.pending_buf[t.pending++]=n},Dt=function(t,n){t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n},Lt=function(t,n,i,r){var e=t.avail_in;return e>r&&(e=r),0===e?0:(t.avail_in-=e,n.set(t.input.subarray(t.next_in,t.next_in+e),i),1===t.state.wrap?t.adler=F(t.adler,n,e,i):2===t.state.wrap&&(t.adler=V(t.adler,n,e,i)),t.next_in+=e,t.total_in+=e,e)},Ut=function(t,n){var i,r,e=t.max_chain_length,s=t.strstart,o=t.prev_length,u=t.nice_match,c=t.strstart>t.w_size-Rt?t.strstart-(t.w_size-Rt):0,h=t.window,a=t.w_mask,f=t.prev,l=t.strstart+At,v=h[s+o-1],d=h[s+o];t.prev_length>=t.good_match&&(e>>=2),u>t.lookahead&&(u=t.lookahead);do{if(h[(i=n)+o]===d&&h[i+o-1]===v&&h[i]===h[s]&&h[++i]===h[s+1]){s+=2,i++;do{}while(h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&s<l);if(r=At-(l-s),s=l-At,r>o){if(t.match_start=n,o=r,r>=u)break;v=h[s+o-1],d=h[s+o]}}}while((n=f[n&a])>c&&0!=--e);return o<=t.lookahead?o:t.lookahead},jt=function(t){var n,i,r,e,s,o=t.w_size;do{if(e=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-Rt)){t.window.set(t.window.subarray(o,o+o),0),t.match_start-=o,t.strstart-=o,t.block_start-=o,n=i=t.hash_size;do{r=t.head[--n],t.head[n]=r>=o?r-o:0}while(--i);n=i=o;do{r=t.prev[--n],t.prev[n]=r>=o?r-o:0}while(--i);e+=o}if(0===t.strm.avail_in)break;if(i=Lt(t.strm,t.window,t.strstart+t.lookahead,e),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Mt(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Mt(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Rt&&0!==t.strm.avail_in)},qt=function(t,n){for(var i,r;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&n===st)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Ut(t,i)),t.match_length>=3)if(r=rt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+1]);else r=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2},Ht=function(t,n){for(var i,r,e;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&n===st)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Ut(t,i),t.match_length<=5&&(t.strategy===wt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){e=t.strstart+t.lookahead-3,r=rt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=e&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Pt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=rt(t,0,t.window[t.strstart-1]))&&Pt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=rt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2};function Ft(t,n,i,r,e){this.good_length=t,this.max_lazy=n,this.nice_length=i,this.max_chain=r,this.func=e}var Bt=[new Ft(0,0,0,0,(function(t,n){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(jt(t),0===t.lookahead&&n===st)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,Pt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Rt&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Pt(t,!1),t.strm.avail_out),1)})),new Ft(4,4,8,4,qt),new Ft(4,5,16,8,qt),new Ft(4,6,32,32,qt),new Ft(4,4,16,16,Ht),new Ft(8,16,32,32,Ht),new Ft(8,16,128,128,Ht),new Ft(8,32,128,256,Ht),new Ft(32,128,258,1024,Ht),new Ft(32,258,258,4096,Ht)];function Vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Et,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),It(this.dyn_ltree),It(this.dyn_dtree),It(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),It(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),It(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var zt=function(t){if(!t||!t.state)return kt(t,lt);t.total_in=t.total_out=0,t.data_type=bt;var n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:Tt,t.adler=2===n.wrap?0:1,n.last_flush=st,tt(n),at},Gt=function(t){var n=zt(t);return n===at&&function(t){t.window_size=2*t.w_size,It(t.head),t.max_lazy_match=Bt[t.level].max_lazy,t.good_match=Bt[t.level].good_length,t.nice_match=Bt[t.level].nice_length,t.max_chain_length=Bt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),n},Jt=function(t,n,i,r,e,s){if(!t)return lt;var o=1;if(n===yt&&(n=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),e<1||e>9||i!==Et||r<8||r>15||n<0||n>9||s<0||s>gt)return kt(t,lt);8===r&&(r=9);var u=new Vt;return t.state=u,u.strm=t,u.wrap=o,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=e+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Uint8Array(2*u.w_size),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<e+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Uint8Array(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=n,u.strategy=s,u.method=i,Gt(t)},Yt=function(t,n){var i,r;if(!t||!t.state||n>ht||n<0)return t?kt(t,lt):lt;var e=t.state;if(!t.output||!t.input&&0!==t.avail_in||e.status===Nt&&n!==ct)return kt(t,0===t.avail_out?dt:lt);e.strm=t;var s=e.last_flush;if(e.last_flush=n,42===e.status)if(2===e.wrap)t.adler=0,_t(e,31),_t(e,139),_t(e,8),e.gzhead?(_t(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),_t(e,255&e.gzhead.time),_t(e,e.gzhead.time>>8&255),_t(e,e.gzhead.time>>16&255),_t(e,e.gzhead.time>>24&255),_t(e,9===e.level?2:e.strategy>=pt||e.level<2?4:0),_t(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(_t(e,255&e.gzhead.extra.length),_t(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=V(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69):(_t(e,0),_t(e,0),_t(e,0),_t(e,0),_t(e,0),_t(e,9===e.level?2:e.strategy>=pt||e.level<2?4:0),_t(e,3),e.status=Tt);else{var o=Et+(e.w_bits-8<<4)<<8;o|=(e.strategy>=pt||e.level<2?0:e.level<6?1:6===e.level?2:3)<<6,0!==e.strstart&&(o|=32),o+=31-o%31,e.status=Tt,Dt(e,o),0!==e.strstart&&(Dt(e,t.adler>>>16),Dt(e,65535&t.adler)),t.adler=1}if(69===e.status)if(e.gzhead.extra){for(i=e.pending;e.gzindex<(65535&e.gzhead.extra.length)&&(e.pending!==e.pending_buf_size||(e.gzhead.hcrc&&e.pending>i&&(t.adler=V(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending!==e.pending_buf_size));)_t(e,255&e.gzhead.extra[e.gzindex]),e.gzindex++;e.gzhead.hcrc&&e.pending>i&&(t.adler=V(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex===e.gzhead.extra.length&&(e.gzindex=0,e.status=73)}else e.status=73;if(73===e.status)if(e.gzhead.name){i=e.pending;do{if(e.pending===e.pending_buf_size&&(e.gzhead.hcrc&&e.pending>i&&(t.adler=V(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending===e.pending_buf_size)){r=1;break}r=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,_t(e,r)}while(0!==r);e.gzhead.hcrc&&e.pending>i&&(t.adler=V(t.adler,e.pending_buf,e.pending-i,i)),0===r&&(e.gzindex=0,e.status=91)}else e.status=91;if(91===e.status)if(e.gzhead.comment){i=e.pending;do{if(e.pending===e.pending_buf_size&&(e.gzhead.hcrc&&e.pending>i&&(t.adler=V(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending===e.pending_buf_size)){r=1;break}r=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,_t(e,r)}while(0!==r);e.gzhead.hcrc&&e.pending>i&&(t.adler=V(t.adler,e.pending_buf,e.pending-i,i)),0===r&&(e.status=Ot)}else e.status=Ot;if(e.status===Ot&&(e.gzhead.hcrc?(e.pending+2>e.pending_buf_size&&xt(t),e.pending+2<=e.pending_buf_size&&(_t(e,255&t.adler),_t(e,t.adler>>8&255),t.adler=0,e.status=Tt)):e.status=Tt),0!==e.pending){if(xt(t),0===t.avail_out)return e.last_flush=-1,at}else if(0===t.avail_in&&Ct(n)<=Ct(s)&&n!==ct)return kt(t,dt);if(e.status===Nt&&0!==t.avail_in)return kt(t,dt);if(0!==t.avail_in||0!==e.lookahead||n!==st&&e.status!==Nt){var u=e.strategy===pt?function(t,n){for(var i;;){if(0===t.lookahead&&(jt(t),0===t.lookahead)){if(n===st)return 1;break}if(t.match_length=0,i=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2}(e,n):e.strategy===mt?function(t,n){for(var i,r,e,s,o=t.window;;){if(t.lookahead<=At){if(jt(t),t.lookahead<=At&&n===st)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[e=t.strstart-1])===o[++e]&&r===o[++e]&&r===o[++e]){s=t.strstart+At;do{}while(r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&e<s);t.match_length=At-(s-e),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=rt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2}(e,n):Bt[e.level].func(e,n);if(3!==u&&4!==u||(e.status=Nt),1===u||3===u)return 0===t.avail_out&&(e.last_flush=-1),at;if(2===u&&(n===ot?et(e):n!==ht&&(nt(e,0,0,!1),n===ut&&(It(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),xt(t),0===t.avail_out))return e.last_flush=-1,at}return n!==ct?at:e.wrap<=0?ft:(2===e.wrap?(_t(e,255&t.adler),_t(e,t.adler>>8&255),_t(e,t.adler>>16&255),_t(e,t.adler>>24&255),_t(e,255&t.total_in),_t(e,t.total_in>>8&255),_t(e,t.total_in>>16&255),_t(e,t.total_in>>24&255)):(Dt(e,t.adler>>>16),Dt(e,65535&t.adler)),xt(t),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?at:ft)},Wt=function(t,n){var i=n.length;if(!t||!t.state)return lt;var r=t.state,e=r.wrap;if(2===e||1===e&&42!==r.status||r.lookahead)return lt;if(1===e&&(t.adler=F(t.adler,n,i,0)),r.wrap=0,i>=r.w_size){0===e&&(It(r.head),r.strstart=0,r.block_start=0,r.insert=0);var s=new Uint8Array(r.w_size);s.set(n.subarray(i-r.w_size,i),0),n=s,i=r.w_size}var o=t.avail_in,u=t.next_in,c=t.input;for(t.avail_in=i,t.next_in=0,t.input=n,jt(r);r.lookahead>=3;){var h=r.strstart,a=r.lookahead-2;do{r.ins_h=Mt(r,r.ins_h,r.window[h+3-1]),r.prev[h&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=h,h++}while(--a);r.strstart=h,r.lookahead=2,jt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=u,t.input=c,t.avail_in=o,r.wrap=e,at},Xt={deflateInit:function(t,n){return Jt(t,n,Et,15,8,St)},deflateInit2:Jt,deflateReset:Gt,deflateResetKeep:zt,deflateSetHeader:function(t,n){return t&&t.state?2!==t.state.wrap?lt:(t.state.gzhead=n,at):lt},deflate:Yt,deflateEnd:function(t){if(!t||!t.state)return lt;var n=t.state.status;return 42!==n&&69!==n&&73!==n&&91!==n&&n!==Ot&&n!==Tt&&n!==Nt?kt(t,lt):(t.state=null,n===Tt?kt(t,vt):at)},deflateSetDictionary:Wt,deflateInfo:"pako deflate (from Nodeca project)"},$t=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},Kt=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)$t(i,r)&&(t[r]=i[r])}}return t},Qt=function(t){for(var n=0,i=0,r=t.length;i<r;i++)n+=t[i].length;var e=new Uint8Array(n),s=(i=0,0);for(r=t.length;i<r;i++){var o=t[i];e.set(o,s),s+=o.length}return e},Zt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Zt=!1}for(var tn=new Uint8Array(256),nn=0;nn<256;nn++)tn[nn]=nn>=252?6:nn>=248?5:nn>=240?4:nn>=224?3:nn>=192?2:1;tn[254]=tn[254]=1;var rn=function(t,n){if(void 0===n&&(n=t.length),n<65534&&t.subarray&&Zt)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[r]);return i},en=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var n,i,r,e,s,o=t.length,u=0;for(e=0;e<o;e++)55296==(64512&(i=t.charCodeAt(e)))&&e+1<o&&56320==(64512&(r=t.charCodeAt(e+1)))&&(i=65536+(i-55296<<10)+(r-56320),e++),u+=i<128?1:i<2048?2:i<65536?3:4;for(n=new Uint8Array(u),s=0,e=0;s<u;e++)55296==(64512&(i=t.charCodeAt(e)))&&e+1<o&&56320==(64512&(r=t.charCodeAt(e+1)))&&(i=65536+(i-55296<<10)+(r-56320),e++),i<128?n[s++]=i:i<2048?(n[s++]=192|i>>>6,n[s++]=128|63&i):i<65536?(n[s++]=224|i>>>12,n[s++]=128|i>>>6&63,n[s++]=128|63&i):(n[s++]=240|i>>>18,n[s++]=128|i>>>12&63,n[s++]=128|i>>>6&63,n[s++]=128|63&i);return n};var sn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},on=Object.prototype.toString,un=G,cn=J,hn=Y,an=W,fn=X,ln=$,vn=K,dn=Q,yn=Z;function wn(t){this.options=Kt({level:vn,method:yn,chunkSize:16384,windowBits:15,memLevel:8,strategy:dn},t||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sn,this.strm.avail_out=0;var i=Xt.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(i!==fn)throw new Error(z[i]);if(n.header&&Xt.deflateSetHeader(this.strm,n.header),n.dictionary){var r=void 0;if(r="string"==typeof n.dictionary?en(n.dictionary):"[object ArrayBuffer]"===on.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(i=Xt.deflateSetDictionary(this.strm,r))!==fn)throw new Error(z[i]);this._dict_set=!0}}function pn(t,n){return(n=n||{}).gzip=!0,function(t,n){var i=new wn(n=n||{});if(i.push(t,!0),i.err)throw i.msg||z[i.err];return i.result}(t,n)}return wn.prototype.push=function(t,n){var i,r,e=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(r=n===~~n?n:!0===n?an:un,"string"==typeof t?e.input=en(t):"[object ArrayBuffer]"===on.call(t)?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(s),e.next_out=0,e.avail_out=s),(r===cn||r===hn)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if((i=Xt.deflate(e,r))===ln)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=Xt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===fn;if(0!==e.avail_out){if(r>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},wn.prototype.onData=function(t){this.chunks.push(t)},wn.prototype.onEnd=function(t){t===fn&&(this.result=Qt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(t,n,i){var r=pn(t);return r="base64"===n?btoa(rn(r)):r.buffer,i&&i(r),r}}var kf=function(t){function n(n){var i=t.call(this,n)||this;return i.algorithm=di.GZIP,i.jm=Nf(),i.qm=function(t,n,r){r(i.jm(t,n))},i.compress=Cf(),"undefined"!=typeof CompressionStream&&or||(i.compress=i.qm,i.getCompressorSourceCode=function(){return Nf.toString()}),i}return yt(n,t),n.prototype.compressSync=function(t,n){return this.jm(t,n)},n.prototype.getCompressorSourceCode=function(){return Cf.toString()},n}(mi);function Cf(){return function(t,n,i){var r=new Response(t).body.pipeThrough(new CompressionStream("gzip")),e=new Response(r).arrayBuffer();"base64"!==n?e.then((function(t){return i(t)})):e.then((function(t){return n=t,new Promise((function(t){var i=new FileReader;i.onload=function(n){return t(n.target.result.split(",")[1])},i.readAsDataURL(new Blob([n]))}));var n})).then((function(t){return i(t)}))}}var If=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.algorithm=di.UNCOMPRESSED,n}return yt(n,t),n.prototype.compress=function(t,n,i){i(this.compressSync(t,n))},n.prototype.compressSync=function(t,n){return t},n.prototype.getCompressorSourceCode=function(){return function(){return function(t,n,i){return i(t)}}.toString()},n}(mi),Mf=function(){function t(){}return t.create=function(t,n){return void 0===n&&(n=!0),this.instance?this.instance:n&&!Tf.isCompressionEnabled()?new If(t):this.instance=new kf(t)},t}(),xf=function(){function t(){}return t.prototype.setItem=function(t,n){window.sessionStorage.setItem(t,n)},t.prototype.getItem=function(t){return window.sessionStorage.getItem(t)},t.prototype.removeItem=function(t){window.sessionStorage.removeItem(t)},t}(),Pf=function(){function t(){}return t.prototype.setItem=function(t,n){window.localStorage.setItem(t,n)},t.prototype.getItem=function(t){return window.localStorage.getItem(t)},t.prototype.removeItem=function(t){window.localStorage.removeItem(t)},t}(),_f="_cs_cvars",Df=function(){function t(t,n,i){this.V=t,this.Tw=n,this.ip=i}return t.prototype.onCookieToSet=function(t){this.hp=t},t.prototype.onCookieToRemove=function(t){this.ap=t},t.prototype.get=function(){return this.V.cookielessTrackingEnabled?this.ip.getItem(_f):this.Tw.get(_f)},t.prototype.set=function(t){var n;this.V.cookielessTrackingEnabled?this.ip.setItem(_f,t):(this.Tw.set(_f,t),null===(n=this.hp)||void 0===n||n.call(this,_f,t))},t.prototype.remove=function(){var t;this.V.cookielessTrackingEnabled?this.ip.removeItem(_f):(this.Tw.delete(_f),null===(t=this.ap)||void 0===t||t.call(this,_f))},t.isValidCustomVarString=function(t){return"string"==typeof t},t}(),Lf=["visit",2],Uf=["page",3],jf=["nextPageOnly",4],qf=function(){function t(t,n){this.G=t,this.Ww=n,this.Hm={},this.Fm={}}return t.prototype.set=function(t,n,i,r){var e,s;if((E(t)||R(t))&&Number(t)>0&&k(n)&&k(i)&&!C(n)&&!C(i)&&this.Bm(r)){R(t)&&zn.implementation("[CVAR] Index is a string");var o=this.G.anonymizePII(csString(n)),u=this.G.anonymizePII(csString(i)),c=this.G.checkAndAnonymizePII(csString(n)),h=this.G.checkAndAnonymizePII(csString(i));if(o!==c&&zn.implementation("[PII] Custom variable name may contain CC: ".concat(c)),u!==h&&zn.implementation("[PII] Custom variable value may contain CC: ".concat(h)),e=[csString.prototype.slice.call(o,0,512),csString.prototype.slice.call(u,0,255)],s=""!==i,!N(r)||csArray.prototype.indexOf.call(Lf,r)>=0){var a=this.getCustomVariablesSession();s?a[t]=e:delete a[t],this.setCustomVariableSession(a)}(!N(r)||csArray.prototype.indexOf.call(Uf,r)>=0)&&(s?this.Hm[t]=e:delete this.Hm[t]),N(r)&&csArray.prototype.indexOf.call(jf,r)>=0&&(s?this.Fm[t]=e:delete this.Fm[t])}},t.prototype.getCustomVariablesSession=function(){var t=this.Ww.get();if(!t)return{};var n=window.csJSON.parse(t);return null!==n&&T(n)?n:{}},t.prototype.setCustomVariableSession=function(t){this.Ww.set(window.csJSON.stringify(t))},t.prototype.removeCustomVariablesSession=function(){this.Ww.remove()},t.prototype.removeCustomVariablesPage=function(){this.Hm={}},t.prototype.getRequestParameters=function(){var t=this.getCustomVariablesSession();for(var n in this.Fm)this.Fm.hasOwnProperty(n)&&(this.Hm[n]=this.Fm[n]);for(var n in this.Hm)this.Hm.hasOwnProperty(n)&&(t[n]=this.Hm[n]);if(window.csJSON.stringify(t).length<=2)return{};var i={cvars:this.Vm(t)};return this.Hm&&window.csJSON.stringify(this.Hm).length>2&&(i.cvarp=this.Vm(this.Hm)),i},t.prototype.deleteNextPageOnlyCustomVariables=function(){if(Object.keys(this.Fm).length>0)for(var t in this.Fm)this.Fm[t]===this.Hm[t]&&(delete this.Hm[t],delete this.Fm[t])},t.prototype.zm=function(t){for(var n in t)if(t.hasOwnProperty(n)){var i=parseInt(n,10),r=t[n],e=r[0],s=r[1];u=1,c=20,(!(A(o=i)&&o>=u&&o<=c)||e.length>512||s.length>255)&&delete t[n]}var o,u,c},t.prototype.Vm=function(t){this.zm(t);var n=function(t){var n;for(n in t)return!1;return!0}(t)?[]:t;return window.csJSON.stringify(n)},t.prototype.Bm=function(t){return!N(t)||R(t)||E(t)},t.prototype.getAllValidCustomVars=function(){var t=this.getCustomVariablesSession();for(var n in this.Fm)this.Fm.hasOwnProperty(n)&&(this.Hm[n]=this.Fm[n]);for(var n in this.Hm)this.Hm.hasOwnProperty(n)&&(t[n]=this.Hm[n]);return this.zm(t),t},t}(),Hf=["setCustomVariable"],Ff=function(){function t(t,n){this.xh=t,this.mn=n}return t.prototype.init=function(){var t=this;this.xh.register(Hf,(function(n,i,r,e){t.mn.set(n,i,r,e)}))},t.prototype.onAfterArtificialPageView=function(){this.mn.deleteNextPageOnlyCustomVariables()},t.prototype.onAfterNaturalPageView=function(){this.mn.deleteNextPageOnlyCustomVariables()},t.prototype.onOptout=function(){this.mn.removeCustomVariablesSession()},t.prototype.onBeforeVisitorRenewal=function(){this.mn.removeCustomVariablesSession(),this.mn.removeCustomVariablesPage()},t}(),Bf="_cs_id",Vf=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.(None|Lax|X)\.(0|1))?(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,zf=function(){function t(t,n,i){this.V=t,this.Tw=n,this.ip=i}return t.prototype.onCookieToSet=function(t){this.hp=t},t.prototype.onCookieToRemove=function(t){this.ap=t},t.prototype.get=function(){var n;return(n=this.V.cookielessTrackingEnabled?this.ip.getItem(Bf):this.Tw.get(Bf))?t.fromString(n):null},t.prototype.set=function(n){var i,r=t.toString(n);if(this.V.cookielessTrackingEnabled)this.ip.setItem(Bf,r);else{var e=new csDate(n.expires);this.Tw.set(Bf,r,e),null===(i=this.hp)||void 0===i||i.call(this,Bf,r,e)}},t.prototype.remove=function(){var t;this.V.cookielessTrackingEnabled?this.ip.removeItem(Bf):(this.Tw.delete(Bf),null===(t=this.ap)||void 0===t||t.call(this,Bf))},t.prototype.handleSubdomainChange=function(){if(!this.V.cookielessTrackingEnabled){var t=this.get();t&&(t.allowSubdomains=this.V.allowSubdomains,this.V.allowSubdomains?this.Tw.delete(Bf,fi.CURRENT_DOMAIN):this.Tw.delete(Bf,this.Tw.getRootDomain()),this.set(t))}},t.fromString=function(t){var n=Et(csString.prototype.split.call(t,"."),9),i=n[0],r=n[1],e=n[2],s=n[3],o=n[4],u=n[5],c=n[6],h=n[7],a=n[8];return{id:i,creationTimestamp:Number(r),visitsCount:Number(e),hitTimestamp:Number(s),lastVisitTimestamp:Number(o),appliedTrackingDraw:Number(u),expires:Number(c),allowSubdomains:void 0===h?void 0:!!Number(h),identityPrint:void 0===a||"x"===a?null:a}},t.toString=function(t){var n;return csArray.prototype.join.call([t.id,t.creationTimestamp,t.visitsCount,t.hitTimestamp,t.lastVisitTimestamp,t.appliedTrackingDraw,t.expires,t.allowSubdomains?1:0,null!==(n=t.identityPrint)&&void 0!==n?n:"x"],".")},t.isValidVisitorString=function(t){return Vf.test(t)},t}(),Gf=function(){function t(t){this.G=t}return t.prototype.anonymizeUrl=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var r=this.G.anonymizePII(t);r=this.G.anonymizeJwt(r);var e=this.Gm(r,n);return e!==r?e:this.Jm(r,i)},t.prototype.removeQueryString=function(t){var n=this.Ym(t),i=n.path;return""!==n.queryString?"".concat(i,"?"):i},t.prototype.Ym=function(t){var n,i=csString.prototype.indexOf.call(t,"?"),r="";return-1!==i?(n=csString.prototype.slice.call(t,0,i),r=csString.prototype.slice.call(t,i,t.length)):n=t,{path:n,queryString:r}},t.prototype.Gm=function(t,n){var i,r;if(0===n.length)return t;var e=this.Ym(t),s=e.path,o=e.queryString,u=csString.prototype.split.call(s,"/");try{for(var c=bt(n),h=c.next();!h.done;h=c.next()){var a=h.value,f=this.Wm(u,a);if(null!==f)return"".concat(f).concat(o)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return t},t.prototype.Wm=function(t,n){if(t.length<n.length)return null;for(var i=[],r=0;r<t.length;r++){var e=t[r];if(r>=n.length)csArray.prototype.push.call(i,e);else{var s=n[r].key;if(this.Xm(s)){var o=n[r].value;csArray.prototype.push.call(i,o)}else{if(e!==s)return null;csArray.prototype.push.call(i,e)}}}return csArray.prototype.join.call(i,"/")},t.prototype.Jm=function(t,n){var i,r;if(0===n.length)return t;var e=this.Ym(t),s=e.path,o=e.queryString,u=csString.prototype.split.call(s,"/");try{for(var c=bt(n),h=c.next();!h.done;h=c.next()){var a=h.value;u=this.$m(u,a)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return"".concat(csArray.prototype.join.call(u,"/")).concat(o)},t.prototype.$m=function(t,n){for(var i=[],r=0,e="http:"===t[0]||"https:"===t[0]?2:0,s=0;s<t.length;s++){var o=t[s],u=n[r].key;if(this.Xm(u)&&s>=e){var c=n[r].value;csArray.prototype.push.call(i,o.length>0?c:""),++r===n.length&&(r=0)}else if(o!==u){for(var h=0;h<r;h++){i[a=s-r+h]=t[a]}r=0,csArray.prototype.push.call(i,o)}else csArray.prototype.push.call(i,o),++r===n.length&&(r=0)}for(s=0;s<r;s++){var a;i[a=t.length-r+s]=t[a]}return i},t.prototype.Xm=function(t){return Tt(t,":")},t}(),Jf=function(){function t(t,n){this.Ja=t,this.V=n}return t.prototype.getEventTargetPath=function(t){var n=er(t);return this.Ja.getElementPath(n,wt({dynamicIdRegex:this.V.dynamicIdRegex},this.V.pathComputationRules))},t.prototype.getEventTargetPathAndTargetLink=function(t){var n=er(t),i=this.Ja.getElementPathAndFirstAnchorParent(n,wt({dynamicIdRegex:this.V.dynamicIdRegex},this.V.pathComputationRules)),r=i.path,e=i.firstAnchorParent;return{path:r,targetLink:this.Km(e)?e.href:""}},t.prototype.hasValidEventTarget=function(t){var n=er(t);return this.Ja.isValidElement(n)},t.prototype.getElementPath=function(t){return this.Ja.getElementPath(t,wt({dynamicIdRegex:this.V.dynamicIdRegex},this.V.pathComputationRules))},t.prototype.Km=function(t){var n;return null!==t&&t.hasAttribute("href")&&!Tt(null!==(n=t.getAttribute("href"))&&void 0!==n?n:"","#")},t}(),Yf=function(){function t(t){this.Mf=t}return t.prototype.transformEvent=function(t,n){this.Qm(t,n.event);var i=this.Mf.getElementPath(t);return this.Zm(i,n.event),n},t.prototype.Qm=function(t,n){if(function(t){return void 0!==t.x&&void 0!==t.y}(n)){var i=t.getBoundingClientRect();n.x=Math.round(i.left+n.x+he.windowOffsetX()),n.y=Math.round(i.top+n.y+he.windowOffsetY())}},t.prototype.Zm=function(t,n){Tu(n)&&(n.tgt="".concat(t).concat(Rf).concat(n.tgt)),function(t){return void 0!==t.tgtHM}(n)&&(n.tgtHM="".concat(t).concat(Rf).concat(n.tgtHM)),function(t){return void 0!==t.tgtLk}(n)&&(n.tgtLk="".concat(t).concat(Rf).concat(n.tgtLk))},t}(),Wf=function(){function t(t){this.Mf=t}return t.prototype.transformEvent=function(t,n){var i=this.Mf.getElementPath(t);return{iframePath:n.iframePath?"".concat(i).concat(Rf).concat(n.iframePath):i,commands:n.commands}},t}(),Xf=function(){function t(t){this.Mf=t}return t.prototype.transformEvent=function(t,n){if(0===n.products.length)return n;var i=this.Mf.getElementPath(t),r=csArray.prototype.map.call(n.products,(function(t){return wt(wt({},t),{targetPath:"".concat(i).concat(Rf).concat(t.targetPath)})}));return wt(wt({},n),{products:r})},t}(),$f=function(){function t(){this.tg={clientX:2,clientY:3},this.ng={clientX:1,clientY:2},this.ig=[Qi.POINTER_DOWN,Qi.POINTER_MOVE,Qi.POINTER_UP],this.rg=[Qi.TOUCH_START,Qi.TOUCH_MOVE,Qi.TOUCH_END]}return t.prototype.transformEvents=function(t,n){var i,r,e=this;if(!le.isConnected(t))return n.events=csArray.prototype.filter.call(n.events,(function(t){return t.type!==Qi.VISIBILITY_CHANGE})),0===n.events.length||(Pn.warn("IframeRecordingEventsTransformer received event ".concat(Nn.RecordingEvent,"\n        from disconnected iframe, content:").concat(csJSON.stringify(n.events))),n.events=[]),n;var s=vr(t),o=null;csArray.prototype.some.call(n.events,(function(t){return e.eg(t)||e.sg(t)}))&&(o=t.getBoundingClientRect());try{for(var u=bt(n.events),c=u.next();!c.done;c=u.next()){var h=c.value;this.eg(h)?this.og(o,h):this.sg(h)&&this.ug(o,h),h.context=h.context&&h.context.length>0?"".concat(s,"/").concat(h.context):"".concat(s)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return n},t.prototype.ug=function(t,n){this.cg(this.ng,t,n)},t.prototype.og=function(t,n){this.cg(this.tg,t,n)},t.prototype.cg=function(t,n,i){i.args&&(i.args[t.clientX]=Math.round(n.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(n.top+i.args[t.clientY]))},t.prototype.eg=function(t){return-1!==csArray.prototype.indexOf.call(this.ig,t.type)},t.prototype.sg=function(t){return-1!==csArray.prototype.indexOf.call(this.rg,t.type)},t}(),Kf=function(){function t(t){this.hg=t}return t.prototype.start=function(){var t=this;this.hg.onEvent((function(n){return t.we(n)})),this.hg.start()},t.prototype.stop=function(){this.hg.stop()},t.prototype.we=function(t){var n="Content Security Policy error. Violated directive: ".concat(t.violatedDirective," - Source file: ").concat(t.sourceFile);Pn.warn(n)},t}(),Qf=function(){function t(){var t=this;this.tu={boundElement:document,type:"securitypolicyviolation",listener:function(n){return t.securityPolicyViolationListener(n)}}}return t.prototype.start=function(){Wi(this.tu)},t.prototype.stop=function(){Xi(this.tu)},t.prototype.onEvent=function(t){this.Je=t},t.prototype.ag=function(n){if(!n)return!1;var i=n.disposition;return R(n.sourceFile)&&csArray.prototype.some.call(t.fg,(function(t){return csString.prototype.indexOf.call(n.sourceFile,t)>0}))&&"report"!==i},t.prototype.securityPolicyViolationListener=function(t){this.ag(t)&&this.Je({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})},t.fg=["contentsquare","cdnssl.clicktale.net"],mt([Gn("Event handler type: securitypolicyviolation")],t.prototype,"securityPolicyViolationListener",null),t}(),Zf=function(){function t(){}return t.prototype.init=function(){this.lg=new Kf(new Qf),this.lg.start()},t.prototype.onOptout=function(){this.lg.stop()},t}(),tl=function(t){function n(n,i,r){var e=t.call(this,n,i)||this;return e.vg=null,e.dg=(null==r?void 0:r.type)||"json",e.yg=null==r?void 0:r.cacheMinutes,e.vn=null==r?void 0:r.timeout,e}return yt(n,t),n.prototype.onLoad=function(t){this.an=t},n.prototype.onError=function(t){this.fn=t},n.prototype.onTimeout=function(t,n){this.ln=t,this.vn=n},n.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,(function(t){return t()}));var t=this.retrieveParameters();this.C(t);var n=xt.toQuery(t),i="".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(n);this.wl(i,this.dg)},n.prototype.abort=function(){this.vg&&(this.vg.abort(),this.vg=null)},n.prototype.isInProgress=function(){return null!==this.vg},n.prototype.wl=function(t,n){var i,r=this,e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType=n,e.onerror=function(){var t;return null===(t=r.fn)||void 0===t?void 0:t.call(r,e)},e.ontimeout=function(){var t;return null===(t=r.ln)||void 0===t?void 0:t.call(r,e)},e.onload=function(){var t,i;e.status>=200&&e.status<400?(null===(t=r.an)||void 0===t||t.call(r,r.wg(e,n)?e.response:e.responseText),csArray.prototype.forEach.call(r.afterRequestCallbacks,(function(t){return t()}))):null===(i=r.fn)||void 0===i||i.call(r,e)},e.onloadend=function(){r.vg=null},e.timeout=null!==(i=this.vn)&&void 0!==i?i:5e3,this.vg=e,e.send()},n.prototype.wg=function(t,n){var i=t.getResponseHeader("Content-Type");return null===i?"json"===n:csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0},n.prototype.C=function(t){var n,i,r;n=this.yg?"".concat((i=this.yg,r=60*i*1e3,"".concat(Math.floor(csDate.now()/r)))):csString.prototype.slice.call("".concat(Math.random()),2,8),t.r=n},n}(Ut),nl=function(t){this.configuration=t},il=function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.configuration=n,e.pg=i,e.Fc=r,e.mg=Cr.RECORDING_GLOBAL_SAMPLING,e}return yt(n,t),n.prototype.refreshQuota=function(){this.gg=void 0,this.Sg()},n.prototype.onQuotaReady=function(t){this.bg=t},n.prototype.init=function(){this.Eg()},n.prototype.sanitizeSessionCollectState=function(t){return t},n.prototype.canCollect=function(t){return null!==t&&t.collectState!==Cr.QUOTA_REACHED},n.prototype.computeInitialCollectState=function(t){return this.gg?(this.Fc.emitCollectStateChange(this.gg,Ir.ETR_OFF),this.gg):(Pn.warn("Quota file error computeInitialCollectState() called before quota answered"),Cr.QUOTA_REACHED)},n.prototype.getEligibleCollectState=function(t){return t.collectState===Cr.QUOTA_REACHED?Cr.QUOTA_REACHED:!qh.isRecordingSupported()&&this.isReplayRecorded(t)?Cr.ANALYTICS_ONLY:t.collectState===Cr.RECORDING_RULES_TARGETING?Cr.RECORDING_RULES_TARGETING:t.collectState===Cr.ANALYTICS_ONLY_RULES_TARGETING?Cr.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===Cr.RECORDING_GLOBAL_SAMPLING?Cr.RECORDING_GLOBAL_SAMPLING:Cr.ANALYTICS_ONLY},n.prototype.abortQuotaServiceRequest=function(){},n.prototype.isReplayRecorded=function(t){return t.collectState===Cr.RECORDING_GLOBAL_SAMPLING||t.collectState===Cr.RECORDING_RULES_TARGETING},n.prototype.getInitialCollectState=function(){return this.gg||Cr.QUOTA_REACHED},n.prototype.setVisitorService=function(t){},n.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(t){return Cr.ANALYTICS_ONLY},n.prototype.Ag=function(t){this.gg=t,this.bg&&this.bg(t)},n.prototype.Eg=function(){var t=this;this.pg.onError((function(n){return t.quotaServiceErrorHandler("HTTP:".concat(n.status," - fetching quota file for pid: ").concat(t.configuration.projectId))})),this.pg.onTimeout((function(){return t.quotaServiceErrorHandler("timeout")})),this.pg.onLoad((function(n){return t.quotaFileHandler(n)}))},n.prototype.Sg=function(){this.pg.isInProgress()||this.pg.send()},n.prototype.quotaFileHandler=function(t){var n;(null===(n=null==t?void 0:t.quotas)||void 0===n?void 0:n.length)?this.Rg(t):this.quotaServiceErrorHandler("Quota types missing from config file")},n.prototype.quotaServiceErrorHandler=function(t){var n="Quota error - ".concat(t);Pn.warn(n),this.Ag(this.mg)},n.prototype.Rg=function(t){var n,i,r=!1,e=!1;try{for(var s=bt(t.quotas),o=s.next();!o.done;o=s.next()){var u=o.value;"ANALYTICS"===u.quotaType&&u.value?r=!0:"RECORDING"===u.quotaType&&u.value&&kt.boolean(Math.round(100*u.value))&&(e=!0)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}!r&&e?this.quotaServiceErrorHandler("Quota types impossible: replay without analytics - ".concat(csJSON.stringify(t))):r&&e?qh.isRecordingSupported()?this.Ag(Cr.RECORDING_GLOBAL_SAMPLING):this.Ag(Cr.ANALYTICS_ONLY):r&&!e?this.Ag(Cr.ANALYTICS_ONLY):this.Ag(Cr.QUOTA_REACHED)},n.prototype.getRecordingConsentWithdrawn=function(){return Cr.ANALYTICS_ONLY},mt([Gn("Quota File: quotaFileHandler")],n.prototype,"quotaFileHandler",null),mt([Gn("Quota File: onerror")],n.prototype,"quotaServiceErrorHandler",null),n}(nl),rl=function(t){function n(n,i,r,e,s){var o=t.call(this,n)||this;return o.configuration=n,o.Og=i,o.Fc=r,o.Gw=e,o.vt=s,o.Tg=[],o}return yt(n,t),n.prototype.refreshQuota=function(){},n.prototype.onQuotaReady=function(t){},n.prototype.canCollect=function(t){return!0},n.prototype.init=function(){this.Ng()},n.prototype.sanitizeSessionCollectState=function(t){return t.collectState!==Cr.QUOTA_REACHED&&t.collectState!==Cr.RECORDING_RULES_TARGETING&&t.collectState!==Cr.RECORDING_TEMPORARILY||(t.collectState=Cr.ANALYTICS_ONLY),t},n.prototype.computeInitialCollectState=function(t){return zo.isReplayConsentNeeded(this.configuration)?Cr.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Rp(t)},n.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(t){return this.Rp(t)},n.prototype.Rp=function(t){return qh.isRecordingSupported()?(this.Tg=[],kt.percentage()<this.configuration.replayRecordingRate||this.Gw.isForceReplayRecorded()?csArray.prototype.push.call(this.Tg,Cr.RECORDING_GLOBAL_SAMPLING):this.configuration.malkaUrlEnabled&&csArray.prototype.push.call(this.Tg,Cr.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.Tg,Cr.RECORDING_ETR_SAMPLING),this.Tg.length>0?(this.Sg(t),Cr.RECORDING_TEMPORARILY):Cr.ANALYTICS_ONLY):Cr.ANALYTICS_ONLY},n.prototype.getEligibleCollectState=function(t){return qh.isRecordingSupported()?zo.isRecordingBlockedByConsent(t)?t.collectState===Cr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Cr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:Cr.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:t.collectState===Cr.RECORDING_GLOBAL_SAMPLING?Cr.RECORDING_GLOBAL_SAMPLING:(this.Tg=[],this.configuration.malkaUrlEnabled&&(csArray.prototype.push.call(this.Tg,Cr.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.Tg,Cr.RECORDING_ETR_SAMPLING)),this.Tg.length>0?(this.Sg(t),Cr.RECORDING_TEMPORARILY):(t.etrState===Ir.ETR_ON&&this.Fc.emitCollectStateChange(Cr.ANALYTICS_ONLY,Ir.ETR_ON),Cr.ANALYTICS_ONLY)):Cr.ANALYTICS_ONLY},n.prototype.Sg=function(t){var n,i=null===(n=this.it)||void 0===n?void 0:n.getVisitor();this.Og.send({recordingTypes:csArray.prototype.map.call(this.Tg,Number),url:this.vt.getAnonymizedUrl(),projectId:this.configuration.projectId,uu:(null==i?void 0:i.id)||"",sn:(null==i?void 0:i.visitsCount)||"",pn:(null==t?void 0:t.pageNumber)||""})},n.prototype.abortQuotaServiceRequest=function(){this.Og.abort()},n.prototype.isReplayRecorded=function(t){return!zo.isRecordingBlockedByConsent(t)&&(t.collectState===Cr.RECORDING_TEMPORARILY||t.collectState===Cr.RECORDING_GLOBAL_SAMPLING||t.collectState===Cr.RECORDING_URL_SAMPLING||t.etrState===Ir.ETR_ON)},n.prototype.Ng=function(){var t=this;this.Og.onError((function(){return t.quotaServiceErrorHandler("NetworkError")})),this.Og.onTimeout((function(){return t.quotaServiceTimeoutHandler()}),3e3),this.Og.onLoad((function(n){return t.quotaServiceLoadHandler(n)}))},n.prototype.quotaServiceErrorHandler=function(t){this.kg("error - ".concat(t))},n.prototype.quotaServiceTimeoutHandler=function(){this.kg("timeout")},n.prototype.kg=function(t){var n=Cr.ANALYTICS_ONLY;this.Cg(this.Tg)?(n=Cr.RECORDING_GLOBAL_SAMPLING,Pn.warn("Quota Service: request ".concat(t," - bypassed by GLOBAL_SAMPLING"))):Pn.warn("Quota Service: request ".concat(t)),this.Fc.emitCollectStateChange(n,Ir.ETR_OFF)},n.prototype.quotaServiceLoadHandler=function(t){if(200===t.status){var n;try{n=csJSON.parse(t.responseText)}catch(n){return void this.quotaServiceErrorHandler("Unable to parse the quota service response: ".concat(t.responseText))}var i=null==n.allowedRecordingTypes?void 0:csArray.prototype.map.call(n.allowedRecordingTypes,csString);if(i){var r=Ir.ETR_OFF,e=Cr.ANALYTICS_ONLY;this.Cg(i)?e=Cr.RECORDING_GLOBAL_SAMPLING:this.Ig(i)&&(e=Cr.RECORDING_URL_SAMPLING),this.Mg(i)&&(r=Ir.ETR_ON),this.Fc.emitCollectStateChange(e,r)}else this.quotaServiceErrorHandler("recording types missing from quota service response")}else this.quotaServiceErrorHandler("Status code: ".concat(t.status))},n.prototype.Cg=function(t){return csArray.prototype.some.call(t,(function(t){return t===Cr.RECORDING_GLOBAL_SAMPLING}))},n.prototype.Ig=function(t){return csArray.prototype.some.call(t,(function(t){return t===Cr.RECORDING_URL_SAMPLING}))},n.prototype.Mg=function(t){return csArray.prototype.some.call(t,(function(t){return t===Cr.RECORDING_ETR_SAMPLING}))},n.prototype.setVisitorService=function(t){this.it=t},n.prototype.getInitialCollectState=function(){return Cr.ANALYTICS_ONLY},n.prototype.getRecordingConsentWithdrawn=function(){return Cr.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},mt([Gn("Quota Service: onerror")],n.prototype,"quotaServiceErrorHandler",null),mt([Gn("Quota Service: ontimeout")],n.prototype,"quotaServiceTimeoutHandler",null),mt([Gn("Quota Service: onload")],n.prototype,"quotaServiceLoadHandler",null),n}(nl);var el,sl,ol=function(){function t(){this.xg={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.Dy={elementSelector:"",attrSelector:"",attrSelectors:[]};var t={PIISelectors:At(At(["[data-cs-mask]","#c1_card_info_id",".ctHidden"],Et(["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"]),!1),Et(["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"]),!1),Attributes:[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]};this.Dy=yr.getComputedSelectorSettings(t,this.Dy)}return t.prototype.init=function(){this.Pg()},t.prototype.setMaskedElementSettingsFromCommand=function(t){t=yr.sanitizeSelectorUserInput(t),yr.isSelectorUserInput(t)&&this._g(t)},t.prototype.setMaskedElementSettingsFromParent=function(t){var n={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this._g(n)},t.prototype.getMaskedElementSettings=function(t){return t?this.Dg(this.xg):this.Dy},t.prototype.Pg=function(){var t,n,i,r,e,s,o,u={PIISelectors:[],Attributes:[]};(null===(r=null===(i=null===(n=null===window||void 0===window?void 0:window.ClickTaleSettings)||void 0===n?void 0:n.DOM)||void 0===i?void 0:i.PII)||void 0===r?void 0:r.Text)instanceof Array&&(t=u.PIISelectors).push.apply(t,At([],Et(window.ClickTaleSettings.DOM.PII.Text),!1)),(null===(o=null===(s=null===(e=null===window||void 0===window?void 0:window.ClickTaleSettings)||void 0===e?void 0:e.DOM)||void 0===s?void 0:s.PII)||void 0===o?void 0:o.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach((function(t){R(t.attr)&&R(t.rule)&&u.Attributes.push({selector:t.rule,attrName:t.attr})})),this._g(u)},t.prototype._g=function(t){this.Dy=this.Dg(t)},t.prototype.Dg=function(t){return yr.getComputedSelectorSettings(t,this.Dy)},t}(),ul=function(){function t(t,n,i,r,e){var s=this;this.V=t,this.yt=n,this.J=i,this.Ts=r,this.Fc=e,this.Lg=function(){var t=oi.get(ka);null!==t&&Pa.isValidSessionString(t)?s.pw.canCollect(Pa.fromRawString(t))&&s.init():(s.pw.onQuotaReady((function(t){t!==Cr.QUOTA_REACHED&&s.init()})),s.pw.refreshQuota())}}return t.prototype.initWithQuota=function(){var t;if(!1!==(null===(t=this.V.smbConfig)||void 0===t?void 0:t.record)){var n=new tl(this.V.getQuotaUri(),"",{type:"json",cacheMinutes:15});this.pw=new il(this.V,n,this.Fc),this.pw.init(),this.Lg()}},t.prototype.init=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,E,A,R,O,T,N,k,C,I,M=this;wh.isSupported()&&wh.setDigestSalt(this.V.projectId.toString()),this.Ts.schedule((function(){t=new Kt,n=new Gf(t),r=new bf(window.location,n),(i=new fi(M.V,r,M.yt)).init()})),this.Ts.schedule((function(){e=new xf,s=new Pf,y=new of(window.location,i),(new Zf).init(),w=Mf.create(Pn.warn);var t=(d=new xi(w)).create("".concat(M.V.getLegacyQuotaUri(),"/quota"),!0);void 0===M.pw&&(M.pw=new rl(M.V,t,M.Fc,y,r),M.pw.init())})),this.Ts.schedule((function(){o=new Pa(M.V,i,e),u=new Da(o,M.pw)})),this.Ts.schedule((function(){c=new zf(M.V,i,e),h=new Na(M.V,c,u,M.Fc),M.J.setContext(h,u),M.pw.setVisitorService(h)})),this.Ts.schedule((function(){I=new Ya(M.V,new Ha(M.V,i,s),M.Fc),a=new Ua(h,u,I),f=new Qa(M.V,i,e),l=new Za(window.location,f),v=new tf(l),p=new La(M.V,h,l),k=new Jf(ft,M.V),A=new Yf(k),R=new Wf(k),O=new Xf(k),T=new $f,N=new Of(A,R,O,T),E=new yf([vf.UXA]),m=new lf(E,N),g=new nf(r),S=new ef(g,E);var n=new Df(M.V,i,e);C=new qf(t,n),b=new Ff(E,C);new Pi(h,u,l,C,M.V)})),this.Ts.schedule((function(){new Oa(M.V,h,l,p,a,undefined,undefined,y).compute((function(e){M.Ts.schedule((function(){m.init();var o=new Af,c=new Ja(M.V,E,I,u,M.Fc),a=new cf(M.V,i,s),f=new hf(M.Fc,window.location,a),l=new ff(E,f),y=new pf(E,M.V);var p=new wf(M.V,h,u,undefined);if(e){M.Fc.emitInitTracking();var A=new ol;new Ra(p,w,h,u,M.Fc,E,m,M.V,l,f,c,I,t,k,n,r,y,o,N,C,b,g,S,M.Ts,d,i,s,M.pw,A).start()}else{new Wa(M.Fc,E,m,l,f,v,c).start()}}))}))}))},t}();!function(t){var n,i={loadBundle:function(t){var s,o,u,h,a=t.source,f=t.data;if(r(f)){n=f.token,c(i.loadBundle),e(t.origin)&&(h=function(t,n){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(t,"{version}",n.version),"{token}",n.token),"{domain}",n.domain)}("{domain}/tag/tag.bundle.js?v={version}",f),s=h,o=function(){return a.postMessage("csBundleLoaded",t.origin)},(u=document.createElement("script")).type="text/javascript",u.async=!0,u.src=s,u.onload=o,u.charset="utf-8",document.head.appendChild(u))}}};function r(t){return t&&"csBundleInjection"===t.type&&e(t.domain)&&o(t.version)&&s(t.token)}function e(n){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(n)||t.hjDomainRegex.test(n)}function s(t){return/^[a-zA-Z0-9]+$/.test(t)}function o(t){return/^[a-zA-Z0-9\.]+$/.test(t)}function u(t){window.addEventListener("message",t,!1)}function c(t){window.removeEventListener("message",t,!1)}t.getToken=function(){return n},t.isAuthorizedIncomingMessage=r,t.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/,t.isAuthorizedDomain=e,t.isAuthorizedToken=s,t.isAuthorizedTagVersion=o,t.isActivable=function(){var t=window.opener||window.parent;return window!==t&&window.addEventListener},t.waitForBundleInjection=function(){u(i.loadBundle)},t.listen=u,t.removeListener=c}(el||(el={})),function(t){var n,i,r=window.opener||window.parent,e=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,el.hjDomainRegex],s={ping:function(t){if("ping"===t.data&&o(t.origin)){var r=el.hjDomainRegex.test(t.origin);n=r?"https://app.contentsquare.com":t.origin,i=r?t.origin:void 0,h(s.ping),c(s.insertMessageScript),u("".concat("utils.js","?cb=").concat((new csDate).getTime()))}},insertMessageScript:a((function(t){var n=t.data;"string"==typeof n&&"ping"!==n&&(h(s.insertMessageScript),u(n))}))};function o(t){return csArray.prototype.some.call(e,(function(n){return n.test(t)}))}function u(t,i){var r=document.createElement("script");r.type="text/javascript",r.async=!0;var e=csString.prototype.replace.call(n,/^https?:/,"");r.src="".concat(e,"/").concat("tag","/").concat(t),r.onload=i,r.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(r),function(t){csString.prototype.includes.call(t,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(t,"&mode=")[1])}(t)}function c(t){window.addEventListener("message",t,!1)}function h(t){window.removeEventListener("message",t,!1)}function a(t){return function(r){(r.origin===n||i)&&t(r)}}t.getToken=function(){return el.getToken()},t.isActivable=function(){return window!==r&&window.addEventListener},t.isAuthorizedDomain=o,t.waitForConnection=function(){c(s.ping),el.waitForBundleInjection()},t.listen=c,t.removeListener=h,t.secureListener=a,t.post=function(t){i?r.postMessage(t,i):n&&r.postMessage(t,n)}}(sl||(sl={}));var cl,hl=window.CSFrameCommunication||sl,al=function(t){function n(n){var i=t.call(this)||this;return i.Ts=n,i}return yt(n,t),n.prototype.emitBeforeNaturalPageView=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterNaturalPageView=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterNaturalPageView&&e.onAfterNaturalPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitInitTracking=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onInitTracking&&e.onInitTracking()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitStartTracking=function(t){var n,i,r=function(n){n.onStartTracking&&e.Ts.schedule((function(){return n.onStartTracking(t)}))},e=this;try{for(var s=bt(this.listeners),o=s.next();!o.done;o=s.next()){r(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.emitArtificialPageViewEnd=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd()}catch(t){Pn.error(t)}}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitBeforeArtificialPageView=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeArtificialPageView&&e.onBeforeArtificialPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterArtificialPageView=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterArtificialPageView&&e.onAfterArtificialPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitBeforeSessionRenewal=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeSessionRenewal&&e.onBeforeSessionRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterSessionRenewal=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterSessionRenewal&&e.onAfterSessionRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitOptout=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onOptout&&e.onOptout()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitReplayUnanonymizationConsentGranted=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onReplayUnanonymizationConsentGranted&&e.onReplayUnanonymizationConsentGranted()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitReplayUnanonymizationConsentWithdrawn=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onReplayUnanonymizationConsentWithdrawn&&e.onReplayUnanonymizationConsentWithdrawn()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterReplayRecordingConsentGranted=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterReplayRecordingConsentGranted&&e.onAfterReplayRecordingConsentGranted()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterReplayRecordingConsentWithdrawn=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterReplayRecordingConsentWithdrawn&&e.onAfterReplayRecordingConsentWithdrawn()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitCollectStateChange=function(t,n){var i,r;try{for(var e=bt(this.listeners),s=e.next();!s.done;s=e.next()){var o=s.value;o.onCollectStateChange&&o.onCollectStateChange(t,n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.emitInitialDomStart=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onInitialDomStart&&e.onInitialDomStart()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitInitialDomDone=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onInitialDomDone&&s.onInitialDomDone(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitRecordingContextChange=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onRecordingContextChange&&e.onRecordingContextChange()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitSensitiveStatusChange=function(){var t,n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;null===(i=s.onSensitiveStatusChange)||void 0===i||i.call(s)}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.emitBeforeVisitorRenewal=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeVisitorRenewal&&e.onBeforeVisitorRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterVisitorCleared=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterVisitorCleared&&e.onAfterVisitorCleared()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterVisitorRenewal=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterVisitorRenewal&&e.onAfterVisitorRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},mt([ai("emitStartTracking")],n.prototype,"emitStartTracking",null),n}(Ef),fl=function(){function t(t,n,i){this.V=t,this.kt=n,this.J=i}return t.prototype.start=function(){var t,n,i,r,e;if(!window.UXAnalytics){window.UXAnalytics={};var s=new vs(!!(null===(t=this.V.taskSchedulerOptions)||void 0===t?void 0:t.enabled),null===(n=this.V.taskSchedulerOptions)||void 0===n?void 0:n.maxProcessingTime,null===(i=this.V.taskSchedulerOptions)||void 0===i?void 0:i.waitDuration),o=new vi(this.kt,this.V);o.init();var u=new yi(this.V,o);if(this.kt.isTopWindowTracker()&&u.canTrack()){if((null===(r=window.CSProtectnativeFunctionsLogs)||void 0===r?void 0:r.Warning)&&Pn.warn("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Warning)),null===(e=window.CSProtectnativeFunctionsLogs)||void 0===e?void 0:e.Critical)return void Pn.error("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Critical));var c=new al(s),h=new ul(this.V,o,this.J,s,c);this.V.isQuotaEnabled()?h.initWithQuota():h.init()}else{}var a=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive:function(t){return yr.isMaskedElement(t)||yr.isMaskedElementChild(t)},isAttributeSensitive:function(t,n){return yr.isMaskedAttribute(t,n)},getSensitiveAttributes:function(t){return Oi(t.attributes,(function(n){return yr.isMaskedAttribute(t,n.name)}))}},Console:{warn:function(t){a&&console.warn("cs.tracking.warning",t)},error:function(t){a&&console.error("cs.tracking.error",t)}},Version:Qt},!window.CSFrameCommunication&&hl.isActivable()&&(window.CSFrameCommunication=hl,hl.waitForConnection())}},mt([ai("main.start"),Gn("main.start")],t.prototype,"start",null),t}();!function(t){t.isCSJavascriptBridgeDefined=function(){return"object"==typeof window.CSJavascriptBridge&&"function"==typeof window.CSJavascriptBridge.optIn&&"function"==typeof window.CSJavascriptBridge.optOut&&"function"==typeof window.CSJavascriptBridge.sendEvent&&"function"==typeof window.CSJavascriptBridge.sendDynamicVar&&"function"==typeof window.CSJavascriptBridge.sendTransaction},t.getBridgeVersion=function(){if("function"==typeof window.CSJavascriptBridge.getVersion)try{var t=window.CSJavascriptBridge.getVersion();if(E(t))return t}catch(t){Pn.warn("an error occurred when calling getVersion")}return null},t.notifyIsReadyForTracking=function(){"function"==typeof window.CSJavascriptBridge.onWebviewTrackingReady&&window.CSJavascriptBridge.onWebviewTrackingReady()},t.sendAnalysisEvent=function(t){window.CSJavascriptBridge.sendEvent(csJSON.stringify(t))},t.sendSREvent=function(t){var n,i;if(window.CSJavascriptBridge.sendSREvent)try{for(var r=bt(t.events),e=r.next();!e.done;e=r.next()){var s=e.value;window.CSJavascriptBridge.sendSREvent(csJSON.stringify(s))}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.sendLog=function(t){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(t))},t.sendOptIn=function(){window.CSJavascriptBridge.optIn()},t.sendOptOut=function(){window.CSJavascriptBridge.optOut()},t.sendDynamicVariable=function(t,n){window.CSJavascriptBridge.sendDynamicVar(t,n)},t.sendTransaction=function(t,n,i){window.CSJavascriptBridge.sendTransaction(t,n,i)},t.sendAssets=function(t,n){if(window.CSJavascriptBridge.sendAssets){var i=csJSON.stringify(t);window.CSJavascriptBridge.sendAssets(i,n||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(t,(function(t){return t.assetId})))},t.sendNativeSREvent=function(t){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(t))}}(cl||(cl={}));var ll=function(){function t(){}return t.prototype.send=function(t,n,i){void 0===i&&(i=Mt.warn);var r={message:t,errorCode:n,level:i};cl.sendLog(r)},t}();function vl(){var t=new _t(window.CS_CONF);window._uxa=window._uxa||[],t.processOptionOverrides(window._uxa);var n=new Dt(window,t);n.init();var i=new Mn;if(zn=Pn,Yn=!0,Pn.computeIsActive(t.validationRate),n.isTopWindowTracker()){var r=new pn(t,i);Pn.setStrategy(r)}else if(n.isInIframeContext()){var e=new In(t);Pn.setStrategy(e)}else if(n.isInWebViewContext()){var s=new ll;Pn.setStrategy(s)}ti(),new fl(t,n,i).start()}window.CSCurrentScript=document.currentScript,csSetTimeout((function(){try{t=vl,(null===document||void 0===document?void 0:document.prerendering)?document.addEventListener("prerenderingchange",t,{once:!0}):t()}catch(t){}var t}))}();